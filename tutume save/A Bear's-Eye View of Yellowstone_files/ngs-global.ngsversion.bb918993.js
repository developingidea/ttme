require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=(a("jquery"),a("react")),e=a("react-dom"),f=a("./AccordionDrawer.jsx");Pestle.Module.add("AccordionDrawer",{initialize:function(){var a=this.options.el,b=a.parentNode.querySelector(".ngs-accordion__content"),c="false"===a.getAttribute("data-platform-disable-accordion")?!0:!1,g=function(c){var d=a.querySelector(".ngs-accordion__drawer__container"),e=b;d.appendChild(e)};c&&(b.setAttribute("data-height",b.offsetHeight),e.render(d.createElement(f,{isReact:!1,containingNode:this.options.el,onLoad:g,label:this.options.label,labelClassName:this.options.labelClassName}),a))}})},{"./AccordionDrawer.jsx":2,jquery:"jquery",react:"react","react-dom":"react-dom"}],2:[function(a,b,c){"use strict";var d=a("react"),e=a("velocity-animate"),f=a("lodash/debounce"),g=new d.createClass({propTypes:{label:d.PropTypes.string,labelClassName:d.PropTypes.string,isReact:d.PropTypes.bool,containingNode:d.PropTypes.object,onClick:d.PropTypes.func,onLoad:d.PropTypes.func},componentDidMount:function(){this.ngsAccordionEl=this.props.containingNode,this.props.isReact?(this.ngsAccordionContentEl=this.refs.ngsAccordionContent,this.ngsAccordionContentEl.setAttribute("data-height",this.ngsAccordionContentEl.children[0].offsetHeight)):this.ngsAccordionContentEl=this.ngsAccordionEl.parentNode.querySelector(".ngs-accordion__content"),this.refs.labelContainer.addEventListener("click",this.handleClick),this.refs.labelContainer&&this.props.label&&this.props.label.length>20&&NGS.core_site.sandbox.coreArticleHelpers.truncateText(this.refs.labelContainer);var a=this.closest(this.refs.accordionDrawer,".section");a&&($(a).addClass("ngs-accordion"),a.previousElementSibling&&$(a.previousElementSibling).hasClass("ngs-accordion")||$(a).addClass("ngs-accordion-top"),a.nextElementSibling&&a.nextElementSibling.querySelector('[data-platform-disable-accordion="false"]')||$(a).addClass("ngs-accordion-bottom")),"function"==typeof this.props.onLoad&&this.props.onLoad(this.state.currentlyOpen),Pestle.emit("AccordionDrawer:mounted")},componentWillReceiveProps:function(){this.expandAccordionDrawer(this.state.currentlyOpen)},componentWillUnmount:function(){this.refs.labelContainer.removeEventListener("click",this.handleClick),window.removeEventListener("resize",this.resizeHandler)},getDefaultProps:function(){return{label:"",labelClassName:""}},getInitialState:function(){return this.ngsAccordionEl=null,this.ngsAccordionContentEl=null,this.resizeHandler=f(this.handleResize,250),window.addEventListener("resize",this.resizeHandler),Pestle.on("AccordionDrawer:setHeight",this.resizeHandler),{currentlyOpen:!1}},expandAccordionDrawer:function(a){var b=0,c=0;a===!0&&(c=1,b=this.ngsAccordionContentEl.getAttribute("data-height")),e(this.ngsAccordionContentEl,{maxHeight:b+"px",opacity:c},{easing:"ease-out",duration:200})},handleResize:function(){var a=this.ngsAccordionContentEl&&this.ngsAccordionContentEl.children&&this.ngsAccordionContentEl.children[0]&&this.ngsAccordionContentEl.children[0].offsetHeight?this.ngsAccordionContentEl.children[0].offsetHeight:0;this.ngsAccordionContentEl&&this.ngsAccordionContentEl.setAttribute("data-height",a),this.ngsAccordionContentEl&&this.ngsAccordionContentEl.parentNode&&$(this.ngsAccordionContentEl.parentNode).hasClass("open")&&e(this.ngsAccordionContentEl,{maxHeight:a+"px"},{easing:"ease-out",duration:200})},closest:function(a,b){for(var c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector;a&&!c.call(a,b);)a=a.parentElement;return a},handleClick:function(a){var b=this;this.setState({currentlyOpen:!this.state.currentlyOpen},function(){b.expandAccordionDrawer(b.state.currentlyOpen)})},render:function(){var a=this.state.currentlyOpen?"open":"closed";return this.props.isReact?d.createElement("div",{ref:"accordionDrawer",className:"ngs-accordion__drawer__container "+a},d.createElement("div",{ref:"labelContainer",className:"ngs-accordion__drawer__header "+this.props.labelClassName},this.props.label),d.createElement("div",{ref:"ngsAccordionContent",className:"ngs-accordion__content"},this.props.children)):d.createElement("div",{ref:"accordionDrawer",className:"ngs-accordion__drawer__container "+a},d.createElement("div",{ref:"labelContainer",className:"ngs-accordion__drawer__header "+this.props.labelClassName},this.props.label))}});b.exports=g},{"lodash/debounce":"lodash/debounce",react:"react","velocity-animate":"velocity-animate"}],3:[function(a,b,c){"use strict";var d=a("react"),e=a("./AdEditMode.jsx"),f=a("./AdUnit.jsx"),g=a("react-lazy-load"),h=d.createClass({displayName:"Ad",shouldComponentUpdate:function(a,b){return a.adConfig!==this.props.adConfig&&a.globalAdConfig!==this.props.globalAdConfig},render:function(){return this.props.adConfig.dimensions?this.props.globalAdConfig.usePlaceholders?d.createElement(e,this.props):this.props.adConfig.lazy?d.createElement(g,{offsetVertical:this.props.globalAdConfig.adLoadBuffer},d.createElement(f,this.props)):d.createElement(f,this.props):null}});b.exports=h},{"./AdEditMode.jsx":4,"./AdUnit.jsx":5,react:"react","react-lazy-load":"react-lazy-load"}],4:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"AdEditMode",propTypes:{adConfig:d.PropTypes.shape({adUnitId:d.PropTypes.string.isRequired,dimensions:d.PropTypes.string.isRequired}).isRequired,globalAdConfig:d.PropTypes.shape({breakpoint:d.PropTypes.string.isRequired}).isRequired},render:function(){var a,b=this.props.adConfig.dimensions.split(",")[0],c=parseInt(b.split("x")[0],10),e=parseInt(b.split("x")[1],10),f=this.props.adConfig.adUnitId.split("/")[4];return a={width:c,minHeight:e},d.createElement("div",{className:"adunit adUnit--editmode ",style:a},d.createElement("h3",null,f),d.createElement("p",null,"Sizes (",this.props.globalAdConfig.breakpoint," breakpoint): ",this.props.adConfig.dimensions))}});b.exports=e},{react:"react"}],5:[function(a,b,c){"use strict";var d,e,f=a("react"),g=a("jquery"),h=a("lodash/defer"),i=f.createClass({displayName:"AdUnit",propTypes:{adConfig:f.PropTypes.shape({adUnitId:f.PropTypes.string.isRequired,adConfigKey:f.PropTypes.string.isRequired,dimensions:f.PropTypes.string.isRequired,timedRefresh:f.PropTypes.bool,galleryRefresh:f.PropTypes.bool,presentationGalleryRefresh:f.PropTypes.bool}).isRequired,globalAdConfig:f.PropTypes.shape({base:f.PropTypes.object.isRequired,refreshRate:f.PropTypes.number}).isRequired},getInitialState:function(){return e=this.props.globalAdConfig.base,this.canRefresh=!0,this.isPresentationModeAd=!1,{refresh:0}},getDefaultProps:function(){return{refreshRate:15}},refreshAd:function(){var a=this,b=a.refs.adunit,c="viewability"===e.ads.globalAdConfig.favorability?e.coreArticleHelpers.isElementInViewport(b):!0,d=PresentationGalleryOpen||!1,f=this.isPresentationModeAd?!1:d;a.isMounted()&&c&&a.canRefresh&&!f&&(a.setState({refresh:a.state.refresh+1}),a.canRefresh=!1,setTimeout(function(){a.canRefresh=!0},2e3))},setRefreshAtInterval:function(){var a=this,b=e.ads.globalAdConfig.activeEngagementInterval||120;b=1e3*b,e.activeEngagement.start(b),e.activeEngagement.onUserIdle(function(){e.log.info("NGS Active Engagement: User is Idle")}),e.activeEngagement.onUserActive(function(){e.log.info("NGS Active Engagement: User is Active")}),d=setInterval(function(){var b=g(a.refs.adunit).hasClass("ad--large");e.activeEngagement.isUserActive()&&!b&&a.refreshAd()},1e3*a.props.refreshRate)},setRefreshListener:function(a){Pestle.on(a,this.refreshAd)},callAd:function(){var a=this,b=g(a.refs.adunit);h(function(a){e.ads.dfpCall(a)},b)},componentDidMount:function(){this.callAd(),this.props.adConfig.timedRefresh&&this.setRefreshAtInterval(this.props.refreshRate),this.props.adConfig.galleryRefresh&&this.setRefreshListener("AdRefresh_Gallery"),this.props.adConfig.presentationGalleryRefresh&&(this.isPresentationModeAd=!0,this.setRefreshListener("AdRefresh_PresentationGallery"))},componentDidUpdate:function(){this.callAd()},componentWillUnmount:function(){clearInterval(d)},render:function(){var a='{"refresh":"'+this.state.refresh+'"}',b=this.state.refresh;return f.createElement("div",{key:b,ref:"adunit",className:"adunit","data-adunit":this.props.adConfig.adUnitId,"data-size-mapping":this.props.adConfig.adConfigKey,"data-dimensions":this.props.adConfig.dimensions,"data-targeting":a})}});b.exports=i},{jquery:"jquery","lodash/defer":"lodash/defer",react:"react"}],6:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react"),f=a("react-dom"),g=a("./ViableComponentExceptions.js"),h=a("../../Ad/Ad.jsx"),i=function(a,b,c){b=d.extend({adIntervals:{desktop:parseInt(d("meta[name='dfp:bigWebAdInterval']").attr("content"))||1700,tablet:parseInt(d("meta[name='dfp:tabletAdInterval']").attr("content"))||1700,mobile:parseInt(d("meta[name='dfp:mobileAdInterval']").attr("content"))||1700},maxAdCounts:{desktop:parseInt(d("meta[name='dfp:bigWebMaxAdCount']").attr("content"))||5,tablet:parseInt(d("meta[name='dfp:tabletMaxAdCount']").attr("content"))||5,mobile:parseInt(d("meta[name='dfp:mobileMaxAdCount']").attr("content"))||5},cssClass:""},b);var i=d("<div class='adSlotDynamic-slot"+b.cssClass+"' />");this.render=function(){for(var j=a.children(),k=0,l=0,m=b.adIntervals[b.breakpoint],n=b.maxAdCounts[b.breakpoint],o=0;o<j.length&&n>l;o++){var p=d(j[o]),q=!1;k+=p.height(),0===l?p.hasClass("text")&&(q=!0):k>=m&&(q=!0);g(p);if(q&&g(p)){var r=i.clone();p.after(r),k=0,l++;var s=b.base.ads.getIndividualAdConfig(c);s.lazy=!0,s.galleryRefresh=!0,f.render(e.createElement(h,{globalAdConfig:b,adConfig:s}),r.get(0))}}}};b.exports=i},{"../../Ad/Ad.jsx":3,"./ViableComponentExceptions.js":7,jquery:"jquery",react:"react","react-dom":"react-dom"}],7:[function(a,b,c){"use strict";var d=function(a,b){return a.hasClass("rightRailSlot")?!1:a.parents(".rightRailSlot").length?!1:a.find(".media--xsmall").length?!1:a.hasClass("smartbody")&&a.find("h2").length?!1:!0};b.exports=d},{}],8:[function(a,b,c){"use strict";a("es5-shim");var d=a("../../../Common/Mixins/PortalComponentMixin.jsx"),e=a("react"),f=(a("../../Ad/Ad.jsx"),e.createClass({displayName:"HubBoxAd",mixins:[d],renderLayer:function(){var a="desktop"===this.props.breakpoint?!0:!1;return e.createElement("div",{className:"hub-box-ad "},a?e.createElement("span",{className:"bumper--bottom bumper--add-margin"}):"",a?e.createElement("span",{className:"bumper--top"}):"",e.createElement("div",{className:"hub-box-ad__sticky-wrap sticky-component","data-desktop-only":"true"},e.createElement("div",{className:"sticky-component__section"},this.props.children)))}}));b.exports=f},{"../../../Common/Mixins/PortalComponentMixin.jsx":24,"../../Ad/Ad.jsx":3,"es5-shim":"es5-shim",react:"react"}],9:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react"),f=a("lodash/defer"),g=e.createClass({displayName:"OutOfPage",callAd:function(){var a=this,b=d(a.refs.adunit);f(function(b){a.props.globalAdConfig.base.ads.dfpCall(b,!1)},b)},componentDidMount:function(){this.callAd()},render:function(){return e.createElement("div",{ref:"adunit","data-adunit":this.props.adConfig.adUnitId,"data-outofpage":"true"})}});b.exports=g},{jquery:"jquery","lodash/defer":"lodash/defer",react:"react"}],10:[function(a,b,c){"use strict";a("es5-shim");var d=a("../../../Common/Mixins/PortalComponentMixin.jsx"),e=a("react"),f=e.createClass({displayName:"SingleAd",mixins:[d],renderLayer:function(){return e.createElement("div",{className:"ad-single"},this.props.children)}});b.exports=f},{"../../../Common/Mixins/PortalComponentMixin.jsx":24,"es5-shim":"es5-shim",react:"react"}],11:[function(a,b,c){"use strict";a("es5-shim");var d=a("../../../Common/Mixins/PortalComponentMixin.jsx"),e=a("react"),f=(a("../../Ad/Ad.jsx"),e.createClass({displayName:"StickyBoxAd",mixins:[d],renderLayer:function(){return e.createElement("div",{className:"sticky-component sticky-box-ad","data-desktop-only":"true"},e.createElement("div",{className:"sticky-component__section"},this.props.children))}}));b.exports=f},{"../../../Common/Mixins/PortalComponentMixin.jsx":24,"../../Ad/Ad.jsx":3,"es5-shim":"es5-shim",react:"react"}],12:[function(a,b,c){"use strict";a("es5-shim");var d=a("../../../Common/Mixins/PortalComponentMixin.jsx"),e=(a("../StickyLeaderboard/StickyLeaderboard.jsx"),a("react")),f=(a("../../Ad/Ad.jsx"),e.createClass({displayName:"StickyHeaderRightAd",mixins:[d],getInitialState:function(){return{visible:!1}},componentWillMount:function(){var a=this;Pestle.once("dfpcall:contentchanged_header",function(b,c){var d=NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint();c.size[0]<970&&"desktop"===d&&a.setState({visible:!0})})},renderLayer:function(){return e.createElement("div",{className:"sticky-rightheaderad__wrapper"},this.state.visible?this.props.children:null)}}));b.exports=f},{"../../../Common/Mixins/PortalComponentMixin.jsx":24,"../../Ad/Ad.jsx":3,"../StickyLeaderboard/StickyLeaderboard.jsx":13,"es5-shim":"es5-shim",react:"react"}],13:[function(a,b,c){"use strict";a("es5-shim");var d=a("../../../Common/Mixins/PortalComponentMixin.jsx"),e=a("react"),f=(a("../../Ad/Ad.jsx"),e.createClass({displayName:"StickyLeaderboard",mixins:[d],renderLayer:function(){return e.createElement("div",{className:"sticky-leaderboard__placeholder bumper--bottom"},e.createElement("span",{className:"bumper--top bumper--leaderboard"}),e.createElement("div",{className:"sticky-leaderboard__wrap sticky-component"},e.createElement("div",{className:"sticky-leaderboard"},e.Children.toArray(this.props.children))))}}));b.exports=f},{"../../../Common/Mixins/PortalComponentMixin.jsx":24,"../../Ad/Ad.jsx":3,"es5-shim":"es5-shim",react:"react"}],14:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=(a("../../Common/Mixins/PortalComponentMixin.jsx"),a("../AdTypes/StickyLeaderboard/StickyLeaderboard.jsx")),g=a("../AdTypes/StickyHeaderRightAd/StickyHeaderRightAd.jsx"),h=a("../AdTypes/StickyBoxAd/StickyBoxAd.jsx"),i=a("../AdTypes/SingleAd/SingleAd.jsx"),j=a("../AdTypes/OutOfPage/OutOfPage.jsx"),k=a("../AdTypes/HubBoxAd/HubBoxAd.jsx"),l=a("../Ad/Ad.jsx"),m=a("../AdTypes/DynamicAds/DynamicAds"),k=a("../AdTypes/HubBoxAd/HubBoxAd.jsx"),n=e.createClass({displayName:"ArticleAds",propTypes:{base:e.PropTypes.object.isRequired,template:e.PropTypes.string},getInitialState:function(){return this.afterAdsFunctionCalled=!1,{renderBaseAds:!0}},componentWillMount:function(){var a=this;deepLinkProvided&&(a.setState({renderBaseAds:!1}),Pestle.on("FireBaseAds",function(){a.isMounted()&&a.setState({renderBaseAds:!0})}))},afterRenderingBaseAds:function(){if("desktop"!==this.props.base.ads.globalAdConfig.breakpoint){var a=d(".paragraphs .content");if(a){var b=new m(a,this.props.base.ads.globalAdConfig,"article_dynamic");b.render()}}"interactive"!==this.props.template&&(this.props.base.stickyBehavior.initStickiness("article",this.props.base,"leaderboard"),this.props.base.stickyBehavior.initStickiness("article",this.props.base,"boxad")),this.props.base.stickyBehavior.initStickiness("article",this.props.base,"commentsBoxAd"),this.afterAdsFunctionCalled=!0},componentDidUpdate:function(){this.state.renderBaseAds&&!this.afterAdsFunctionCalled&&this.afterRenderingBaseAds()},componentDidMount:function(){this.state.renderBaseAds&&!this.afterAdsFunctionCalled&&this.afterRenderingBaseAds()},render:function(){if(!this.state.renderBaseAds)return!1;var a=this.props.base,b=a.ads.globalAdConfig,c=[],m=0,n=d(".ad-holder");return d(n).each(function(){var n,o=d(this),p=o.attr("id")||null,q=o.data("adComponent"),r=o.data("adConfigKey");if(n=a.ads.getIndividualAdConfig(r),"stickyComposedLeaderboard"===q){"desktop"!==b.breakpoint&&(n.timedRefresh=!0),n.lazy=!0,n.galleryRefresh=!0;var s=a.ads.getIndividualAdConfig(o.data("adConfigSecondaryKey"));s.lazy=!1,s.galleryRefresh=!0,c.push(e.createElement(f,{key:m++,adKey:m++,targetDivId:p},e.createElement(l,{globalAdConfig:b,adConfig:n}),e.createElement("div",{id:"header-right-ad",className:"sticky-headerrightad"}),e.createElement(g,{targetDivId:"header-right-ad",adKey:m++},e.createElement(l,{globalAdConfig:b,adConfig:s}))))}else"stickyLeaderboard"===q?("desktop"!==b.breakpoint&&(n.timedRefresh=!0),n.lazy=!0,n.galleryRefresh=!0,c.push(e.createElement(f,{key:m++,adKey:m++,targetDivId:p},e.createElement(l,{globalAdConfig:b,adConfig:n})))):"stickyBoxAd"===q?(n.lazy=!0,"desktop"===b.breakpoint&&(n.timedRefresh=!0),n.galleryRefresh=!0,c.push(e.createElement(h,{key:m++,adKey:m++,targetDivId:p},e.createElement(l,{globalAdConfig:b,adConfig:n})))):"boxAd"===q?(n.lazy=!0,n.galleryRefresh=!0,c.push(e.createElement(k,{key:m++,breakpoint:b.breakpoint,targetDivId:p},e.createElement(l,{globalAdConfig:b,adConfig:n})))):"single"===q?("pixel"!==r&&(n.lazy=!0),c.push(e.createElement(i,{key:m++,adKey:m++,targetDivId:p},e.createElement(l,{globalAdConfig:b,adConfig:n})))):"outOfPage"===q&&b.outOfPageEnabled&&c.push(e.createElement(i,{key:m++,adKey:m++,targetDivId:p},e.createElement(j,{globalAdConfig:b,adConfig:n})))}),e.createElement("div",null,c)}});b.exports=n},{"../../Common/Mixins/PortalComponentMixin.jsx":24,"../Ad/Ad.jsx":3,"../AdTypes/DynamicAds/DynamicAds":6,"../AdTypes/HubBoxAd/HubBoxAd.jsx":8,"../AdTypes/OutOfPage/OutOfPage.jsx":9,"../AdTypes/SingleAd/SingleAd.jsx":10,"../AdTypes/StickyBoxAd/StickyBoxAd.jsx":11,"../AdTypes/StickyHeaderRightAd/StickyHeaderRightAd.jsx":12,"../AdTypes/StickyLeaderboard/StickyLeaderboard.jsx":13,"es5-shim":"es5-shim",jquery:"jquery",react:"react"}],15:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=a("../../Common/Mixins/PortalComponentMixin.jsx"),g=a("../AdTypes/StickyLeaderboard/StickyLeaderboard.jsx"),h=a("../AdTypes/StickyHeaderRightAd/StickyHeaderRightAd.jsx"),i=a("../AdTypes/HubBoxAd/HubBoxAd.jsx"),j=a("../AdTypes/SingleAd/SingleAd.jsx"),k=a("../AdTypes/OutOfPage/OutOfPage.jsx"),l=a("../Ad/Ad.jsx"),m=e.createClass({displayName:"HorizontalRule",mixins:[f],renderLayer:function(){return e.createElement("hr",{className:"multi-layout-promos__hr multi-layout-promos__hr--large"})}}),n=e.createClass({displayName:"HubAds",propTypes:{base:e.PropTypes.object.isRequired},componentDidMount:function(){this.props.base.stickyBehavior.initStickiness("hub",this.props.base)},render:function(){var a=this.props.base,b=a.ads.globalAdConfig,c=[],f="",n=0,o=!1,p=!1;"desktop"!==b.breakpoint&&(o=!0);var q=d(".ad-holder");return d(q).each(function(){var q,r=d(this),s=r.attr("id")||null,t=r.data("adComponent"),u=r.data("adConfigKey");if(q=a.ads.getIndividualAdConfig(u),"stickyComposedLeaderboard"===t){var v=!0,w=a.ads.getIndividualAdConfig(r.data("adConfigSecondaryKey"));w.lazy=!1,w.galleryRefresh=!0,o&&p?v=!1:v&&"leaderboard"===f&&(v=!1),v?(o&&(q.timedRefresh=!0),q.lazy=!0,c.push(e.createElement(g,{key:n++,adKey:n++,targetDivId:s},e.createElement(l,{globalAdConfig:b,adConfig:q}),e.createElement("div",{id:"header-right-ad",className:"sticky-headerrightad"}),e.createElement(h,{targetDivId:"header-right-ad",adKey:n++,globalAdConfig:b,adConfig:w}))),f="leaderboard"):c.push(e.createElement(m,{key:n++,targetDivId:s})),p=!0}else if("stickyLeaderboard"===t){var v=!0;o&&p?v=!1:v&&"leaderboard"===f&&(v=!1),v?(o&&(q.timedRefresh=!0),q.lazy=!0,c.push(e.createElement(g,{key:n++,targetDivId:s},e.createElement(l,{globalAdConfig:b,adConfig:q}))),f="leaderboard"):c.push(e.createElement(m,{key:n++,targetDivId:s})),p=!0}else"boxAd"===t?(q.lazy=!0,c.push(e.createElement(i,{key:n++,breakpoint:b.breakpoint,targetDivId:s},e.createElement(l,{globalAdConfig:b,adConfig:q}))),f="box"):"single"===t?("pixel"!==u&&(q.lazy=!0),c.push(e.createElement(j,{key:n++,targetDivId:s},e.createElement(l,{globalAdConfig:b,adConfig:q})))):"outOfPage"===t&&b.outOfPageEnabled&&c.push(e.createElement(j,{key:n++,targetDivId:s},e.createElement(k,{globalAdConfig:b,adConfig:q})))}),e.createElement("div",null,c)}});b.exports=n},{"../../Common/Mixins/PortalComponentMixin.jsx":24,"../Ad/Ad.jsx":3,"../AdTypes/HubBoxAd/HubBoxAd.jsx":8,"../AdTypes/OutOfPage/OutOfPage.jsx":9,"../AdTypes/SingleAd/SingleAd.jsx":10,"../AdTypes/StickyHeaderRightAd/StickyHeaderRightAd.jsx":12,"../AdTypes/StickyLeaderboard/StickyLeaderboard.jsx":13,"es5-shim":"es5-shim",jquery:"jquery",react:"react"}],16:[function(a,b,c){"use strict";var d=a("react"),e=a("../CallToActionButton/CallToActionButton.jsx"),f=d.PropTypes,g=d.createClass({displayName:"AnimatedScrollToButton",propTypes:{className:f.string,enabled:f.bool,groupId:f.string,iconClass:f.string,label:f.string,onClick:f.func,location:f.object.isRequired,alt:f.string},scrollToComments:function(){this.props.location.velocity("scroll",{duration:500,delay:200})},render:function(){var a=this.props,b={groupId:a.groupId,type:"button",label:a.label,path:null,target:"_self",iconClass:a.iconClass,enabled:a.enabled,className:a.className,alt:a.alt,onClick:this.scrollToComments};return d.createElement(e,b)}});b.exports=g},{"../CallToActionButton/CallToActionButton.jsx":21,react:"react"}],17:[function(a,b,c){"use strict";var d=a("@natgeo/pestle"),e=a("@natgeo/modules-audio");d.Module.add("Audio",{isLoaded:!1,initialize:function(){e({el:this.el,id:this.options.id,title:this.options.title,heading:this.options.heading,caption:this.options.caption,thumbnailUrl:this.options.thumbnail,audioFileUrl:this.options.audioFileUrl,credit:this.options.credit,showThumbnail:this.options.showThumbnail,showTitle:this.options.showTitle,showCaption:this.options.showCaption,showCredit:this.options.showCredit}),this.isLoaded=!0}})},{"@natgeo/modules-audio":"@natgeo/modules-audio","@natgeo/pestle":"@natgeo/pestle"}],18:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle");window.ngsPlayer=a("modules-video"),e.Module.add("BackgroundVideo",{createPlayer:function(a){return a.guid=a.videoguid,ngsPlayer.init(a)},initialize:function(){return d(document).ready(function(a){return function(){return a.createPlayer(a.options),a.sandbox.log.info("BackgroundVideo component initialized:")}}(this))}})},{"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery","modules-video":"modules-video"}],19:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"Contributor",propTypes:{contributor:d.PropTypes.shape({role:d.PropTypes.string,name:d.PropTypes.string,url:d.PropTypes.string,affiliation:d.PropTypes.string}).isRequired},render:function(){return d.createElement("span",{className:"byline-component__contributors"},this.props.contributor.role?d.createElement("span",null,this.props.contributor.role," "):null,this.props.contributor.url&&this.props.contributor.name?d.createElement("a",{href:this.props.contributor.url},d.createElement("b",null,d.createElement("span",{itemProp:"name"},this.props.contributor.name))):null,!this.props.contributor.url&&this.props.contributor.name?d.createElement("b",null,d.createElement("span",{itemProp:"name"},this.props.contributor.name)):null,this.props.contributor.affiliation?d.createElement("span",{itemProp:"affiliation",itemScope:"itemscope",itemType:"http://schema.org/Organization",dangerouslySetInnerHTML:{__html:", "+this.props.contributor.affiliation}}):null,d.createElement("br",null))}}),f=d.createClass({displayName:"Contributors",propTypes:{contributorType:d.PropTypes.string.isRequired,contributors:d.PropTypes.array.isRequired},returnPrefix:function(){var a;switch(this.props.contributorType){case"writers":a="By ";break;case"photographers":a="Photographs by ";break;case"illustrators":a="Illustrations by ";break;case"researchers":a="Research by ";break;case"others":a=null;break;default:a=null}return a},render:function(){var a=this.props.contributors.length>0?this.returnPrefix():null;return d.createElement("div",{itemProp:"creator",itemScope:"itemscope",itemType:"http://schema.org/Person",className:"byline-component__category byline-component__contributor"},a,this.props.contributors.map(function(a,b){return d.createElement(e,{key:b,contributor:a})}))}}),g=d.createClass({displayName:"Byline",propTypes:{publishDate:d.PropTypes.string,writers:d.PropTypes.array,photographers:d.PropTypes.array,illustrators:d.PropTypes.array,researchers:d.PropTypes.array,others:d.PropTypes.array,hideBylines:d.PropTypes.bool.isRequired,hidePublishDate:d.PropTypes.bool.isRequired,publishDateFormat:d.PropTypes.string,fullDateTime:d.PropTypes.string},render:function(){var a=this.props.writers.length+this.props.photographers.length+this.props.illustrators.length+this.props.researchers.length+this.props.others.length,b=["writers","photographers","illustrators","researchers","others"],c=[],e=this;return!this.props.hideBylines&&a>0||!this.props.hidePublishDate&&this.props.publishDate?!this.props.hideBylines&&a>0?(b.forEach(function(a,b){e.props[a].length>0&&c.push(d.createElement(f,{key:b,contributorType:a,contributors:e.props[a]}))}),!this.props.hidePublishDate&&this.props.publishDate?d.createElement("div",{className:"byline-component"},c,d.createElement("div",{className:"byline-component__publish"},d.createElement("p",null,"PUBLISHED ",d.createElement("time",{itemProp:"datePublished",dateTime:this.props.fullDateTime},this.props.publishDate)))):d.createElement("div",{className:"byline-component"},c)):!this.props.hidePublishDate&&this.props.publishDate?d.createElement("div",{className:"byline-component"},d.createElement("div",{className:"byline-component__publish"},d.createElement("p",null,"PUBLISHED ",d.createElement("time",{itemProp:"datePublished",dateTime:this.props.fullDateTime},this.props.publishDate)))):void 0:null}});b.exports=g},{react:"react"}],20:[function(a,b,c){"use strict";var d=a("react"),e=a("react-dom"),f=a("lodash/merge"),g=a("./CallToActionButton.jsx");Pestle.Module.add("CallToActionButton",{isLoaded:!1,render:function(a,b,c){e.render(d.createElement(g,a),b,c)},update:function(a,b){this.render(f(this.model,a),this.el,b)},initialize:function(){this.model=this.options,this.model.action=function(){console.log("CTA Click!")},this.model.actionFocus=function(){console.log("CTA Focus!")};var a=this;this.render({groupId:this.model.guid,type:this.model.type,label:this.model.label,path:this.model.path,target:this.model.target,iconClass:this.model.iconClass,onClick:this.model.action,onFocus:this.model.actioFocus},this.el,function(){a.isLoaded=!0,a.sandbox.log.info("is loaded.")})}}),b.exports=g},{"./CallToActionButton.jsx":21,"lodash/merge":"lodash/merge",react:"react","react-dom":"react-dom"}],21:[function(a,b,c){"use strict";var d=a("react"),e=d.PropTypes,f=a("../Common/Icon/Icon.jsx"),g=a("lodash/capitalize"),h=a("lodash/get"),i=d.createClass({displayName:"CallToActionButton",propTypes:{className:e.string,type:e.oneOf(["button","textLink"]).isRequired,enabled:e.bool,groupId:e.string,iconClass:e.string,label:e.string,alt:e.string,onClick:e.func,onFocus:e.func,onBlur:e.func,path:e.string,title:e.string,target:e.oneOf(["_self","_blank"]).isRequired},getDefaultProps:function(){return{enabled:!0,groupId:"generic",className:""}},render:function(){this.isTextLink="textLink"===this.props.type;var a={title:this.props.title,href:this.props.path,target:this.props.target,className:this.props.className+" cta "+(this.isTextLink?"cta-textLink ":"cta-button "),onClick:this.handleEvent,onFocus:this.handleEvent,onBlur:this.handleEvent,ngsIsEdit:NGS.core_site.sandbox.aem.isEditMode()};this.props.enabled||(a.className+=" cta--disabled "),a.ngsIsEdit&&this.props.path&&"#"!==this.props.path[0]&&(a.className+=" cta--ngs-is-edit ",a.onClick=function(b){NGS.core_site.sandbox.log.info("Prevented CTA from addressing the link "+a.href),b.stopPropagation(),b.preventDefault()}),this.props.className||(this.isTextLink?a.className+="mt_btn mt_btn--naked ":a.className+="mt_btn "+(this.props.enabled?"mt_btn--primary ":"mt_btn--disabled "));var b=this.props.iconClass?d.createElement(f,{type:"cta-icon "+this.props.iconClass,align:"left",label:this.props.label,alt:this.props.alt}):this.props.label;return this.isTextLink?d.createElement("a",a,b):d.createElement("button",a,b)},handleEvent:function(a){if("click"===a.type&&this.props.enabled&&!this.isTextLink&&this.props.path&&window.open(this.props.path,this.props.target),this.props.enabled||this.isTextLink){var b=h(this.props,"on"+g(a.type));"function"==typeof b&&b.apply(this,arguments)}else a.preventDefault(),a.stopPropagation()}});b.exports=i},{"../Common/Icon/Icon.jsx":23,"lodash/capitalize":"lodash/capitalize","lodash/get":"lodash/get",react:"react"}],22:[function(a,b,c){"use strict";var d=a("react"),e=a("react-dom"),f=a("./Icon.jsx"),g=a("lodash/isArray"),h=a("lodash/each");Pestle.Module.add("Icon",{isLoaded:!1,initialize:function(){var a,b=this;this.model=this.options.model,g(this.model.type)||(this.model.type=[this.model.type]);var c=$("<div/>").appendTo(this.options.el);h(this.model.type,function(g,h){a=h<b.model.type.length/2?"left":"right",e.render(d.createElement(f,{type:g,label:g+" | "+a+" aligned. ",align:a}),c.append("<span/>").children().last()[0])}),this.isLoaded=!0,this.sandbox.log.info("is loaded.")}}),b.exports=f},{"./Icon.jsx":23,"lodash/each":"lodash/each","lodash/isArray":"lodash/isArray",react:"react","react-dom":"react-dom"}],23:[function(a,b,c){"use strict";var d=a("react"),e=(d.PropTypes,d.createClass({displayName:"Icon",propTypes:function(){return{align:d.PropTypes.oneOf(["left","right"]),label:d.PropTypes.string,type:d.PropTypes.string.isRequired,alt:d.PropTypes.string}},getDefaultProps:function(){return{align:"left"}},render:function(){var a="right"===this.props.align?this.props.label:void 0,b="left"===this.props.align?this.props.label:void 0;return d.createElement("span",{className:"icon icon--align-"+this.props.align},a,d.createElement("i",{className:"icongs "+this.props.type},this.props.label?void 0:d.createElement("span",{className:"sr-only"},this.props.alt)),b)}}));b.exports=e},{react:"react"}],24:[function(a,b,c){"use strict";a("es5-shim");var d=a("react"),e=a("react-dom"),f={componentWillUnmount:function(){this._unrenderLayer(),this.props.portal||document.body.removeChild(this._target)},componentDidUpdate:function(){this._renderLayer()},componentDidMount:function(){this.props.targetDivId?this._target=document.getElementById(this.props.targetDivId):(this._target=document.createElement("div"),document.body.appendChild(this._target)),this._renderLayer()},_renderLayer:function(){e.render(this.renderLayer(),this._target)},_unrenderLayer:function(){d.unmountComponentAtNode(this._target)},render:function(){return this.props.targetDivId?d.createElement("span",{className:"portalComponentFailure"}):this.renderLayer()}};b.exports=f},{"es5-shim":"es5-shim",react:"react","react-dom":"react-dom"}],25:[function(a,b,c){"use strict";var d=a("react"),e=a("./GenericLink.jsx"),f=a("./UnorderedList.jsx"),g=d.createClass({displayName:"DropDown",propTypes:{items:d.PropTypes.array.isRequired,cssClass:d.PropTypes.string,includeClose:d.PropTypes.bool,onClose:d.PropTypes.func,addDataSelectAttribute:d.PropTypes.bool},getDefaultProps:function(){return{items:[],cssClass:"",includeClose:!1,addDataSelectAttribute:!1}},closeParentDropdown:function(){"function"==typeof this.props.onClose&&this.props.onClose()},render:function(){var a=this,b=this.props.items.map(function(b){return a.props.addDataSelectAttribute?d.createElement(e,{item:b,"data-select":"true"}):d.createElement(e,{item:b})});return d.createElement(f,{cssClass:this.props.cssClass,items:b})}});b.exports=g},{"./GenericLink.jsx":26,"./UnorderedList.jsx":31,react:"react"}],26:[function(a,b,c){"use strict";var d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e=a("react"),f=e.createClass({displayName:"GenericLink",propTypes:{item:e.PropTypes.object.isRequired},getDefaultProps:function(){return{item:{linkUrl:"",linkText:"",linkTarget:"",linkSeoTitle:"",linkTrackingCode:""}}},render:function(){var a=this.props.item.linkTarget?this.props.item.linkTarget:"_blank",b=this.props.item.linkTrackingCode?this.props.item.linkUrl+this.props.item.linkTrackingCode:this.props.item.linkUrl,c=this.props.item.linkSeoTitle?this.props.item.linkSeoTitle:this.props.item.linkText;return e.createElement("a",d({href:b,title:c,target:a},this.props),this.props.item.linkText)}});b.exports=f},{react:"react"}],27:[function(a,b,c){"use strict";var d=a("react"),e=a("../../../Picturefill/PictureFill.jsx"),f=a("../../../Picturefill/YourShotPictureFill.jsx"),g=a("../../../Picturefill/getPictureFillFormats.js"),h=a("react-lazy-load"),i=d.createClass({displayName:"ImageFramed",propTypes:{image:d.PropTypes.shape({url:d.PropTypes.string.isRequired,altText:d.PropTypes.alt,circleFrame:d.PropTypes.bool,frameAspectRatio:d.PropTypes.number,imageCrop:d.PropTypes.string,isYourShotImage:d.PropTypes.bool,aspectRatio:d.PropTypes.number,isVideo:d.PropTypes.bool,lazyLoad:d.PropTypes.bool,widthOverride:d.PropTypes.string,sizes:d.PropTypes.object}).isRequired,onLoad:d.PropTypes.func,onRendered:d.PropTypes.func},load:function(){this.props.image.lazyLoad&&(this.props.image.aspectRatio>0?this.refs.image.load():this.refs.lazyLoad.lazyLoadHandler())},render:function(){var a,b=this.props.image,c=100*b.frameAspectRatio,i="framed-image-wrap",j={paddingBottom:c+"%"},k=b.circleFrame?"50%":"0";if(b.aspectRatio>0){var l,m,n,o=100*b.aspectRatio;if(a={paddingBottom:o+"%"},b.imageCrop)switch(b.imageCrop){case"ImmersiveLeadHorizontal":o=75;break;case"ImmersiveLeadVertical":o=133}if(l=c>=o?!0:!1,i+=l?" framed-image-wrap--horizontal":" framed-image-wrap--vertical",b.letterbox)if(i+=" framed-image-wrap--letterboxed ",m={position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%"},l)i+=" framed-image-wrap--letterboxed--horizontal",n={display:"inline-block",height:"auto",width:"100%",verticalAlign:"middle"};else{var p=c/o*100;i+=" framed-image-wrap--letterboxed--vertical",n={position:"relative",display:"inline-block",height:"100%",width:p+"%",margin:"auto",top:"0px"}}else if(l){var q=1/o/(1/c)*100,r=(q-100)/2;j.borderRadius=k,j.zIndex=1,m={position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",borderRadius:k,overflow:"hidden"},n={width:q+"%",marginLeft:"-"+r+"%",position:"relative",height:"100%"},a={position:"absolute",height:"100%",width:"100%",paddingBottom:0}}else{var s=(c-o)/2;j.borderRadius=k,j.zIndex=1,m={paddingBottom:o+"%",marginTop:s+"%",position:"relative",width:"100%",height:"0px",borderRadius:k,overflow:"hidden"},a={position:"absolute",height:"100%",width:"100%",paddingBottom:0}}return d.createElement("figure",{itemScope:"itemscope",itemType:"http://schema.org/ImageObject"},d.createElement("div",{className:i,style:j},d.createElement("div",{className:"framed-image-wrap__outer-centerer",style:m},d.createElement("div",{className:"framed-image-wrap__inner-centerer",style:n},d.createElement("div",{className:"placeholder-image-wrap",style:a},this.props.image.isYourShotImage?d.createElement(f,{ref:"image",alt:this.props.image.altText,src:this.props.image.url,imageCrop:this.props.image.imageCrop,sizes:this.props.image.sizes,onLoad:this.props.onLoad,lazyLoad:this.props.image.lazyLoad,widthOverride:this.props.image.widthOverride}):d.createElement(e,{ref:"image",alt:this.props.image.altText,src:this.props.image.url,imageCrop:this.props.image.imageCrop,formats:g,onLoad:this.props.onLoad,lazyLoad:this.props.image.lazyLoad,widthOverride:this.props.image.widthOverride}))))))}j.borderRadius=k;var t={background:"url("+b.url+")",backgroundSize:"cover",backgroundPosition:"center center"};return d.createElement(h,{ref:"lazyLoad"},d.createElement("figure",{itemScope:"itemscope",itemType:"http://schema.org/ImageObject"},d.createElement("div",{className:i,style:j},d.createElement("div",{className:"external-image",style:t}))))}});b.exports=i},{"../../../Picturefill/PictureFill.jsx":117,"../../../Picturefill/YourShotPictureFill.jsx":118,"../../../Picturefill/getPictureFillFormats.js":119,react:"react","react-lazy-load":"react-lazy-load"}],28:[function(a,b,c){"use strict";var d=a("react"),e=a("../../../Picturefill/PictureFill.jsx"),f=a("../../../Picturefill/YourShotPictureFill.jsx"),g=a("../../../Picturefill/getPictureFillFormats.js"),h=(a("react-lazy-load"),d.createClass({displayName:"ImageNaturalHeight",propTypes:{image:d.PropTypes.shape({url:d.PropTypes.string.isRequired,altText:d.PropTypes.alt,aspectRatio:d.PropTypes.number,isVideo:d.PropTypes.bool,isYourShotImage:d.PropTypes.bool,imageCrop:d.PropTypes.string,lazyLoad:d.PropTypes.bool,widthOverride:d.PropTypes.string,sizes:d.PropTypes.object}).isRequired,onLoad:d.PropTypes.func,onRendered:d.PropTypes.func},load:function(){this.props.image.lazyLoad&&this.props.image.aspectRatio>0&&this.refs.image.load()},render:function(){if(this.props.image.aspectRatio>0){var a,b=100*this.props.image.aspectRatio;if(this.props.image.imageCrop)switch(this.props.image.imageCrop){case"ImmersiveLeadHorizontal":b=75;break;case"ImmersiveLeadVertical":b=133}return a={paddingBottom:b+"%"},this.props.image.circleFrame&&(a.borderRadius="50%",a.zIndex=1),d.createElement("figure",{itemScope:"itemscope",itemType:"http://schema.org/ImageObject"},d.createElement("div",{className:"placeholder-image-wrap",style:a},this.props.image.isYourShotImage?d.createElement(f,{ref:"image",alt:this.props.image.altText,src:this.props.image.url,imageCrop:this.props.image.imageCrop,sizes:this.props.image.sizes,onLoad:this.props.onLoad,lazyLoad:this.props.image.lazyLoad,widthOverride:this.props.image.widthOverride}):d.createElement(e,{ref:"image",alt:this.props.image.altText,src:this.props.image.url,imageCrop:this.props.image.imageCrop,formats:g,onLoad:this.props.onLoad,lazyLoad:this.props.image.lazyLoad,widthOverride:this.props.image.widthOverride})))}var c={};return this.props.image.circleFrame&&(c.borderRadius="50%",c.zIndex=1),d.createElement("figure",{itemScope:"itemscope",itemType:"http://schema.org/ImageObject"},d.createElement("img",{style:c,className:"external-image",alt:this.props.image.altText,src:this.props.image.url,onLoad:this.props.onLoad}))}}));b.exports=h},{"../../../Picturefill/PictureFill.jsx":117,"../../../Picturefill/YourShotPictureFill.jsx":118,"../../../Picturefill/getPictureFillFormats.js":119,react:"react","react-lazy-load":"react-lazy-load"}],29:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"ListItem",propTypes:{item:d.PropTypes.oneOfType([d.PropTypes.string,d.PropTypes.object]).isRequired},getDefaultProps:function(){return{item:{}}},render:function(){return d.createElement("li",null,this.props.item)}});b.exports=e},{react:"react"}],30:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"ShowMoreButton",propTypes:{classes:d.PropTypes.string,hideOnClick:d.PropTypes.bool,label:d.PropTypes.string,onClick:d.PropTypes.func.isRequired},getDefaultProps:function(){return{classes:"show-more-button",hideOnClick:!0,label:"Show More"}},getInitialState:function(){return{hideButton:!1}},handleClick:function(){this.props.onClick(),this.props.hideOnClick&&!this.state.hideButton&&this.isMounted()&&this.setState({hideButton:!0})},componentDidMount:function(){this.refs.button.addEventListener("click",this.handleClick)},render:function(){return this.state.hideButton?null:d.createElement("div",{className:this.props.classes},d.createElement("button",{className:"show-more-button__button",ref:"button"},d.createElement("span",{className:"show-more-button__text"},this.props.label)))}});b.exports=e},{react:"react"}],31:[function(a,b,c){"use strict";var d=a("react"),e=a("./ListItem.jsx"),f=d.createClass({displayName:"UnorderedList",propTypes:{items:d.PropTypes.array.isRequired,cssClass:d.PropTypes.string},getDefaultProps:function(){return{items:[],cssClass:""}},render:function(){var a=""!==this.props.cssClass?this.props.cssClass:"",b=0,c=this.props.items.map(function(a){return d.createElement(e,{key:b++,item:a})});return d.createElement("ul",{className:a},c)}});b.exports=f},{"./ListItem.jsx":29,react:"react"}],32:[function(a,b,c){"use strict";var d=a("./ContentSeparator.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("ContentSeparator",{initialize:function(){f.render(e.createElement(d,{cssClass:this.options.cssclass}),this.options.el)}})},{"./ContentSeparator.jsx":33,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],33:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"ContentSeparator",propTypes:{cssClass:d.PropTypes.string},getDefaultProps:function(){return{cssClass:"content-separator"}},render:function(){return d.createElement("div",{className:this.props.cssClass},d.createElement("hr",null))}});b.exports=e},{react:"react"}],34:[function(a,b,c){"use strict";var d=a("react"),e=a("./ContributorCards.jsx"),f=d.createClass({displayName:"ContributorCardContainer",propTypes:{contributors:d.PropTypes.array.isRequired},render:function(){return d.createElement("div",{className:"contributor-cards-container"},this.props.contributors.map(function(a,b){return a.url?d.createElement(e,{key:b,thumbnail:a.thumbnail,bio:a.bio,bioURL:a.url,followLinks:a.followLinks}):void 0}))}});b.exports=f},{"./ContributorCards.jsx":36,react:"react"}],35:[function(a,b,c){"use strict";var d=a("react"),e=a("react-dom"),f=a("@natgeo/pestle"),g=a("jquery"),h=a("lodash/concat"),i=a("./ContributorCardContainer.jsx"),j=a("../Byline/Byline.jsx");f.Module.add("ContributorCards",{findBylines:function(){return document.querySelectorAll('[data-platform-component="Byline"]')},initialize:function(){var a=this,b=this.findBylines(),c=[],f=[],k=[],l=[],m=[],n=[];g.when(g.get(a.options.endpoint)).done(function(g){g.writers&&(c=g.writers),g.photographers&&(f=g.photographers),g.illustrators&&(k=g.illustrators),g.researchers&&(l=g.researchers),g.others&&(m=g.others);for(var o=0;o<b.length;o++){var p="true"===b[o].getAttribute("data-platform-hide-bylines")?!0:!1,q="true"===b[o].getAttribute("data-platform-hide-publish-date")?!0:!1,r=b[o].getAttribute("data-platform-publish-date-format")||"";e.render(d.createElement(j,{publishDate:g.publishDates[r],writers:c,photographers:f,illustrators:k,researchers:l,hideBylines:p,hidePublishDate:q,publishDateFormat:r,fullDateTime:g.publishDates.fullDatetime,others:m}),document.getElementById(b[o].id))}n=h(c,f,k,l,m),e.render(d.createElement(i,{contributors:n}),a.options.el)}).fail(function(){NGS.core_site.sandbox.log.info("ContributorCards Controller query failure")})}})},{"../Byline/Byline.jsx":19,"./ContributorCardContainer.jsx":34,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery","lodash/concat":"lodash/concat",react:"react","react-dom":"react-dom"}],36:[function(a,b,c){"use strict";var d=a("react"),e=a("../Common/components/GenericLink.jsx"),f=a("../Common/components/Images/Images.jsx"),g=d.createClass({displayName:"FollowLinks",propTypes:{followLinks:d.PropTypes.object},render:function(){var a=[];for(var b in this.props.followLinks){var c={};this.props.followLinks.hasOwnProperty(b)&&(c={linkUrl:this.props.followLinks[b],linkText:b,linkTarget:"_blank"},"heading"!==b&&c.linkUrl.indexOf("http")>-1&&a.push(d.createElement("p",{key:b+"_wrapper"},d.createElement(e,{key:b,item:c}))))}return a.length>0?d.createElement("div",{className:"followUs"},d.createElement("span",{className:"follow-label"},this.props.followLinks.heading),d.createElement("span",{className:"follow-links"},a)):null}}),h=d.createClass({displayName:"ContribThumb",propTypes:{bioURL:d.PropTypes.string.isRequired,imgModel:d.PropTypes.shape({url:d.PropTypes.string,circleFrame:d.PropTypes.bool,frameAspectRatio:d.PropTypes.number,lazyLoad:d.PropTypesbool}).isRequired},render:function(){return d.createElement("div",{className:"contributor-component__thumbnail-image clearfix"},d.createElement("a",{href:this.props.bioURL},d.createElement(f,{image:this.props.imgModel})))}}),i=d.createClass({displayName:"ContribBlurb",propTypes:{bio:d.PropTypes.string.isRequired},render:function(){return d.createElement("div",{className:"contributor-component__bio__blurb",dangerouslySetInnerHTML:{__html:this.props.bio}})}}),j=d.createClass({displayName:"ContributorCards",propTypes:{thumbnail:d.PropTypes.shape({url:d.PropTypes.string,thumbnailAspectRatio:d.PropTypes.number}),bio:d.PropTypes.string.isRequired,bioURL:d.PropTypes.string.isRequired,followLinks:d.PropTypes.object},render:function(){var a=this.props.thumbnail&&this.props.thumbnail.url?{url:this.props.thumbnail.url,aspectRatio:parseFloat(this.props.thumbnail.thumbnailAspectRatio)||null,circleFrame:!0,frameAspectRatio:1,lazyLoad:!0}:null;return d.createElement("div",{itemProp:"creator",itemScope:"itemscope",itemType:"http://schema.org/Person",className:"contributor-component"},a?d.createElement(h,{bioURL:this.props.bioURL,imgModel:a}):null,d.createElement("div",{className:"contributor-component__bio"},d.createElement(i,{bio:this.props.bio}),d.createElement(g,{followLinks:this.props.followLinks})))}});b.exports=j},{"../Common/components/GenericLink.jsx":26,"../Common/components/Images/Images.jsx":"platform/v2/components/Common/components/Images/Images.jsx",react:"react"}],37:[function(a,b,c){"use strict";var d=(a("jquery"),a("@natgeo/pestle"));d.Module.add("Date",{isLoaded:!1,initialize:function(){var a=this,b=a.$el.next(".app-date");if(b.length>0){var c;Date.prototype.getDayName=function(){var a;return a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a[this.getDay()]},Date.prototype.getMonthName=function(){var a;return a=["January","February","March","April","May","June","July","August","September","October","November","December"],a[this.getMonth()]},c=new Date,b.text(c.getDayName()+", "+c.getMonthName()+" "+c.getDate()+", "+c.getFullYear()),a.isLoaded=!0}}})},{"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery"}],38:[function(a,b,c){"use strict";var d=a("react"),e=a("react-dom"),f=a("./DidYouKnow.jsx"),g=a("../AccordionDrawer/AccordionDrawer.jsx");Pestle.Module.add("DidYouKnow",{initialize:function(){this.options.disableAccordion===!1?e.render(d.createElement(g,{isReact:!0,containingNode:this.options.el,label:this.options.title,labelClassName:"did-you-know-accordion"},d.createElement(f,{key:this.options.el.id,id:this.options.el.id,title:this.options.title,content:this.options.data})),this.options.el):e.render(d.createElement(f,{key:this.options.el.id,id:this.options.el.id,title:this.options.title,content:this.options.data}),this.options.el)}}),b.exports=f},{"../AccordionDrawer/AccordionDrawer.jsx":2,"./DidYouKnow.jsx":39,react:"react","react-dom":"react-dom"}],39:[function(a,b,c){"use strict";var d=a("react"),e=(d.PropTypes,a("../social/AddThis/SocialLink.jsx")),f=a("lodash/debounce"),g=a("jquery"),h=d.createClass({displayName:"DidYouKnowCard",propTypes:{text:d.PropTypes.string,source:d.PropTypes.string,share:d.PropTypes.bool},getDefaultProps:function(){return{text:"",source:"",share:!1}},getInitialState:function(){return{addThisLoaded:!1}},cleanHTML:function(a){return"string"==typeof a?a.replace(/<[^>]+>/gi,""):a},handleClick:function(a){var b=NGS.core_site.sandbox.util.parseTag("meta[name='twitter:site']"),c={services:{twitter:{baseURL:"https://twitter.com/intent/tweet?url=",viaVal:b&&b.content?b.content.replace("@",""):"NatGeo",additionalWinProps:{height:280,width:600}}}},d=location.protocol+"//"+location.host+location.pathname+location.search,e=this.cleanHTML("Did you know? "+a.text),f=c.services[a.service].baseURL+encodeURIComponent(d)+"&text="+encodeURIComponent(e)+"&via="+c.services.twitter.viaVal;window.open(f,a.service+"Share","menubar=no,location=no,resizable=yes,scrollbars=auto,status=no,width="+c.services[a.service].additionalWinProps.width+",height="+c.services[a.service].additionalWinProps.height)},componentDidMount:function(){var a=this,b=new Promise(function(a,b){window.addthis&&window.addthis.isReady?a():Pestle.once("addthis:ready",a)});this.state.addThisLoaded||b.then(function(){a.setState({addThisLoaded:!0})})},componentDidUpdate:function(){window.addthis?window.addthis.toolbox(".ngs-dyk-addthis__social-button__holder"):NGS.core_site.sandbox.log.info("Did You Know component - AddThis not initialized")},render:function(){var a=this.props.share?"swiper-slide did-you-know__card sharable":"swiper-slide did-you-know__card";return d.createElement("div",{className:a,"data-source":this.props.source},d.createElement("div",{className:"fact-container",dangerouslySetInnerHTML:{__html:this.props.text}}),this.props.share&&!this.state.addThisLoaded?d.createElement("div",{className:"tweet-this",onClick:this.handleClick.bind(this,{text:this.props.text,service:"twitter"})},"Tweet This ",d.createElement("i",{className:"icongs icongs-twitter"})):null,this.props.share&&this.state.addThisLoaded?d.createElement("div",{className:"tweet-this"},d.createElement(e,{className:"ngs-dyk-addthis__social-button__holder",icon:"icongs-twitter",internalClassName:"addthis_button_twitter",analyticsEvent:"Twitter",overrideTitle:"Did you know? "+this.cleanHTML(this.props.text),labelText:"Tweet This ",analyticsEventSite:""},"Tweet This")):null)}}),i=d.createClass({displayName:"DidYouKnow",propTypes:{title:d.PropTypes.string,content:d.PropTypes.array},getDefaultProps:function(){return{title:"Did You Know",content:[]}},getInitialState:function(){return this.slider=null,this.currentSlide=1,this.totalSlides=null,this.maxHeight=5e3,this.resizeHandler=f(this.setMaxHeight,250),window.addEventListener("resize",this.resizeHandler),{firstSlideActive:!0,lastSlideActive:!1,currentSource:null,hasHR:!0}},onTransition:function(a){this.currentSlide=this.slider.activeIndex?this.slider.activeIndex+1:1;var b={firstSlideActive:!1,lastSlideActive:!1,currentSource:this.slider.slides[this.currentSlide-1].getAttribute("data-source")};g(a.container[0]).closest(".ngs-accordion__content").css({"max-height":this.maxHeight+"px"}).attr("data-height",this.maxHeight),this.slider.isBeginning?(b.firstSlideActive=!0,b.lastSlideActive=!1):this.slider.isEnd&&(b.firstSlideActive=!1,b.lastSlideActive=!0),this.isMounted()&&this.setState(b)},closest:function(a,b){for(var c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector;a&&!c.call(a,b);)a=a.parentElement;return a},slideNext:function(){this.slider&&this.slider.slideNext()},slidePrev:function(){this.slider&&this.slider.slidePrev()},setMaxHeight:function(){for(var a=this.closest(this.refs.didYouKnowContainer,".ngs-accordion__content")||null,b=a?this.closest(a,".ngs-accordion__drawer__container"):null,c=this.refs.didYouKnowContainer.querySelectorAll(".did-you-know__card"),d=0,e=0;e<c.length;e++)c[e].offsetHeight>d&&(d=c[e].offsetHeight);this.maxHeight=d+111,"mobile"===NGS.platform.sandbox.coreArticleHelpers.getBreakpoint()&&a&&b&&a.offsetHeight>0&&b.className.indexOf("closed")>-1&&(a.style.maxHeight=0)},componentWillUnmount:function(){window.removeEventListener("resize",this.resizeHandler)},componentDidMount:function(){var a=this,b=this.props.content.length>1&&this.props.content.length<=6?"bullets":"fraction",c=this.closest(this.refs.didYouKnowContainer,".section");if(this.setMaxHeight(),c&&c.previousElementSibling&&c.nextElementSibling&&g(c.previousElementSibling).hasClass("text")&&g(c.nextElementSibling).hasClass("text")&&this.setState({hasHR:!1}),!(this.props.content.length<=1)){try{a.slider=new Swiper(a.refs.swiperEl,{direction:"horizontal",paginationType:b,pagination:".swiper-pagination",paginationClickable:!0,autoHeight:!0,onInit:function(b){a.isMounted()&&a.setState({currentSource:b.slides[a.currentSlide-1].getAttribute("data-source")})},onPaginationRendered:function(b){a.refs.swiperEl.querySelector(".nav-btns.next")&&a.refs.swiperEl.querySelector(".nav-btns.next").addEventListener("click",a.slideNext),a.refs.swiperEl.querySelector(".nav-btns.prev")&&a.refs.swiperEl.querySelector(".nav-btns.prev").addEventListener("click",a.slidePrev)},onTransitionStart:function(b){a.onTransition(b)},paginationFractionRender:function(a,b,c){return'<span class="fraction-pagination-container"><i class="icongs icongs-directionleft nav-btns prev"></i><span class="'+b+'"></span> / <span class="'+c+'"></span><i class="icongs icongs-directionright nav-btns next"></i></span>'}})}catch(a){g(this.refs.didYouKnowContainer).addClass("no-swiper")}a.refs.previousButton&&(a.refs.previousButton.addEventListener("click",a.slidePrev),a.refs.nextButton.addEventListener("click",a.slideNext)),Pestle.once("AccordionDrawer:mounted",function(){c&&c.querySelector(".ngs-accordion__content")&&c.querySelector(".ngs-accordion__content").setAttribute("data-height",a.maxHeight),a.slider&&a.slider.onResize()})}},render:function(){var a,b=!1,c=[],e="icongs icongs-directionleft nav-btns prev ",f="icongs icongs-directionright nav-btns next ",g="swiper-pagination ",i=this.props.content.length>1?"swiper-container":"inactive-swiper-container",j=1===this.props.content.length?this.props.content[0].source:null;return this.props.content.map(function(b,e){a=b&&"true"===b.tweet?!0:!1,c.push(d.createElement(h,{key:"dyk_card_"+e,text:b.text,source:b.source,share:a}))}),this.totalSlides=c.length,this.state.firstSlideActive&&(e+=" dim ",g+=" dim-prev "),this.state.lastSlideActive&&(f+=" dim ",g+=" dim-next "),this.totalSlides>1&&(b=!0),this.totalSlides<=6?g+=" swiper-pagination-clickable swiper-pagination-bullets ":this.totalSlides>6&&(g+=" swiper-pagination-fraction "),this.state.currentSource&&(j=this.state.currentSource),d.createElement("div",{ref:"didYouKnowContainer",className:"did-you-know"},d.createElement("div",{className:"did-you-know__title"},this.props.title),d.createElement("div",{className:"did-you-know__container"},d.createElement("div",{ref:"swiperEl",className:i},d.createElement("div",{className:"swiper-wrapper"},c),d.createElement("div",{className:g}),j?d.createElement("div",{className:"did-you-know__source",dangerouslySetInnerHTML:{__html:j}}):null),b?d.createElement("div",null,d.createElement("i",{ref:"nextButton",className:f}),d.createElement("i",{ref:"previousButton",className:e})):null),j?d.createElement("div",{className:"did-you-know__source",dangerouslySetInnerHTML:{__html:j}}):null,this.state.hasHR?d.createElement("hr",{className:"did-you-know__hr"}):null)}});b.exports=i},{"../social/AddThis/SocialLink.jsx":148,jquery:"jquery","lodash/debounce":"lodash/debounce",react:"react"}],40:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle"),h=a("lodash/throttle"),i=a("./PromoFeed.jsx");g.Module.add("PromoFeed",{isLoaded:!1,opts:{},$page:0,$jsonUrl:null,$showMore:null,$lastResultSize:null,$readyForMorePromos:!1,renderPromoFeedSection:function(a){var b=this;d(b.el).append("<div class='content-block__target'></div>");var c=d(b.el).find(".content-block__target").last().get(0),g=b.$jsonUrl+"&page="+b.$page,h="";d.get(g,function(a){h=a,b.$lastResultSize=h.length},"json").done(function(){f.render(e.createElement(i,{promos:h}),c),b.$page++,a&&a()}).fail(function(){console.log("Dynamic Content Query failure")}),b.$readyForMorePromos=!0},initShowMore:function(){var a=this;a.$showMore=d(a.options.el).next(".content-block__show-more"),a.$showMore.removeClass("hidden");var b=a.$showMore.find(".content-block__show-more-button");b.on("click",function(b){b.preventDefault(),d(this).toggleClass("loading-state"),a.renderPromoFeedSection(a.initInfiniteScroll(a))})},initInfiniteScroll:function(a){function b(){if(c.$lastResultSize>0&&c.$readyForMorePromos){var a=d(window).scrollTop(),b=d("body").height(),e=d(window).height();a>b-e-500&&(c.$readyForMorePromos=!1,c.renderPromoFeedSection())}}var c=a;c.$showMore.hide(),d("body footer:last").hide();var e=h(b,1e3);d(window).scroll(e)},initialize:function(){var a=this;if("promo-feed"==a.options.displayvariation&&a.options.queryendpoint){if(a.$jsonUrl=a.options.queryendpoint,a.options.queryparameters){var b=a.options.queryparameters.replace("&","?");a.$jsonUrl=a.$jsonUrl+b}a.options.startpage&&(a.$page=a.options.startpage),a.options.infinitescroll?(a.options.loadinitialresults&&(a.renderPromoFeedSection(),a.isLoaded=!0),a.initShowMore()):(a.renderPromoFeedSection(),a.isLoaded=!0)}}})},{"./PromoFeed.jsx":41,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery","lodash/throttle":"lodash/throttle",react:"react","react-dom":"react-dom"}],41:[function(a,b,c){"use strict";a("es5-shim");var d=(a("jquery"),a("react")),e=(a("@natgeo/pestle"),a("../../Picturefill/PictureFill.js")),f=d.createClass({displayName:"PromoFeedExternalImage",propTypes:{promo:d.PropTypes.object.isRequired},render:function(){return d.createElement("figure",null,d.createElement("img",{className:"content-block__external-image",alt:this.props.promo.leadMedia.altText,src:this.props.promo.leadMedia.url}),d.createElement("div",{className:"content-block__promo--sponsor-caption content-block__promo--image-sponsor-caption"},this.props.promo.page.sponsorContentLabel),d.createElement("div",{className:"triangle-wrapper"}))}}),g=d.createClass({displayName:"PromoFeedImage",propTypes:{promo:d.PropTypes.object.isRequired},render:function(){var a=this.props.promo.leadMedia.aspectRatio;a=100*a;var b={paddingBottom:a+"%"};return d.createElement("figure",{itemScope:"itemscope",itemType:"http://schema.org/ImageObject"},d.createElement("div",{className:"placeholder-image-wrap",style:b},d.createElement(e,{alt:this.props.promo.leadMedia.altText,src:this.props.promo.leadMedia.url})),d.createElement("div",{className:"content-block__promo--sponsor-caption content-block__promo--image-sponsor-caption"},this.props.promo.page.sponsorContentLabel),d.createElement("div",{className:"triangle-wrapper"}))}}),h=d.createClass({displayName:"PromoFeedPromo",propTypes:{promo:d.PropTypes.object.isRequired},render:function(){var a=[],b="content-block__promo clearfix",c="",e=0;return this.props.promo.page.series&&(c+="<p class='content-block__promo-series'>"+this.props.promo.page.series+"</p>"),this.props.promo.page.title&&(c+="<h3 class='content-block__promo-headline'><span itemProp='headline'>"+this.props.promo.page.title+"</span></h3>"),this.props.promo.page.abstract&&(c+="<div class='content-block__promo-dek'><span itemProp='description'>"+this.props.promo.page.abstract+"</span></div>"),this.props.promo.leadMedia?(this.props.promo.leadMedia.aspectRatio>0?(a.push(d.createElement(g,{key:e++,promo:this.props.promo})),this.props.promo.leadMedia.aspectRatio>=1&&(b+=" content-block__promo--vertical-image")):a.push(d.createElement(f,{key:e++,promo:this.props.promo})),this.props.promo.leadMedia.isVideo&&(b+=" content-block__promo--video")):b+=" content-block__promo--text-only",this.props.promo.page.sponsored&&(b+=" content-block__promo--sponsored"),d.createElement("div",{className:"content-block__promo-wrap"},d.createElement("div",{className:b},d.createElement("a",{href:this.props.promo.page.url,className:"div-link"}),a,d.createElement("div",{className:"content-block__text-area",dangerouslySetInnerHTML:{__html:c}}),d.createElement("div",{className:"content-block__promo--sponsor-caption content-block__promo--text-only-sponsor-caption"},this.props.promo.page.sponsorContentLabel)),d.createElement("hr",{className:"content-block__hr"}))}}),i=d.createClass({displayName:"PromoFeed",propTypes:{promos:d.PropTypes.array.isRequired},render:function(){var a=[],b=0;return this.props.promos.forEach(function(c){c.page.url&&c.page.title&&a.push(d.createElement(h,{key:b++,promo:c}))}.bind(this)),d.createElement("div",{className:"content-block container"},a)}});b.exports=i},{"../../Picturefill/PictureFill.js":116,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react"}],42:[function(a,b,c){"use strict";a("es5-shim"),window.$=window.jQuery=a("jquery"),window.React=a("react"),window.ReactDOM=a("react-dom"),window.Pestle=a("@natgeo/pestle");var d=a("./ThumbnailCarousel.jsx");Pestle.Module.add("ThumbnailCarousel",{isLoaded:!1,opts:{},$gallery:null,$videoModal:null,$playerId:null,$videoLoaded:!1,$jsonUrl:null,initialize:function(){var a=this;if("thumbnail-carousel"==a.options.displayvariation&&a.options.queryendpoint){if(a.$jsonUrl=a.options.queryendpoint,a.options.queryparameters){var b=a.options.queryparameters.replace("&","?");a.$jsonUrl=a.$jsonUrl+b}a.options.startpage&&(a.$jsonUrl=a.$jsonURL+"&page="+a.options.startpage),ReactDOM.render(React.createElement(d,{obj:a}),a.el),a.isLoaded=!0}}})},{"./ThumbnailCarousel.jsx":43,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react","react-dom":"react-dom"}],43:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=(a("@natgeo/pestle"),a("../../Picturefill/PictureFill.js")),g=a("lodash/isEmpty"),h=e.createClass({displayName:"PromoSlide",propTypes:{promo:e.PropTypes.object.isRequired},render:function(){var a="";return this.props.promo.leadMedia.altText&&(a=this.props.promo.leadMedia.altText),e.createElement("div",{className:"swiper-slide"},e.createElement("a",{href:this.props.promo.page.url,className:"div-link"}),e.createElement("figure",{itemScope:"itemscope",itemType:"http://schema.org/VideoObject",className:"thumbnail-carousel__thumbnail thumbnail-carousel__promo-link"},e.createElement("div",{className:"thumbnail-carousel__image-wrap"},e.createElement(f,{alt:a,src:this.props.promo.leadMedia.url})),e.createElement("figcaption",null,e.createElement("h4",{className:"thumbnail-carousel__slide-title",itemProp:"headline"},e.createElement("a",{href:"#"},e.createElement("span",null,this.props.promo.page.title))))))}}),i=e.createClass({displayName:"VideoSlide",propTypes:{promo:e.PropTypes.object.isRequired},render:function(){var a="";return this.props.promo.abstract&&(a=this.props.promo.abstract),e.createElement("div",{className:"swiper-slide"},e.createElement("figure",{itemScope:"itemscope",itemType:"http://schema.org/VideoObject",className:"thumbnail-carousel__thumbnail app--thumbnail-video-link","data-guid":this.props.promo.guid,"data-title":this.props.promo.title,"data-abstract":a},e.createElement("div",{className:"thumbnail-carousel__image-wrap thumbnail-carousel__image-wrap--video"},e.createElement("img",{src:this.props.promo.damThumbnail})),e.createElement("figcaption",null,e.createElement("h4",{className:"thumbnail-carousel__slide-title",itemProp:"headline"},e.createElement("a",{href:"#",className:"app--thumbnail-video-link"},e.createElement("span",null,this.props.promo.title))))))}}),j=e.createClass({displayName:"CarouselWrapper",propTypes:{promos:e.PropTypes.array.isRequired,obj:e.PropTypes.object.isRequired},componentWillUnmount:function(){var a=this.props.obj,b=a.$gallery;a.$el.find(".thumbnail-carousel__prev-button").off("click"),a.$el.find(".thumbnail-carousel__next-button").off("click"),a.$el.find(".app--thumbnail-video-link").off("click"),a.$videoModal.find(".app-close-video-modal").off("click"),b.destroy()},componentDidMount:function(){function a(b){return i?!1:void(g($pdk)?setTimeout(function(){a(b)},500):null!=ngsPlayer.api?(j.$videoLoaded=!0,ngsPlayer.api.set(b,j.$playerId)):console.log("Video Player API not present"))}function b(b,c,d){e.html(c),f.html(d),a(b)}var c,e,f,h=NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint(),i=NGS.core_site.sandbox.aem.isEditMode(),j=this.props.obj;"desktop"===h?j.$gallery=new Swiper(j.$el.find(".swiper-carousel"),{slidesPerView:"auto",autoplay:4e3}):j.$gallery=new Swiper(j.$el.find(".swiper-carousel"),{slidesPerView:"auto"}),c=this.props.obj.$gallery,j.$el.find(".thumbnail-carousel__prev-button").on("click",function(){c&&(0===c.activeIndex?c.slideTo(c.slides.length):c.slidePrev())}),j.$el.find(".thumbnail-carousel__next-button").on("click",function(){c.isEnd?c.slideTo(0):c.slideNext()}),j.$videoModal=j.$el.parent().find(".video-modal"),j.$closeVideoModal=j.$videoModal.find(".close-modal"),j.$playerId=j.$videoModal.find(".video-modal__player").attr("id"),e=j.$videoModal.find(".video-modal__headline"),f=j.$videoModal.find(".video-modal__dek"),j.$el.find(".app--thumbnail-video-link").on("click",function(a){var c,e;a.preventDefault(),c=d(this),j.$videoModal.addClass("on-screen"),j.$closeVideoModal.removeClass("hidden"),d("body, html").css("overflow-y","hidden"),e="http://link.theplatform.com/s/ngs/media/guid/2423130747/"+c.data("guid")+"?mbr=true&policy=12441385",b(e,c.data("title"),c.data("abstract"))}),j.$videoModal.find(".app-close-video-modal").on("click",function(a){a.preventDefault(),null==ngsPlayer.api||i||(ngsPlayer.api.unload(j.$playerId),j.$videoLoaded=!1),j.$videoModal.removeClass("on-screen"),j.$closeVideoModal.addClass("hidden"),d("body, html").css("overflow-y","auto")})},render:function(){var a=[],b=0;return this.props.promos.forEach(function(c){c.pageType&&"video/mp4"==c.pageType&&c.guid&&c.damThumbnail?a.push(e.createElement(i,{key:b++,promo:c})):c.page&&c.page.url&&c.page.title&&c.leadMedia&&c.leadMedia.url&&c.leadMedia.aspectRatio&&a.push(e.createElement(h,{key:b++,promo:c}))}.bind(this)),a.length>3?e.createElement("div",{className:"thumbnail-carousel"},e.createElement("div",{className:"thumbnail-carousel__heading hidden-md hidden-sm"},e.createElement("h3",null,"Recent Videos"),e.createElement("h3",null,e.createElement("a",{href:"http://video.nationalgeographic.com"},"See All"))),e.createElement("hr",{className:"hidden-sm hidden-md variant-carousel--mobile-hr"}),e.createElement("div",{className:"thumbnail-carousel__carousel swiper-carousel"},e.createElement("div",{className:"swiper-wrapper"},a),e.createElement("img",{className:"thumbnail-carousel__carousel-control thumbnail-carousel__prev-button hidden-sm hidden-xs",src:"/etc/designs/platform/v2/images/Galleries/gallery-prev.png"}),e.createElement("img",{className:"thumbnail-carousel__carousel-control thumbnail-carousel__next-button  hidden-sm hidden-xs",src:"/etc/designs/platform/v2/images/Galleries/gallery-next.png"}))):NGS.platform.sandbox.aem.isEditMode()?e.createElement("div",{className:"content-block container"},e.createElement("h2",null,"Thumbnail Carousel: Less than 4 valid promos selected, component will not render")):e.createElement("div",{className:"thumbnail-carousel--placeholder hidden"})}}),k=e.createClass({displayName:"ThumbnailCarousel",getInitialState:function(){return{itemResults:[]}},propTypes:{obj:e.PropTypes.object.isRequired},componentWillMount:function(){var a=this,b="";d.get(this.props.obj.$jsonUrl,function(a){b=a},"json").done(function(){a.isMounted()&&a.setState({itemResults:b})}).fail(function(){console.log("Thumbnail Carousel query failure")})},render:function(){return this.state.itemResults.length>0?e.createElement(j,{obj:this.props.obj,promos:this.state.itemResults}):e.createElement("div",{className:"thumbnail-carousel--placeholder"})}});b.exports=k},{"../../Picturefill/PictureFill.js":116,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery","lodash/isEmpty":"lodash/isEmpty",react:"react"}],44:[function(a,b,c){"use strict";var d=a("react"),e=a("react-dom"),f=a("./EmbeddedVideoPromo.jsx");Pestle.Module.add("EmbeddedVideoPromo",{isLoaded:!1,initialize:function(){var a=this;e.render(d.createElement(f,{model:this.options}),this.el,function(){a.isLoaded=!0,a.sandbox.log.info("EmbeddedVideoPromo is loaded.")})}}),b.exports=f},{"./EmbeddedVideoPromo.jsx":45,react:"react","react-dom":"react-dom"}],45:[function(a,b,c){"use strict";var d=a("react"),e=a("../MultiLayoutPromos/components/Promo.jsx"),f=a("../MultiLayoutPromos/components/Heading.jsx"),g=a("../MultiLayoutPromos/components/LeaderboardAdSlot.jsx"),h=a("../MultiLayoutPromos/components/BoxAdSlot.jsx"),i=a("../ContentSeparator/ContentSeparator.jsx"),j=d.createClass({displayName:"EmbeddedVideoPromo",propTypes:{model:d.PropTypes.shape({adConfig:d.PropTypes.string,includeSizeOption:d.PropTypes.bool,size:d.PropTypes.string,heading:d.PropTypes.string,teaser:d.PropTypes.string,ctaText:d.PropTypes.string,ctaPath:d.PropTypes.string,ctaTarget:d.PropTypes.string,ctaDisplay:d.PropTypes.string,showDetails:d.PropTypes.array,airDetails:d.PropTypes.string,synopsis:d.PropTypes.string,videoOverlayPlayButton:d.PropTypes.bool,videoInstance:d.PropTypes.string.isRequired,videoGuid:d.PropTypes.string.isRequired,sharing:d.PropTypes.bool,ngsIsEdit:d.PropTypes.bool}).isRequired},render:function(){var a=this.props.model,b="desktop"===NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint()?!0:!1,c={leadMedia:{isVideo:!0,videoModel:{autoInit:!a.ngsIsEdit,instance:a.videoInstance,guid:a.videoGuid,sharing:a.sharing,overlayPlayButton:a.videoOverlayPlayButton}},page:{synopsis:a.synopsis,airDetails:a.airDetails,details:a.showDetails,sponsored:!1}};return d.createElement("div",{className:"multi-layout-promos__wrap"},"leaderboard-ads"===a.adConfig?d.createElement(g,{includeLarge:a.includeSizeOption}):d.createElement(i,{cssClass:"multi-layout-promos__hr"}),d.createElement("div",{className:"container"},a.heading||a.teaser?d.createElement(f,{model:a}):null,d.createElement("div",{className:"mt_col-12 mt_col-lg-8 multi-layout-promos multi-layout-promos--"+a.adConfig},d.createElement(e,{promo:c,size:a.size,showImages:!1,showAbstracts:!1,showSeries:!1,showTitles:!1,showDetails:void 0!==a.showDetails,showAirDetails:void 0!==a.airDetails,showSynopsis:void 0!==a.synopsis})),"box-ads"===a.adConfig?d.createElement(h,null):null),"box-ads"===a.adConfig&&b?d.createElement("span",{className:"bumper--bottom"}):null)}});b.exports=j},{"../ContentSeparator/ContentSeparator.jsx":33,"../MultiLayoutPromos/components/BoxAdSlot.jsx":102,"../MultiLayoutPromos/components/Heading.jsx":103,"../MultiLayoutPromos/components/LeaderboardAdSlot.jsx":104,"../MultiLayoutPromos/components/Promo.jsx":107,react:"react"}],46:[function(a,b,c){"use strict";var d=a("react"),e=a("react-lazy-load"),f=a("lodash/defaultsDeep");window.ngsPlayer=a("modules-video");var g=d.createClass({displayName:"EmbeddedVideo",propTypes:{model:d.PropTypes.shape({instance:d.PropTypes.string.isRequired,guid:d.PropTypes.string.isRequired,sharing:d.PropTypes.bool,type:d.PropTypes.string,overlayPlayButton:d.PropTypes.bool}).isRequired,className:d.PropTypes.string,lazyLoad:d.PropTypes.bool},getDefaultProps:function(){return{className:"",lazyLoad:!0}},getInitialState:function(){return{isPdkLoaded:!1}},model:function(){return f(this.props.model,{autoload:!0,type:"inline",skinName:this.props.model.overlayPlayButton?"glass-ngs":"glass-ngs-no-overlay",layoutOptions:{tpShare:void 0!==this.props.model.sharing?this.props.model.sharing:!0},preferredRuntimes:"Flash,HTML5"})},createPlayer:function(){var a=this.model();return ngsPlayer.init(a)},componentDidMount:function(){return this.props.lazyLoad===!1?(this.createPlayer(),NGS.platform.sandbox.log.info('EmbeddedVideo component initialized "onLoad"')):void 0},handleOnLoad:function(){var a=NGS.platform.sandbox.aem.isEditMode();return a!==!0&&this.createPlayer(),NGS.platform.sandbox.log.info("EmbeddedVideo component LazyLoaded")},render:function(){return this.props.lazyLoad===!0?d.createElement(e,{offsetVertical:200,onContentVisible:this.handleOnLoad},d.createElement("figure",{itemType:"http://schema.org/VideoObject",className:"embedded-video "+this.props.className},d.createElement("div",{className:"embedded-video__player-wrapper"},d.createElement("div",{id:this.props.model.instance,className:"embedded-video__player","data-guid":this.props.model.guid})))):d.createElement("figure",{itemType:"http://schema.org/VideoObject",className:"embedded-video "+this.props.className},d.createElement("div",{className:"embedded-video__player-wrapper"},d.createElement("div",{id:this.props.model.instance,className:"embedded-video__player","data-guid":this.props.model.guid})))}});b.exports=g},{"lodash/defaultsDeep":"lodash/defaultsDeep","modules-video":"modules-video",react:"react","react-lazy-load":"react-lazy-load"}],47:[function(a,b,c){"use strict";var d=(a("jquery"),a("@natgeo/pestle")),e=a("./components/Inline.jsx");d.Module.add("InlineGallery",{isLoaded:!1,initialize:function(){ReactDOM.render(React.createElement(e,{analyticsEventSite:this.options.analyticsEventSite,backgroundColor:this.options.backgroundColor,disableEnlarge:this.options.disableEnlarge,endpoint:this.options.endpoint,galleryType:this.options.galleryType,heading:this.options.heading,hideForMobile:this.options.hideForMobile,id:this.options.id,pageTitle:this.options.pageTitle,pagewidePresentationDisabled:this.options.pagewidePresentationDisabled,previewAspectRatio:this.options.previewAspectRatio,randomSort:this.options.randomSort,showAbstracts:this.options.showAbstracts,showAssetSources:this.options.showAssetSources,showCredits:this.options.showCredits,showTitles:this.options.showTitles,showCommerceLinks:this.options.showCommerceLinks,size:this.options.size,socialLinks:this.options.socialLinks,title:this.options.title}),this.el),this.isLoaded=!0}})},{"./components/Inline.jsx":51,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery"}],48:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react"),f=a("react-addons-pure-render-mixin"),g=0,h=e.createClass({displayName:"Captions",mixins:[f],propTypes:{currentSlide:e.PropTypes.number,galleryType:e.PropTypes.string,showAbstracts:e.PropTypes.bool.isRequired,showAssetSources:e.PropTypes.bool.isRequired,showCredits:e.PropTypes.bool.isRequired,showTitles:e.PropTypes.bool.isRequired,showCommerceLinks:e.PropTypes.bool.isRequired,size:e.PropTypes.string.isRequired},fadeOutAndIn:function(){var a=this;d(a.refs.figCaption).velocity({opacity:0},{duration:1,complete:function(b){d(a.refs.figCaption).velocity({opacity:1},{duration:100,easing:"ease-in"})}})},updateCaptionHeight:function(){var a=this,b=a.refs.captionWrap.offsetHeight;d(a.refs.figCaption).velocity({height:b},{duration:100})},componentDidUpdate:function(){this.props.photosJson&&this.updateCaptionHeight()},componentWillUpdate:function(){this.refs.figCaption&&this.fadeOutAndIn()},render:function(){var a="medium"===this.props.size?"medium-caption media__caption":"media__caption",b=[];if(this.props.photosJson&&this.props.photosJson.items.length)for(var c=0;c<this.props.photosJson.items.length;c++){var d=[],f=[],h=this.props.photosJson.items[c],i=c===this.props.currentSlide-1?1:0,j=c===this.props.currentSlide-1?"relative":"absolute",k={opacity:i,position:j};if(h)if("yourShot"===this.props.galleryType)this.props.showAbstracts&&h.credit&&this.props.showCredits&&d.push(e.createElement("span",{key:g++,itemProp:"caption"},"To view a caption from the photographer, click on the credit below."),e.createElement("br",{key:g++})),h.credit&&this.props.showCredits&&d.push(e.createElement("small",{key:g++,className:"media__caption--credit"},e.createElement("span",{itemProp:"author"},"Photograph By ",e.createElement("a",{href:h["full-path-url"],target:"_blank"},h.credit+", Your Shot")))),b.push(e.createElement("div",{key:g++,className:"media__caption--text",style:k},d));else{if("infinite"===this.props.galleryType&&h.publishDate&&d.push(e.createElement("span",{key:g++,itemProp:"headline",className:"media__caption--publish-date"},h.publishDate)),h.title&&this.props.showTitles&&d.push(e.createElement("span",{key:g++,itemProp:"headline",className:"media__caption--title",dangerouslySetInnerHTML:{__html:h.title}})),h.caption&&this.props.showAbstracts&&d.push(e.createElement("span",{key:g++,itemProp:"caption",dangerouslySetInnerHTML:{__html:h.caption}})),(h.credit&&this.props.showCredits||h.assetSource&&this.props.showAssetSources)&&(h.credit&&this.props.showCredits&&f.push(e.createElement("span",{key:g++,dangerouslySetInnerHTML:{__html:h.credit}})),h.assetSource&&this.props.showAssetSources&&(h.credit&&this.props.showCredits&&f.push(e.createElement("br",{key:g++})),f.push(e.createElement("span",{key:g++,dangerouslySetInnerHTML:{__html:h.assetSource}}))),d.push(e.createElement("small",{key:g++,className:"media__caption--credit"},e.createElement("span",{itemProp:"author"},f)))),(h.goldButton||h.silverButton)&&this.props.showCommerceLinks){var l=[];h.goldButton&&l.push(e.createElement("a",{key:g++,href:h.goldButton.linkTrackingCode?h.goldButton.linkUrl+h.goldButton.linkTrackingCode:h.goldButton.linkUrl,target:h.goldButton.linkTarget,dangerouslySetInnerHTML:{__html:h.goldButton.linkText}})),h.silverButton&&l.push(e.createElement("a",{key:g++,href:h.silverButton.linkTrackingCode?h.silverButton.linkUrl+h.silverButton.linkTrackingCode:h.silverButton.linkUrl,target:h.silverButton.linkTarget,dangerouslySetInnerHTML:{__html:h.silverButton.linkText}})),d.push(e.createElement("span",{key:g++,className:"media__caption__commerce-links"},l))}b.push(e.createElement("div",{key:g++,className:"media__caption--text",style:k},d))}}return e.createElement("figcaption",{ref:"figCaption",className:a},e.createElement("div",{ref:"captionWrap",className:"inline-gallery__captions-wrap"},b))}});b.exports=h},{jquery:"jquery",react:"react","react-addons-pure-render-mixin":168}],49:[function(a,b,c){"use strict";function d(a){var b=a.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)(\/[^?#]*)(\?[^#]*|)(#.*|)$/);return b[5]}var e,f=a("react"),g=a("../../components/GallerySlide.jsx"),h=a("react-addons-pure-render-mixin"),i=a("./Captions.jsx"),j=a("./Heading.jsx"),k=f.createClass({displayName:"Gallery",mixins:[h],propTypes:{analyticsEventSite:f.PropTypes.string,backgroundColor:f.PropTypes.string.isRequired,disableEnlarge:f.PropTypes.bool,galleryType:f.PropTypes.string,heading:f.PropTypes.string,hideForMobile:f.PropTypes.bool,moreHeading:f.PropTypes.string,pagewidePresentationDisabled:f.PropTypes.bool,previewAspectRatio:f.PropTypes.string,randomSort:f.PropTypes.bool,showAbstracts:f.PropTypes.bool,showAssetSources:f.PropTypes.bool,showCredits:f.PropTypes.bool,showCounter:f.PropTypes.bool,showCommerceLinks:f.PropTypes.bool,socialLinks:f.PropTypes.array,size:f.PropTypes.string.isRequired,title:f.PropTypes.shape({linkText:f.PropTypes.string,linkUrl:f.PropTypes.string,linkTarget:f.PropTypes.string})},getInitialState:function(){return this.gallery=null,this.currentSlide=this.props.indexToOpen+1,this.totalSlides=null,this.galleryShouldRender=!1,this.galleryInitialized=!1,{windowAspectRatio:null,showButtonsOnHoverOnly:!1,firstSlideActive:!0,lastSlideActive:!1,showCounter:!1,currentSlide:null,totalSlides:null}},onTransition:function(){if(!this.gallery)return!1;if(this.currentSlide=this.gallery.activeIndex?this.gallery.activeIndex+1:1,this.updateCounter(),"infinite"===this.props.galleryType&&window.history){var a=d(this.props.photosJson.items[this.currentSlide-1].pageUrl);history.replaceState(null,null,a)}1===this.currentSlide?this.isMounted()&&this.setState({firstSlideActive:!0,lastSlideActive:!1}):this.currentSlide===this.totalSlides?this.isMounted()&&this.setState({firstSlideActive:!1,lastSlideActive:!0}):this.isMounted()&&this.setState({firstSlideActive:!1,lastSlideActive:!1})},slidePrev:function(){this.gallery&&this.gallery.slidePrev()},slideNext:function(){this.gallery&&this.gallery.slideNext()},handleSlideChange:function(a){this.refs["slide-"+a.activeIndex].active(),dataLayer&&("yourShot"===this.props.galleryType?dataLayer.push({event:"photo-gallery","gallery-type":"your-shot"}):dataLayer.push({event:"photo-gallery","gallery-type":"other"}))},enlargeButtonClicked:function(){var a=this.props.pageTitle||"";this.props.title&&this.props.title.linkText&&(a=this.props.title.linkText),Pestle.emit("OpenPresentationGallery",this.props.photosJson.items[this.currentSlide-1].guid,null,this.props.photosJson.items[this.currentSlide-1].originalUrl)},updateCounter:function(){(this.currentSlide!==this.state.currentSlide||this.totalSlides!==this.state.totalSlides)&&this.setState({showCounter:!0,currentSlide:this.currentSlide,totalSlides:this.totalSlides})},initGallery:function(){var a=this;a.gallery=new Swiper(a.refs.galleryEl,{direction:"horizontal",initialSlide:a.props.indexToOpen,onTransitionStart:function(b){a.onTransition()},onTransitionEnd:function(b){Pestle.emit("AdRefresh_Gallery"),a.handleSlideChange(b)}}),a.onTransition(),a.galleryInitialized=!0,a.updateCounter(),a.refs.previousButton&&(a.refs.previousButton.addEventListener("click",a.gallery.slidePrev),a.refs.nextButton.addEventListener("click",a.gallery.slideNext)),a.refs.enlargeButton&&a.refs.enlargeButton.addEventListener("click",a.enlargeButtonClicked),e=function(){a.isMounted()&&a.setState({showButtonsOnHoverOnly:!0}),a.refs.galleryEl.removeEventListener("mousever",e)},a.refs.galleryEl.addEventListener("mouseover",e)},componentDidMount:function(){this.galleryShouldRender&&!this.galleryInitialized&&this.initGallery()},componentDidUpdate:function(){this.galleryShouldRender&&!this.galleryInitialized&&this.initGallery()},render:function(){var a=this,b=0,c=0,d=[],e=!1,h="gtm_photogallery_previous gallery__on-image-control gallery__prev-button hidden-xs ",k="gtm_photogallery_next gallery__on-image-control gallery__next-button hidden-xs ",l="gtm_photogallery_enlarge gallery_on-image-control gallery__enlarge-button ",m=this.props.previewAspectRatio||"three-two",n=.666667,o={backgroundColor:a.props.backgroundColor};return"sixteen-nine"===m?n=.5625:"four-three"===m&&(n=.75),a.props.photosJson&&a.props.photosJson.items&&(d=a.props.photosJson.items.map(function(d){return f.createElement(g,{ref:"slide-"+c++,key:b++,lazyLoad:!0,photo:d,galleryType:a.props.galleryType,windowAspectRatio:n})}),e=!0,a.galleryShouldRender=!0),this.state.showButtonsOnHoverOnly&&(h+="gallery__on-image-control--hover-only ",k+="gallery__on-image-control--hover-only ",l+="gallery__on-image-control--hover-only "),this.state.firstSlideActive&&(h+=" dim "),this.state.lastSlideActive&&(k+=" dim "),a.totalSlides=d.length,f.createElement("div",null,"infinite"!==this.props.galleryType?f.createElement(j,{heading:this.props.heading,currentSlide:this.state.currentSlide,totalSlides:this.state.totalSlides,additionalButtons:!0,firstSlideActive:this.state.firstSlideActive,lastSlideActive:this.state.lastSlideActive,showButtons:e,slidePrev:this.slidePrev,slideNext:this.slideNext,size:this.props.size,title:this.props.title}):null,f.createElement("div",{className:"inline-gallery__carousel-wrap inline-gallery__carousel-wrap--"+m},f.createElement("div",{ref:"galleryEl",className:"inline-gallery__carousel inline-gallery__carousel--not-moused-over swiper-container ",style:o},f.createElement("div",{className:"inline-gallery__wrapper swiper-wrapper"},d),e?f.createElement("div",null,f.createElement("img",{ref:"previousButton",className:h,src:"/etc/designs/platform/v2/images/Galleries/gallery-prev.png"}),f.createElement("img",{ref:"nextButton",className:k,src:"/etc/designs/platform/v2/images/Galleries/gallery-next.png"}),this.props.randomSort||this.props.pagewidePresentationDisabled||this.props.disableEnlarge||"infinite"===this.props.galleryType?null:f.createElement("span",{ref:"enlargeButton",className:l},f.createElement("span",{className:"hide-from-mobile"},"Enlarge"),f.createElement("span",{className:"gallery__enlarge-button__icons"},f.createElement("i",{className:"icongs-arrowse icongs"}),f.createElement("i",{className:"icongs-arrownw icongs"})))):null)),f.createElement(i,{currentSlide:this.currentSlide,galleryType:this.props.galleryType,photosJson:this.props.photosJson,showAbstracts:this.props.showAbstracts,showAssetSources:this.props.showAssetSources,showCredits:this.props.showCredits,showTitles:this.props.showTitles,showCommerceLinks:this.props.showCommerceLinks,size:this.props.size}))}});b.exports=k},{"../../components/GallerySlide.jsx":67,"./Captions.jsx":48,"./Heading.jsx":50,react:"react","react-addons-pure-render-mixin":168}],50:[function(a,b,c){"use strict";var d=a("react"),e=a("react-addons-pure-render-mixin"),f=a("../../components/Counter.jsx"),g=d.createClass({displayName:"Heading",mixins:[e],propTypes:{currentSlide:d.PropTypes.number,totalSlides:d.PropTypes.number,additionalButtons:d.PropTypes.bool,heading:d.PropTypes.string,showButtons:d.PropTypes.bool,firstSlideActive:d.PropTypes.bool,lastSlideActive:d.PropTypes.bool,size:d.PropTypes.string,slidePrev:d.PropTypes.func,slideNext:d.PropTypes.func,title:d.PropTypes.shape({linkText:d.PropTypes.string,linkUrl:d.PropTypes.string,linkTarget:d.PropTypes.string})},render:function(){var a=[],b="inline-gallery__title",c=0;if("medium"===this.props.size&&(b+=" inline-gallery__title_title-align"),this.props.title&&this.props.title.linkText)if(this.props.title.linkUrl){var e=this.props.title.linkTarget||"_blank",g=this.props.title.linkSeoTitle||"",h=this.props.title.linkTrackingCode?this.props.title.linkUrl+this.props.title.linkTrackingCode:this.props.title.linkUrl;a.push(d.createElement("h3",{key:c++,className:b},d.createElement("a",{href:h,alt:g,target:e,dangerouslySetInnerHTML:{__html:this.props.title.linkText}})))}else a.push(d.createElement("h3",{key:c++,className:b,dangerouslySetInnerHTML:{__html:this.props.title.linkText}}));return d.createElement("div",{className:"inline-gallery__header clearfix"},this.props.heading?d.createElement("h3",{className:"inline-gallery__header__more",dangerouslySetInnerHTML:{__html:this.props.heading}}):null,a,this.props.showButtons?d.createElement(f,{currentSlide:this.props.currentSlide,totalSlides:this.props.totalSlides,additionalButtons:!0,firstSlideActive:this.props.firstSlideActive,lastSlideActive:this.props.lastSlideActive,slidePrev:this.props.slidePrev,slideNext:this.props.slideNext}):null)}});b.exports=g},{"../../components/Counter.jsx":66,react:"react","react-addons-pure-render-mixin":168}],51:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react"),f=a("./Gallery.jsx"),g=a("react-addons-pure-render-mixin"),h=!1,i=e.createClass({displayName:"InlineGallery",mixins:[g],propTypes:{analyticsEventSite:e.PropTypes.string,backgroundColor:e.PropTypes.string.isRequired,disableEnlarge:e.PropTypes.bool,jsonDataOverride:e.PropTypes.object,endpoint:e.PropTypes.string.isRequired,galleryType:e.PropTypes.string,heading:e.PropTypes.string,hideForMobile:e.PropTypes.bool,id:e.PropTypes.string,pageTitle:e.PropTypes.string,pagewidePresentationDisabled:e.PropTypes.bool,previewAspectRatio:e.PropTypes.string,randomSort:e.PropTypes.bool,showAbstracts:e.PropTypes.bool.isRequired,showAssetSources:e.PropTypes.bool.isRequired,showCredits:e.PropTypes.bool.isRequired,showTitles:e.PropTypes.bool.isRequired,showCommerceLinks:e.PropTypes.bool.isRequired,size:e.PropTypes.string.isRequired,socialLinks:e.PropTypes.array,title:e.PropTypes.shape({linkText:e.PropTypes.string,linkUrl:e.PropTypes.string,linkTarget:e.PropTypes.string})},getInitialState:function(){return this.$window=window,{photosJson:null}},setNewContent:function(a){var b=0;if("infinite"===this.props.galleryType&&a.items&&a.items.length)for(var c=window.location.pathname,d=0;d<a.items.length;d++)a.items[d].pageUrl&&a.items[d].pageUrl.indexOf(c)>-1&&(b=d);this.isMounted()&&a.items&&this.setState({photosJson:a,indexToOpen:b})},componentWillMount:function(){this.props.jsonDataOverride&&this.setState({photosJson:this.props.jsonDataOverride})},componentDidMount:function(){var a,b=this;h=NGS.core_site.sandbox.aem.isEditMode(),this.state.photosJson||d.get(this.props.endpoint,function(c){a="infinite"===b.props.galleryType?galleryResultsOverride:c},"json").done(function(){b.setNewContent(a)}).fail(function(){NGS.core_site.sandbox.log.info("Inline Gallery query failure")})},render:function(){if(!this.state.photosJson||!this.state.photosJson.items.length)return h?e.createElement("div",{className:"empty-component-message"},e.createElement("div",{className:"empty-component-message__message"},"Insufficient Data - No Images Found")):!1;var a="gtm_photo_gallery inline-gallery ",b=this.props.title&&this.props.title.linkSeoTitle?this.props.title.linkSeoTitle:null;if("infinite"===this.props.galleryType&&(a+="inline-gallery--infinite "),this.props.size&&"medium"===this.props.size){var c="fullsize-element clearfix";return a+="inline-gallery--medium media--medium__container ",this.props.hideForMobile&&(c+="hidden-xs"),e.createElement("div",{className:c},e.createElement("div",{className:a,"data-photogallery-name":b,itemScope:"itemScope",itemType:"http://schema.org/ImageGallery"},e.createElement(f,{analyticsEventSite:this.props.analyticsEventSite,backgroundColor:this.props.backgroundColor,disableEnlarge:this.props.disableEnlarge,galleryType:this.props.galleryType,heading:this.props.heading,indexToOpen:this.state.indexToOpen,pagewidePresentationDisabled:this.props.pagewidePresentationDisabled,pageTitle:this.props.pageTitle,photosJson:this.state.photosJson,previewAspectRatio:this.props.previewAspectRatio,randomSort:this.props.randomSort,showAbstracts:this.props.showAbstracts,showAssetSources:this.props.showAssetSources,showCredits:this.props.showCredits,showTitles:this.props.showTitles,showCommerceLinks:this.props.showCommerceLinks,showCounter:this.state.showCounter,size:this.props.size,socialLinks:this.props.socialLinks,title:this.props.title})))}return a+="inline-gallery--small clearfix ",this.props.hideForMobile&&(a+="hidden-xs"),"related"===this.props.galleryType&&(a+="related"),e.createElement("div",{className:a,"data-photogallery-name":b,itemScope:"itemScope",itemType:"http://schema.org/ImageGallery"},e.createElement(f,{analyticsEventSite:this.props.analyticsEventSite,backgroundColor:this.props.backgroundColor,disableEnlarge:this.props.disableEnlarge,galleryType:this.props.galleryType,heading:this.props.heading,indexToOpen:this.state.indexToOpen,pageTitle:this.props.pageTitle,pagewidePresentationDisabled:this.props.pagewidePresentationDisabled,photosJson:this.state.photosJson,previewAspectRatio:this.props.previewAspectRatio,randomSort:this.props.randomSort,showAbstracts:this.props.showAbstracts,showAssetSources:this.props.showAssetSources,showCredits:this.props.showCredits,showTitles:this.props.showTitles,showCommerceLinks:this.props.showCommerceLinks,showCounter:this.state.showCounter,size:this.props.size,socialLinks:this.props.socialLinks,title:this.props.title}))}});b.exports=i},{"./Gallery.jsx":49,jquery:"jquery",react:"react","react-addons-pure-render-mixin":168}],52:[function(a,b,c){"use strict";var d=a("@natgeo/pestle"),e=a("./components/Presentation.jsx");window.React=a("react"),window.ReactDOM=a("react-dom"),d.Module.add("PresentationMode",{isLoaded:!1,initialize:function(){ReactDOM.render(React.createElement(e,{endpoint:this.options.endpoint,socialLinks:this.options.socialLinks,analyticsEventSite:this.options.analyticsEventSite}),this.el),this.isLoaded=!0}})},{"./components/Presentation.jsx":58,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],53:[function(a,b,c){"use strict";var d=a("react"),e=a("../../../Ads/Ad/Ad.jsx"),f=a("react-addons-pure-render-mixin"),g=d.createClass({displayName:"AdHolder",mixins:[f],propTypes:{allow600pxAd:d.PropTypes.bool,layout:d.PropTypes.string.isRequired},render:function(){if("mobile-landscape"===this.props.layout||"tablet-landscape"===this.props.layout||!NGS.core_site.sandbox.ads.globalAdConfig)return!1;var a="300x50, 320x50",b=NGS.core_site.sandbox.ads.globalAdConfig||null,c=NGS.core_site.sandbox.ads.getIndividualAdConfig("modal");return("tablet-portrait"===this.props.layout||"big-web"===this.props.layout)&&(a=this.props.allow600pxAd?"300x250, 300x600":"300x250"),c.dimensions=a,c.presentationGalleryRefresh=!0,d.createElement("div",{className:"presentation-gallery__ad-holder"},d.createElement(e,{globalAdConfig:b,adConfig:c}))}});b.exports=g},{"../../../Ads/Ad/Ad.jsx":3,react:"react","react-addons-pure-render-mixin":168}],54:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"CaptionButton",propTypes:{captionsOpen:d.PropTypes.bool.isRequired,hideInverse:d.PropTypes.bool,onClick:d.PropTypes.func},handleClick:function(){this.props.onClick()},componentDidMount:function(){var a=this;a.refs.captionButton.addEventListener("click",a.handleClick)},componentWillUnmount:function(){var a=this;a.refs.captionButton.removeEventListener("click",a.handleClick)},render:function(){return d.createElement("div",{className:"presentation-gallery__caption-button"},d.createElement("a",{href:"javascript:void(0)",ref:"captionButton"},this.props.captionsOpen?null:d.createElement("span",null,"Read Caption"),this.props.captionsOpen&&!this.props.hideInverse?d.createElement("span",null,"Hide Caption"):null))}});b.exports=e},{react:"react"}],55:[function(a,b,c){"use strict";var d,e=a("jquery"),f=a("react"),g=a("../../../CallToActionButton/CallToActionButton.jsx"),h=a("./CloseButton.jsx"),i=a("react-addons-pure-render-mixin"),j=a("lodash/debounce"),k=f.createClass({displayName:"CaptionDrawer",mixins:[i],propTypes:{captionsOpen:f.PropTypes.bool.isRequired,currentSlide:f.PropTypes.number,includeExtraData:f.PropTypes.bool,includeCaptionCloseButton:f.PropTypes.bool,toggleCaptions:f.PropTypes.func},getInitialState:function(){return this.i=0,this.j=1e4,this.ScrollableAreaExists=!1,{backdropHeight:0,captionShouldScroll:!1}},fadeBackIn:function(){var a=this;setTimeout(function(){e(a.refs.content).velocity({opacity:1},{duration:200,easing:"ease-in"})},300)},adjustBackdrop:function(){function a(a){var b=a.offsetHeight,c=getComputedStyle(a);return b+=parseInt(c.marginTop)+parseInt(c.marginBottom)}var b,c=this,d=!1,e=!1;b=c.props.captionsOpen?c.refs.content.offsetHeight:0,b!==c.state.backdropHeight&&(d=!0);var f=0;c.refs.slideTitle&&(f+=a(c.refs.slideTitle)),c.refs.slideCaption&&(f+=a(c.refs.slideCaption)),c.refs.yourShotDisclaimer&&(f+=a(c.refs.yourShotDisclaimer)),e=c.ScrollableAreaExists&&c.refs.scrollableWrap&&a(c.refs.scrollableWrap)<f,!c.state.captionShouldScroll&&e?d?c.setState({backdropHeight:b,captionShouldScroll:!0}):c.setState({captionShouldScroll:!0}):c.state.captionShouldScroll&&!e?d?c.setState({backdropHeight:b,captionShouldScroll:!1}):c.setState({captionShouldScroll:!1}):d&&c.setState({backdropHeight:b})},componentDidMount:function(){this.adjustBackdrop(),this.fadeBackIn(),d=j(this.adjustBackdrop,150),window.addEventListener("resize",d)},componentDidUpdate:function(){this.adjustBackdrop(),this.fadeBackIn()},componentWillUnmount:function(){window.removeEventListener("resize",d)},render:function(){var a="presentation-gallery__caption-drawer ",b=this.props.slides?this.props.slides[this.props.currentSlide-1]:null,c=[],d={height:this.state.backdropHeight+"px"};if(b){if(this.props.captionsOpen&&(a+="presentation-gallery__caption-drawer--open "),this.props.includeCaptionCloseButton&&c.push(f.createElement(h,{key:this.i++,closeModal:this.props.toggleCaptions,captionsOpen:!1})),!b.sizes&&b.title||b.caption){this.ScrollableAreaExists=!0;var e="presentation-gallery__caption-drawer__scrollable-area--wrap ";this.state.captionShouldScroll&&(e+="presentation-gallery__caption-drawer__scrollable-area--wrap--scroll"),c.push(f.createElement("div",{key:this.i++,ref:"scrollableWrap",className:e},f.createElement("div",{ref:"scrollableArea",className:"presentation-gallery__caption-drawer__scrollable-area"},f.createElement("div",{ref:"slideTitle",className:"presentation-gallery__caption-drawer__title"},b.title),f.createElement("div",{ref:"slideCaption",className:"presentation-gallery__caption-drawer__caption",dangerouslySetInnerHTML:{__html:b.caption}}))))}if(b.sizes){this.ScrollableAreaExists=!0;var e="presentation-gallery__caption-drawer__scrollable-area--wrap clearfix ";this.state.captionShouldScroll&&(e+="presentation-gallery__caption-drawer__scrollable-area--wrap--scroll"),c.push(f.createElement("div",{key:this.i++,ref:"scrollableWrap",className:e},f.createElement("div",{ref:"scrollableArea",className:"presentation-gallery__caption-drawer__scrollable-area"},f.createElement("div",{ref:"slideTitle",className:"presentation-gallery__caption-drawer__title"},b.title),f.createElement("div",{ref:"slideCaption",className:"presentation-gallery__caption-drawer__caption"},f.createElement("span",{itemProp:"caption"},"To view a caption from the photographer, click on the credit."),f.createElement("br",null)),f.createElement("div",{ref:"yourShotDisclaimer",className:"presentation-gallery__caption-drawer__your-shot-disclaimer"},f.createElement("p",null,"This photo was submitted to ",f.createElement("a",{href:"http://yourshot.nationalgeographic.com/?source=gallery",target:"_blank",className:"presentation-gallery__caption-drawer__your-shot-disclaimer--logo-link"},f.createElement("svg",{className:"presentation-gallery__caption-drawer__your-shot-disclaimer__logo"})),", our storytelling community where members can take part in photo assignments, get expert feedback, be published, and more. ",f.createElement("a",{href:"http://yourshot.nationalgeographic.com/?source=gallery#members.join",target:"_blank"},"Join now to submit your photos."))))))}this.props.includeExtraData&&(b.sizes&&c.push(f.createElement("span",{className:"presentation-gallery__caption-drawer__credit"},"Photograph By "),f.createElement("a",{key:this.i++,href:b["full-path-url"],target:"_blank"},f.createElement("span",{className:"presentation-gallery__caption-drawer__credit",dangerouslySetInnerHTML:{__html:b.credit}}),f.createElement("span",{className:"presentation-gallery__caption-drawer__credit"},", Your Shot"))),!b.sizes&&b.credit&&c.push(f.createElement("div",{key:this.i++,className:"presentation-gallery__caption-drawer__credit",dangerouslySetInnerHTML:{__html:b.credit}})),!b.sizes&&b.assetSource&&c.push(f.createElement("div",{key:this.i++,className:"presentation-gallery__caption-drawer__asset-source",dangerouslySetInnerHTML:{__html:b.assetSource}})),b.goldButton&&b.goldButton.linkUrl&&c.push(f.createElement(g,{key:this.i++,type:"button",path:b.goldButton.linkUrl,target:b.goldButton.linkTarget,label:b.goldButton.linkText})),b.silverButton&&b.silverButton.linkUrl&&c.push(f.createElement(g,{className:"silver mt_btn mt_btn--primary ",key:this.i++,type:"button",path:b.silverButton.linkUrl,target:b.silverButton.linkTarget,label:b.silverButton.linkText})))}return f.createElement("figcaption",{className:a},f.createElement("div",{ref:"backdrop",className:"presentation-gallery__caption-drawer__backdrop",style:d}),f.createElement("div",{key:this.j++,ref:"content",className:"presentation-gallery__caption-drawer__content"},c))}});b.exports=k},{"../../../CallToActionButton/CallToActionButton.jsx":21,"./CloseButton.jsx":56,jquery:"jquery","lodash/debounce":"lodash/debounce",react:"react","react-addons-pure-render-mixin":168}],56:[function(a,b,c){"use strict";var d=a("react"),e=a("react-addons-pure-render-mixin"),f=d.createClass({displayName:"CloseButton",mixins:[e],propTypes:{closeModal:d.PropTypes.func,captionsOpen:d.PropTypes.bool,toggleCaptions:d.PropTypes.func},handleClick:function(){this.props.captionsOpen?this.props.toggleCaptions():this.props.closeModal()},componentDidMount:function(){var a=this;a.refs.closeButton&&a.refs.closeButton.addEventListener("click",a.handleClick)},componentWillUnmount:function(){var a=this;a.refs.closeButton&&a.refs.closeButton.removeEventListener("click",a.handleClick)},render:function(){var a="presentation-gallery__close-button ";return this.props.captionsOpen||(a+="presentation-gallery__close-button--captions-closed"),d.createElement("div",{className:a},d.createElement("a",{href:"javascript:void(0)",ref:"closeButton"},this.props.captionsOpen?d.createElement("span",null,"Hide Caption"):d.createElement("i",{className:"icongs icongs-close"})))}});b.exports=f},{react:"react","react-addons-pure-render-mixin":168}],57:[function(a,b,c){"use strict";var d,e=a("jquery"),f=a("react"),g=a("../../components/GallerySlide.jsx"),h=a("./UpNextSlide.jsx"),i=a("lodash/debounce"),j=f.createClass({displayName:"Gallery",propTypes:{galleryId:f.PropTypes.number.isRequired,goToUpNextGallery:f.PropTypes.func,indexToOpen:f.PropTypes.number,showButtons:f.PropTypes.bool,updateCounter:f.PropTypes.func.isRequired,upNextActive:f.PropTypes.bool},getInitialState:function(){return this.gallery=null,this.currentSlide=this.props.indexToOpen+1,this.totalSlides=null,this.galleryShouldRender=!1,this.cachedSlides=null,this.cachedGalleryId=null,this.newGalleryNeeded=!0,{windowAspectRatio:null,showButtonsOnHoverOnly:!1,firstSlideActive:!1,lastSlideActive:!1}},slideNext:function(){this.props.upNextActive?this.props.goToUpNextGallery():this.gallery&&this.gallery.slideNext()},handleSlideChange:function(a){this.refs["slide-"+a.activeIndex].active()},slidePrev:function(){this.gallery&&this.gallery.slidePrev()},handleKeyDown:function(a){39===a.keyCode?this.slideNext():37===a.keyCode&&this.slidePrev()},onTransition:function(){return this.gallery?(this.currentSlide=this.gallery.activeIndex?this.gallery.activeIndex+1:1,this.props.updateCounter(this.currentSlide,this.totalSlides),void(1===this.currentSlide?this.isMounted()&&this.setState({firstSlideActive:!0,lastSlideActive:!1}):this.currentSlide===this.totalSlides?this.isMounted()&&this.setState({firstSlideActive:!1,lastSlideActive:!0}):this.isMounted()&&this.setState({firstSlideActive:!1,lastSlideActive:!1}))):!1},setWindowAspectRatio:function(){var a=e(this.refs.galleryEl),b=a.height()/a.width(),c=this;this.state.windowAspectRatio!==b&&this.isMounted()&&c.setState({windowAspectRatio:b})},initGallery:function(){var a=this;a.galleryShouldRender&&a.newGalleryNeeded&&(a.gallery=new Swiper(a.refs.galleryEl,{direction:"horizontal",initialSlide:a.props.indexToOpen,observeParents:!0,onTransitionStart:function(b){a.onTransition()},onTransitionEnd:function(b){Pestle.emit("AdRefresh_PresentationGallery"),a.handleSlideChange(b)}}),a.newGalleryNeeded=!1,a.setWindowAspectRatio(),a.props.updateCounter(a.props.indexToOpen+1,a.totalSlides),d=i(a.setWindowAspectRatio,150),window.addEventListener("resize",d),this.props.showButtons&&a.refs.previousButton&&(a.refs.previousButton.addEventListener("click",a.slidePrev),a.refs.nextButton.addEventListener("click",a.slideNext)),a.onTransition(),a.gallery.update(1),setTimeout(function(){a.isMounted()&&!a.state.showButtonsOnHoverOnly&&a.setState({showButtonsOnHoverOnly:!0})},2e3))},componentDidMount:function(){this.cachedSlides=this.props.slides,this.initGallery(),window.addEventListener("keydown",this.handleKeyDown)},componentDidUpdate:function(){this.newGalleryNeeded?(this.initGallery(),this.cachedGalleryId=this.props.galleryId,this.cachedSlides=this.props.slides):this.gallery&&this.gallery.update(1)},componentWillUnmount:function(){window.removeEventListener("resize",d),window.removeEventListener("keydown",this.handleKeyDown)},componentWillUpdate:function(a){this.props.galleryId===a.galleryId&&this.props.slides===a.slides||!this.gallery||(this.gallery.destroy(),this.newGalleryNeeded=!0)},shouldComponentUpdate:function(a,b){return this.state!==b?!0:this.props.galleryId!==a.galleryId},render:function(){if(!this.props.slides)return!1;this.galleryShouldRender=!0;var a,b=this,c=this.props.galleryId,d=0,e=b.props.slides.map(function(e){return e.sizes?a="yourShot":null,f.createElement(g,{ref:"slide-"+d++,key:c++,galleryType:a,photo:e,windowAspectRatio:b.state.windowAspectRatio})}),i="gtm_photogallery_previous gallery__on-image-control gallery__prev-button ",j="gtm_photogallery_next gallery__on-image-control gallery__next-button ";return this.state.showButtonsOnHoverOnly&&(i+=" gallery__on-image-control--hover-only ",j+=" gallery__on-image-control--hover-only "),this.state.firstSlideActive&&(i+=" dim "),this.state.lastSlideActive&&(j+=" dim "),this.props.upNextActive&&(j+=" hidden "),this.props.upNext&&e.push(f.createElement(h,{ref:"slide-"+d++,key:c++,page:this.props.upNext,goToUpNextGallery:this.props.goToUpNextGallery})),b.totalSlides=e.length,f.createElement("div",{ref:"galleryEl",className:"presentation-gallery__gallery-window swiper-container"},f.createElement("div",{className:"swiper-wrapper"},e),this.props.showButtons?f.createElement("div",null,f.createElement("img",{ref:"previousButton",className:i,src:"/etc/designs/platform/v2/images/Galleries/gallery-prev.png"}),f.createElement("img",{ref:"nextButton",className:j,src:"/etc/designs/platform/v2/images/Galleries/gallery-next.png"})):null)}});b.exports=j},{"../../components/GallerySlide.jsx":67,"./UpNextSlide.jsx":63,jquery:"jquery","lodash/debounce":"lodash/debounce",react:"react"}],58:[function(a,b,c){"use strict";var d,e,f=a("jquery"),g=a("react-addons-pure-render-mixin"),h=a("react"),i=a("../../components/Counter.jsx"),j=a("./CloseButton.jsx"),k=a("./CaptionButton.jsx"),l=a("./ShareButton.jsx"),m=a("./AdHolder.jsx"),n=a("./Gallery.jsx"),o=a("./CaptionDrawer.jsx"),p=a("./ShareDrawer.jsx"),q=a("./SlideInfoArea.jsx"),r=a("./Title.jsx"),s=a("lodash/debounce"),t=0;window.PresentationGalleryOpen=!1;var u=h.createClass({displayName:"PresentationGallery",mixins:[g],propTypes:{endpoint:h.PropTypes.string,socialLinks:h.PropTypes.array,jsonOverride:h.PropTypes.object},getInitialState:function(){return this.$window=window,this.body=f("html, body"),this.pathname=window.location.pathname,this.activeGallery="page",this.galleryShouldRender=!1,this.pageSlides=null,this.relatedSlides=null,this.galleryKey=1e7,this.upNext=null,this.pageTitle=null,this.relatedTitle=null,this.activeUpNextGalleryUrl=null,this.checkDeepLink=!0,this.showLoadingState=!0,{allow600pxAd:!1,captionsOpen:!1,currentSlide:null,isTooSmallForUpNextCTAButton:!1,layout:null,modalOpen:!1,indexToOpen:0,showCounter:!1,slides:null,title:null,totalSlides:null}},toggleCaptions:function(){var a=!this.state.captionsOpen;this.setState({captionsOpen:a})},updateCounter:function(a,b){(a!==this.state.currentSlide||b!==this.state.totalSlides)&&this.setState({showCounter:!0,currentSlide:a,totalSlides:b,captionsOpen:!1})},fireSocialModal:function(){Pestle.emit("socialmodal:toggle")},resizeHandler:function(){var a,b,c=f(this.$window).height(),d=f(this.$window).width(),e=!1;if(d>720&&c>600)d>1e3?(a="big-web",c>950&&(e=!0)):a=900>c?"tablet-landscape":"tablet-portrait";else if(c>d){a="mobile-portrait";var g=c-182,h=440>d?.6666667*(d-40):267,i=174+h;b=i>g}else a="mobile-landscape",b=500>d;(a!==this.state.layout||e!==this.state.allow600pxAd||b!==this.state.isTooSmallForUpNextCTAButton)&&this.setState({layout:a,allow600pxAd:e,isTooSmallForUpNextCTAButton:b})},handleKeyDown:function(a){27==a.keyCode&&this.closeModal()},getData:function(a,b,c){var d,e=this;f.get(a,function(a){d=a},"json").done(function(){e.setNewGalleryContent(d,b,c)}).fail(function(){NGS.core_site.sandbox.log.info("Presentation Gallery query failure")})},setNewGalleryContent:function(a,b){function c(a,b){for(var c=[],d=0;d<a.length;d++)if(b)c.push(a[d]);else if("PHOTO_GALLERY"===a[d].componentType&&a[d].items.length)for(var e=0;e<a[d].items.length;e++)c.push(a[d].items[e]);else"IMAGE"===a[d].componentType&&c.push(a[d]);return c}return a.items||a.relatedGallery&&a.relatedGallery.items?(this.pageSlides=c(a.items),this.pageTitle=a.title||null,a.relatedGallery&&a.relatedGallery.items.length&&(this.relatedSlides=c(a.relatedGallery.items,!0),this.relatedTitle=a.relatedGallery.title.linkText||this.title),this.upNext=a.upNext&&a.upNext.path&&a.upNext.title&&a.upNext.endpointUrl?a.upNext:null,this.galleryKey+=100,"upNext"===b&&this.isMounted()&&this.setState({captionsOpen:!1,showCounter:!1,currentSlide:null,totalSlides:null,indexToOpen:0,slides:this.pageSlides,title:this.pageTitle}),void(deepLinkProvided&&this.checkDeepLink&&(this.openGallery(null,deepLinkProvided),this.checkDeepLink=!1))):!1},openGallery:function(a,b,c){var d,e,g=this,h=null;if(g.galleryShouldRender=!1,!a&&c){for(var i=0;i<g.pageSlides.length;i++)g.pageSlides[i].originalUrl===c&&(h=i,g.activeGallery="page",e=g.pageSlides,d=this.pageTitle);if(!h&&g.relatedSlides)for(var i=0;i<g.relatedSlides.length;i++)g.relatedSlides[i].url&&-1!==g.relatedSlides[i].url.indexOf(b)&&(h=i,g.activeGallery="related",e=g.relatedSlides,d=this.relatedTitle)}else if(b){for(var i=0;i<g.pageSlides.length;i++){var j=g.pageSlides[i].url.indexOf(b);j=j+="qq",g.pageSlides[i].url&&-1!==g.pageSlides[i].url.indexOf(b)&&(h=i,g.activeGallery="page",e=g.pageSlides,d=this.pageTitle)}if(!h&&g.relatedSlides)for(var i=0;i<g.relatedSlides.length;i++)g.relatedSlides[i].url&&-1!==g.relatedSlides[i].url.indexOf(b)&&(h=i,g.activeGallery="related",e=g.relatedSlides,d=this.relatedTitle)}else{if(g.pageSlides)for(var i=0;i<g.pageSlides.length;i++)g.pageSlides[i].guid===a&&(h=i,g.activeGallery="page",e=g.pageSlides,d=this.pageTitle);if(!h&&g.relatedSlides)for(var i=0;i<g.relatedSlides.length;i++)g.relatedSlides[i].guid===a&&(h=i,g.activeGallery="related",e=g.relatedSlides,d=this.relatedTitle)}if(null===h)return b&&(this.body.removeClass("ngs-generic-modal__noscroll"),this.closeModal(),this.hideLoadingState()),!1;if(g.setState({captionsOpen:!1,currentSlide:null,indexToOpen:h||0,showCounter:!1,slides:e,title:d,totalSlides:null}),g.galleryShouldRender=!0,this.state.modalOpen||b)b&&g.setState({modalOpen:!0});else{g.setState({modalOpen:!0});var k=f(g.refs.modal);k.velocity({scale:"80%",opacity:0},{duration:1,complete:function(a){k.velocity({scale:"100%",opacity:1},{duration:150,easing:"ease-in"})}})}},closeModal:function(){this.state.modalOpen&&(this.activeUpNextGalleryUrl?window.location.href=this.activeUpNextGalleryUrl:this.isMounted()&&(Pestle.emit("FireBaseAds"),this.setState({modalOpen:!1})))},deepLinkManager:function(){if(!this.state.slides||!window.history)return!1;var a=this.activeUpNextGalleryUrl||this.pathname;if(this.state.modalOpen&&this.state.slides[this.state.currentSlide-1]){var b=this.state.slides[this.state.currentSlide-1].sizes?null:this.state.slides[this.state.currentSlide-1].url,c=b?"#/"+b.substring(b.lastIndexOf("/")+1):"";history.replaceState(null,null,a+c)}else history.replaceState(null,null,a)},goToUpNextGallery:function(a){a&&a.preventDefault(),this.upNext&&this.upNext.path&&(this.activeUpNextGalleryUrl=this.upNext.path,this.getData(this.upNext.endpointUrl,"upNext"),Pestle.emit("AdRefresh_PresentationGallery"))},hideLoadingState:function(){var a=document.getElementById("loadingPresentation");a&&(a.style.display="none",this.showLoadingState=!1)},componentWillMount:function(){this.resizeHandler(),this.props.jsonOverride?this.setNewGalleryContent(this.props.jsonOverride,"initial"):this.getData(this.props.endpoint,"initial",deepLinkProvided)},componentDidMount:function(){var a=this;Pestle.on("OpenPresentationGallery",a.openGallery),d=s(a.resizeHandler,100),e=s(a.resizeHandler,2e3),a.$window.addEventListener("resize",d),a.$window.addEventListener("orientationchange",e),a.$window.addEventListener("keydown",this.handleKeyDown)},componentDidUpdate:function(){this.deepLinkManager(),this.showLoadingState&&this.state.modalOpen&&this.hideLoadingState()},componentWillUnmount:function(){this.$window.removeEventListener("resize",d),this.$window.removeEventListener("orientationchange",e),this.$window.removeEventListener("keydown",this.handleKeyDown)},render:function(){var a="gtm_photo_gallery presentation-gallery ",b=[],c=[],d=[],e=!1,f=!0,g=!0,s="page"===this.activeGallery?this.upNext:null,u=this.upNext&&this.state.totalSlides&&this.state.totalSlides===this.state.currentSlide;if("big-web"===this.state.layout)a+="nonmobile big-web ",b.push(h.createElement("div",{key:t++,className:"presentation-gallery__header"},h.createElement("a",{href:"http://nationalgeographic.com",className:"presentation-gallery__logo-link"},h.createElement("div",{className:"presentation-gallery__box-logo"})),u?null:h.createElement("div",{className:"presentation-gallery__spacer "}),this.state.title?h.createElement(r,{title:this.state.title}):null,h.createElement(j,{closeModal:this.closeModal,captionsOpen:!1}),u?null:h.createElement("div",{className:"presentation-gallery__spacer presentation-gallery__spacer--right"}),u?null:h.createElement(p,{socialLinks:this.props.socialLinks,analyticsEventSite:this.props.analyticsEventSite}),this.state.showCounter&&!u?h.createElement(i,{currentSlide:this.state.currentSlide,totalSlides:this.state.totalSlides}):null)),c.push(h.createElement("div",{key:t++,className:"presentation-gallery__right-rail"},h.createElement(q,{analyticsEventSite:this.props.analyticsEventSite,toggleCaptions:this.toggleCaptions,slides:this.state.slides,currentSlide:this.state.currentSlide,captionsOpen:this.state.captionsOpen,includeShareDrawer:!1,socialLinks:this.props.socialLinks,upNextActive:u})));else if("tablet-portrait"===this.state.layout||"tablet-landscape"===this.state.layout){var v="tablet-portrait"===this.state.layout;a+=v?"nonmobile tablet-portrait ":"nonmobile tablet-landscape ",b.push(h.createElement("div",{key:t++,className:"presentation-gallery__header"},h.createElement("a",{href:"http://nationalgeographic.com",className:"presentation-gallery__logo-link"},h.createElement("div",{className:"presentation-gallery__box-logo"})),u?null:h.createElement("div",{className:"presentation-gallery__spacer "}),this.state.title?h.createElement(r,{title:this.state.title}):null,h.createElement(j,{closeModal:this.closeModal,captionsOpen:!1}),v||u?null:h.createElement("div",{className:"presentation-gallery__spacer presentation-gallery__spacer--right"}),v||u?null:h.createElement(p,{socialLinks:this.props.socialLinks,analyticsEventSite:this.props.analyticsEventSite}),v||u?null:h.createElement("div",{className:"presentation-gallery__spacer presentation-gallery__spacer--right"}),this.state.showCounter&&!u?h.createElement(i,{currentSlide:this.state.currentSlide,totalSlides:this.state.totalSlides}):null)),d.push(h.createElement("div",{key:t++,className:"presentation-gallery__footer"},h.createElement(q,{analyticsEventSite:this.props.analyticsEventSite,toggleCaptions:this.toggleCaptions,slides:this.state.slides,currentSlide:this.state.currentSlide,captionsOpen:this.state.captionsOpen,includeShareDrawer:v,socialLinks:this.props.socialLinks,upNextActive:u})))}else"mobile-portrait"===this.state.layout?(a+="mobile-portrait ",this.state.isTooSmallForUpNextCTAButton&&(a+="presentation-gallery--hide-up-next-cta-button"),e=!0,f=!1,g=!1,b.push(h.createElement("div",{key:t++,className:"presentation-gallery__header"},h.createElement("a",{href:"http://nationalgeographic.com",className:"presentation-gallery__logo-link"},h.createElement("div",{className:"presentation-gallery__box-logo"})),u?null:h.createElement("div",{className:"presentation-gallery__spacer "}),this.state.showCounter&&!u?h.createElement(i,{currentSlide:this.state.currentSlide,totalSlides:this.state.totalSlides}):null,h.createElement(j,{closeModal:this.closeModal,toggleCaptions:this.toggleCaptions,captionsOpen:this.state.captionsOpen}))),d.push(h.createElement("div",{key:t++,className:"presentation-gallery__footer"},u?null:h.createElement(k,{onClick:this.toggleCaptions,captionsOpen:this.state.captionsOpen,hideInverse:!0}),u?null:h.createElement(l,{onClick:this.fireSocialModal})))):"mobile-landscape"===this.state.layout&&(a+="mobile-landscape ",this.state.isTooSmallForUpNextCTAButton&&(a+="presentation-gallery--hide-up-next-cta-button"),e=!0,f=!1,g=!1,c.push(h.createElement("div",{key:t++,className:"presentation-gallery__right-rail"},h.createElement(j,{closeModal:this.closeModal,toggleCaptions:this.toggleCaptions,captionsOpen:this.state.captionsOpen}),u?null:h.createElement(k,{onClick:this.toggleCaptions,captionsOpen:this.state.captionsOpen,hideInverse:!0}),u?null:h.createElement(l,{onClick:this.fireSocialModal}),this.state.showCounter&&!u?h.createElement(i,{currentSlide:this.state.currentSlide,totalSlides:this.state.totalSlides}):null)));return this.state.modalOpen?(a+=" on-screen",this.body.addClass("ngs-generic-modal__noscroll"),PresentationGalleryOpen=!0):this.showLoadingState||(this.body.removeClass("ngs-generic-modal__noscroll"),PresentationGalleryOpen=!1),this.state.slides&&this.state.slides.length<2&&(f=!1),this.galleryShouldRender?h.createElement("div",{ref:"modal",className:a,"data-photogallery-name":this.state.title},b,h.createElement(n,{galleryId:this.galleryKey,slides:this.state.slides,updateCounter:this.updateCounter,indexToOpen:this.state.indexToOpen,showButtons:f,upNext:s,upNextActive:u,goToUpNextGallery:this.goToUpNextGallery}),c,d,h.createElement(o,{slides:this.state.slides,captionsOpen:this.state.captionsOpen,currentSlide:this.state.currentSlide,includeExtraData:e,includeCaptionCloseButton:g,toggleCaptions:this.toggleCaptions}),this.galleryShouldRender?h.createElement(m,{key:"adHolder",layout:this.state.layout,allow600pxAd:this.state.allow600pxAd}):null):h.createElement("div",{className:a,"data-photogallery-name":this.state.title})}});b.exports=u},{"../../components/Counter.jsx":66,"./AdHolder.jsx":53,"./CaptionButton.jsx":54,"./CaptionDrawer.jsx":55,"./CloseButton.jsx":56,"./Gallery.jsx":57,"./ShareButton.jsx":59,"./ShareDrawer.jsx":60,"./SlideInfoArea.jsx":61,"./Title.jsx":62,jquery:"jquery","lodash/debounce":"lodash/debounce",react:"react","react-addons-pure-render-mixin":168}],59:[function(a,b,c){"use strict";var d=a("react"),e=a("react-addons-pure-render-mixin"),f=d.createClass({displayName:"ShareButton",mixins:[e],propTypes:{onClick:d.PropTypes.func.isRequired},componentDidMount:function(){var a=this;this.refs.shareButton.addEventListener("click",function(){a.props.onClick()})},componentWillUnmount:function(){var a=this;this.refs.shareButton.removeEventListener("click",function(){a.props.onClick()})},render:function(){return d.createElement("a",{href:"javascript:void(0)",ref:"shareButton",className:"presentation-gallery__share-button"},d.createElement("i",{className:"icongs icongs-share"}))}});b.exports=f},{react:"react","react-addons-pure-render-mixin":168}],60:[function(a,b,c){"use strict";var d,e=a("react"),f=a("react-addons-pure-render-mixin"),g=a("../../../social/AddThis/SocialLink.jsx"),h=e.createClass({displayName:"ShareDrawer",mixins:[f],propTypes:{socialLinks:e.PropTypes.arrayOf(e.PropTypes.shape({socialLink:e.PropTypes.shape({icon:e.PropTypes.string,class:e.PropTypes.string,analyticsEvent:e.PropTypes.string})})),maxVisible:e.PropTypes.number},getInitialState:function(){return{collapsed:!0}},expand:function(){this.isMounted()&&this.setState({collapsed:!1})},componentDidMount:function(){var a=this;d=a.expand,this.refs.expandButton&&a.refs.expandButton.addEventListener("click",d),window.addthis?addthis.toolbox(".presentation-gallery__social-button__holder"):NGS.core_site.sandbox.log.info("Presentation Gallery - AddThis not initialized available")},componentWillUnmount:function(){var a=this;this.refs.expandButton&&a.refs.expandButton.removeEventListener("click",d)},handleClick:function(a,b){b.preventDefault(),"Print"===a&&window.print()},render:function(){var a=this,b="presentation-gallery__share-drawer__expand-button ";return this.state.collapsed||(b+="presentation-gallery__share-drawer__expand-button--collapsed "),e.createElement("div",{className:"presentation-gallery__share-drawer__wrap"},e.createElement("div",{className:"presentation-gallery__share-drawer"},e.createElement("div",{className:"presentation-gallery__share-drawer__spacer"},e.createElement("span",{className:"presentation-gallery__share-drawer__label"},"Share:"),this.props.socialLinks?this.props.socialLinks.map(function(b,c){return"Print"!==b.socialLink.analyticsEvent?e.createElement("div",{key:c,className:3>c||!a.state.collapsed?"presentation-gallery__social-button ":"presentation-gallery__social-button collapsable"},e.createElement(g,{className:"presentation-gallery__social-button__holder",icon:b.socialLink.icon,internalClassName:b.socialLink.class,analyticsEvent:b.socialLink.analyticsEvent,analyticsEventSite:a.props.analyticsEventSite,onClick:a.handleClick.bind(a,b.socialLink.analyticsEvent)})):void 0}):null,e.createElement("button",{className:b,ref:"expandButton"},e.createElement("div",{className:"presentation-gallery__share-drawer__expand-button__spacer"},e.createElement("div",{className:"presentation-gallery__share-drawer__expand-button__dot"}),e.createElement("div",{className:"presentation-gallery__share-drawer__expand-button__dot"}),e.createElement("div",{className:"presentation-gallery__share-drawer__expand-button__dot"}))))))}});b.exports=h},{"../../../social/AddThis/SocialLink.jsx":148,react:"react","react-addons-pure-render-mixin":168}],61:[function(a,b,c){"use strict";var d,e=a("react"),f=(a("./AdHolder.jsx"),a("../../../CallToActionButton/CallToActionButton.jsx")),g=a("./CaptionButton.jsx"),h=a("./ShareDrawer.jsx"),i=a("react-addons-pure-render-mixin"),j=a("lodash/debounce"),k=0,l=e.createClass({displayName:"SlideInfoArea",mixins:[i],propTypes:{analyticsEventSite:e.PropTypes.string,captionsOpen:e.PropTypes.bool.isRequired,currentSlide:e.PropTypes.number,includeShareDrawer:e.PropTypes.bool,socialLinks:e.PropTypes.array,toggleCaptions:e.PropTypes.func.isRequired,upNextActive:e.PropTypes.bool},getInitialState:function(){return this.ScrollableAreaExists=!1,this.currentSlide=1,{captionShouldScroll:!1}},checkForScroll:function(){var a=this.ScrollableAreaExists&&this.refs.scrollableWrap&&this.refs.scrollableWrap.offsetHeight<this.refs.credit.offsetHeight+this.refs.assetSource.offsetHeight;a&&!this.state.captionShouldScroll?this.isMounted()&&this.setState({captionShouldScroll:!0}):!a&&this.state.captionShouldScroll&&this.isMounted()&&this.setState({captionShouldScroll:!1})},componentDidMount:function(){this.checkForScroll(),this.refs.title&&this.props.title&&this.props.title.length>15&&NGS.core_site.sandbox.coreArticleHelpers.truncateText(this.refs.title),d=j(this.checkForScroll,150),window.addEventListener("resize",d)},componentDidUpdate:function(){this.currentSlide!=this.props.currentSlide&&this.checkForScroll(),this.currentSlide=this.props.currentSlide},componentWillUnmount:function(){window.removeEventListener("resize",d)},render:function(){var a=this.props.slides?this.props.slides[this.props.currentSlide-1]:null,b=[];if(this.props.includeShareDrawer&&!this.props.upNextActive&&b.push(e.createElement(h,{key:k++,socialLinks:this.props.socialLinks,analyticsEventSite:this.props.analyticsEventSite})),a){if(a.title&&b.push(e.createElement("div",{ref:"title",key:k++,className:"presentation-gallery__slide-info-area__title "},a.title)),a.sizes){this.ScrollableAreaExists=!0;var c="presentation-gallery__slide-info-area__scrollable-area--wrap ";this.state.captionShouldScroll&&(c+="presentation-gallery__slide-info-area__scrollable-area--wrap--scroll"),b.push(e.createElement("div",{key:this.i++,className:c},e.createElement("div",{className:"presentation-gallery__slide-info-area__scrollable-area"},e.createElement("span",{className:"presentation-gallery__caption-drawer__credit"},"Photograph By "),e.createElement("a",{href:a["full-path-url"],target:"_blank"},e.createElement("span",{ref:"credit",className:"presentation-gallery__caption-drawer__credit",dangerouslySetInnerHTML:{__html:a.credit}}),e.createElement("span",{ref:"assetSource",className:"presentation-gallery__caption-drawer__credit"},", Your Shot")))))}if(!a.sizes&&a.credit||a.assetSource){this.ScrollableAreaExists=!0;var c="presentation-gallery__slide-info-area__scrollable-area--wrap ";this.state.captionShouldScroll&&(c+="presentation-gallery__slide-info-area__scrollable-area--wrap--scroll"),b.push(e.createElement("div",{key:this.i++,ref:"scrollableWrap",className:c},e.createElement("div",{ref:"scrollableArea",className:"presentation-gallery__slide-info-area__scrollable-area"},e.createElement("div",{ref:"credit",className:"presentation-gallery__slide-info-area__credit",dangerouslySetInnerHTML:{__html:a.credit}}),e.createElement("div",{ref:"assetSource",className:"presentation-gallery__slide-info-area__asset-source",dangerouslySetInnerHTML:{__html:a.assetSource}}))))}(a.caption||a.sizes)&&b.push(e.createElement(g,{key:k++,onClick:this.props.toggleCaptions,captionsOpen:this.props.captionsOpen})),(a.silverButton&&a.silverButton.linkUrl||a.goldButton&&a.goldButton.linkUrl)&&b.push(e.createElement("div",{key:k++,className:"presentation-gallery__slide-info-area__buy-buttons"},a.goldButton&&a.goldButton.linkUrl?e.createElement(f,{type:"button",path:a.goldButton.linkUrl,target:a.goldButton.linkTarget,label:a.goldButton.linkText}):null,a.silverButton&&a.silverButton.linkUrl?e.createElement(f,{className:"silver mt_btn mt_btn--primary ",type:"button",path:a.silverButton.linkUrl,target:a.silverButton.linkTarget,label:a.silverButton.linkText}):null))}return e.createElement("div",{className:"presentation-gallery__slide-info-area"},b)}});b.exports=l},{"../../../CallToActionButton/CallToActionButton.jsx":21,"./AdHolder.jsx":53,"./CaptionButton.jsx":54,"./ShareDrawer.jsx":60,"lodash/debounce":"lodash/debounce",react:"react","react-addons-pure-render-mixin":168}],62:[function(a,b,c){"use strict";var d=a("react"),e=a("react-addons-pure-render-mixin"),f=d.createClass({displayName:"Title",mixins:[e],propTypes:{title:d.PropTypes.string.isRequired},componentDidMount:function(){this.props.title&&this.props.title.length>25&&NGS.core_site.sandbox.coreArticleHelpers.truncateText(this.refs.title)},render:function(){return d.createElement("div",{ref:"title",className:"presentation-gallery__title",dangerouslySetInnerHTML:{__html:this.props.title}})}});b.exports=f},{react:"react","react-addons-pure-render-mixin":168}],63:[function(a,b,c){"use strict";var d=a("react"),e=a("react-addons-pure-render-mixin"),f=a("../../../Common/components/Images/Images.jsx"),g=d.createClass({displayName:"UpNextSlide",mixins:[e],propTypes:{page:d.PropTypes.shape({path:d.PropTypes.string.isRequired,title:d.PropTypes.string.isRequired,image:d.PropTypes.shape({title:d.PropTypes.string,url:d.PropTypes.string,aspectRatio:d.PropTypes.aspectRatio,altText:d.PropTypes.string})})},getInitialState:function(){return{activated:!1}},componentDidMount:function(){this.refs.divLink.addEventListener("click",this.props.goToUpNextGallery),this.refs.continueButtonDesktop.addEventListener("click",this.props.goToUpNextGallery),this.refs.continueButtonMobile.addEventListener("click",this.props.goToUpNextGallery),this.refs.title&&this.props.page.title&&this.props.page.title.length>30&&NGS.core_site.sandbox.coreArticleHelpers.truncateText(this.refs.title)},componentWillUnmount:function(){this.refs.divLink.removeEventListener("click",this.props.goToUpNextGallery),this.refs.continueButtonDesktop.removeEventListener("click",this.props.goToUpNextGallery),this.refs.continueButtonMobile.removeEventListener("click",this.props.goToUpNextGallery)},active:function(){this.refs.image&&!this.state.activated&&(this.setState({activated:!0}),this.refs.image.load())},render:function(){var a=null,b=this.props.page;return b.image&&b.image.url&&(a={url:b.image.url,frameAspectRatio:.66667,aspectRatio:b.image.aspectRatio||null,isVideo:!1,altText:b.image.altText,lazyLoad:!0}),d.createElement("div",{className:"swiper-slide presentation-gallery__up-next-slide"},d.createElement("div",{className:"presentation-gallery__up-next-slide__holder clearfix"},d.createElement("a",{ref:"divLink",className:"div-link",href:b.path,title:"View Next Gallery"}),a?d.createElement("div",{className:"presentation-gallery__up-next-slide__label"},"MORE PHOTOS"):null,d.createElement("div",{className:"presentation-gallery__up-next-slide__image-and-title-holder clearfix"},a?d.createElement(f,{ref:"image",image:a}):null,d.createElement("div",{className:"presentation-gallery__up-next-slide__title-and-button-holder"},d.createElement("div",{ref:"title",className:"presentation-gallery__up-next-slide__title",dangerouslySetInnerHTML:{__html:b.title}}),d.createElement("div",{ref:"continueButtonMobile",className:"presentation-gallery__up-next-slide__continue-button presentation-gallery__up-next-slide__continue-button--mobile gallery__on-image-control"},d.createElement("div",{className:"presentation-gallery__up-next-slide__continue-button__holder mt_btn--primary"},d.createElement("span",null,"Continue"),d.createElement("i",{className:"icongs-directionright icongs"})))))),d.createElement("div",{ref:"continueButtonDesktop",className:"presentation-gallery__up-next-slide__continue-button presentation-gallery__up-next-slide__continue-button--desktop gallery__on-image-control"},d.createElement("div",{className:"presentation-gallery__up-next-slide__continue-button__holder mt_btn--primary"},d.createElement("span",null,"Continue"),d.createElement("i",{className:"icongs-directionright icongs"}))))}});b.exports=g},{"../../../Common/components/Images/Images.jsx":"platform/v2/components/Common/components/Images/Images.jsx",react:"react","react-addons-pure-render-mixin":168}],64:[function(a,b,c){"use strict";var d=a("@natgeo/pestle"),e=a("./YourShot.jsx");d.Module.add("YourShotGallery",{isLoaded:!1,initialize:function(){ReactDOM.render(React.createElement(e,{analyticsEventSite:this.options.analyticsEventSite,backgroundColor:this.options.backgroundColor,disableEnlarge:this.options.disableEnlarge,endpoint:this.options.endpoint,galleryType:this.options.galleryType,heading:this.options.heading,hideForMobile:this.options.hideForMobile,id:this.options.id,pageTitle:this.options.pageTitle,pagewidePresentationDisabled:this.options.pagewidePresentationDisabled,previewAspectRatio:this.options.previewAspectRatio,randomSort:this.options.randomSort,showAbstracts:this.options.showAbstracts,showAssetSources:this.options.showAssetSources,showCredits:this.options.showCredits,showTitles:this.options.showTitles,showCommerceLinks:this.options.showCommerceLinks,size:this.options.size,socialLinks:this.options.socialLinks,title:this.options.title}),this.el),this.isLoaded=!0}})},{"./YourShot.jsx":65,"@natgeo/pestle":"@natgeo/pestle"}],65:[function(a,b,c){"use strict";var d=a("react"),e=a("../Inline/components/Inline.jsx"),f=a("react-addons-pure-render-mixin"),g=d.createClass({displayName:"YourShotGallery",mixins:[f],propTypes:{analyticsEventSite:d.PropTypes.string,backgroundColor:d.PropTypes.string.isRequired,disableEnlarge:d.PropTypes.bool,endpoint:d.PropTypes.string.isRequired,galleryType:d.PropTypes.string,heading:d.PropTypes.string,hideForMobile:d.PropTypes.bool,id:d.PropTypes.string,pageTitle:d.PropTypes.string,pagewidePresentationDisabled:d.PropTypes.bool,previewAspectRatio:d.PropTypes.string,randomSort:d.PropTypes.bool,showAbstracts:d.PropTypes.bool.isRequired,showAssetSources:d.PropTypes.bool.isRequired,showCredits:d.PropTypes.bool.isRequired,showTitles:d.PropTypes.bool.isRequired,showCommerceLinks:d.PropTypes.bool.isRequired,size:d.PropTypes.string.isRequired,socialLinks:d.PropTypes.array,title:d.PropTypes.shape({linkText:d.PropTypes.string,linkUrl:d.PropTypes.string,linkTarget:d.PropTypes.string})},render:function(){var a="your-shot";return this.props.hideForMobile&&(a+=" hidden-xs"),d.createElement("section",{className:a},d.createElement("header",null,d.createElement("a",{href:"http://yourshot.nationalgeographic.com/",target:"_blank"},d.createElement("svg",{className:"your-shot__logo"})),d.createElement("span",{className:"your-shot__caption media__caption--text"},"These photos were taken by ",d.createElement("a",{href:"http://yourshot.nationalgeographic.com/",target:"_blank"},"Your Shot")," community members. ",d.createElement("a",{href:"http://yourshot.nationalgeographic.com/?source=gallery#members.join",target:"_blank"},"Join now")," to share your images, take part in story assignments, and get helpful feedback.")),d.createElement(e,{analyticsEventSite:this.props.analyticsEventSite,backgroundColor:this.props.backgroundColor,disableEnlarge:this.props.disableEnlarge,endpoint:this.props.endpoint,galleryType:this.props.galleryType,heading:this.props.heading,hideForMobile:this.props.hideForMobile,id:this.props.id,pageTitle:this.props.pageTitle,pagewidePresentationDisabled:this.props.pagewidePresentationDisabled,previewAspectRatio:this.props.previewAspectRatio,randomSort:this.props.randomSort,showAbstracts:this.props.showAbstracts,showAssetSources:this.props.showAssetSources,showCredits:this.props.showCredits,showTitles:this.props.showTitles,showCommerceLinks:this.props.showCommerceLinks,size:this.props.size,socialLinks:this.props.socialLinks,title:this.props.title}))}});b.exports=g},{"../Inline/components/Inline.jsx":51,react:"react","react-addons-pure-render-mixin":168}],66:[function(a,b,c){"use strict";var d=a("react"),e=a("react-addons-pure-render-mixin"),f=d.createClass({displayName:"Counter",mixins:[e],propTypes:{additionalButtons:d.PropTypes.bool,baseClass:d.PropTypes.string,currentSlide:d.PropTypes.number,totalSlides:d.PropTypes.number,slideNext:d.PropTypes.func,slidePrev:d.PropTypes.func},componentDidMount:function(){this.refs.previousButton&&(this.refs.previousButton.addEventListener("click",this.props.slidePrev),this.refs.nextButton.addEventListener("click",this.props.slideNext))},componentWillUnmount:function(){this.refs.previousButton&&(this.refs.previousButton.removeEventListener("click",this.props.slidePrev),this.refs.nextButton.removeEventListener("click",this.props.slideNext))},render:function(){var a=this.props.baseClass||"gallery",b=this.props.firstSlideActive?"faded":" ",c=this.props.lastSlideActive?"faded":" ";return d.createElement("div",{className:a+"__counter"},this.props.additionalButtons?d.createElement("i",{ref:"previousButton",className:" gtm_photogallery_previous icongs-directionleft icongs gallery__counter__prev "+b}):null,d.createElement("span",{className:a+"__current-item-display"},this.props.currentSlide)," / ",d.createElement("span",{className:a+"__total-items-display"},this.props.totalSlides),this.props.additionalButtons?d.createElement("i",{ref:"nextButton",className:"gtm_photogallery_next icongs-directionright icongs gallery__counter__next "+c}):null)}});b.exports=f},{react:"react","react-addons-pure-render-mixin":168}],67:[function(a,b,c){"use strict";var d=a("react"),e=a("../../Common/components/Images/Images.jsx"),f=a("react-addons-pure-render-mixin"),g=d.createClass({displayName:"GallerySlide",mixins:[f],propTypes:{galleryType:d.PropTypes.string,photo:d.PropTypes.shape({url:d.PropTypes.string,sizes:d.PropTypes.object,aspectRatio:d.PropTypes.number,altText:d.PropTypes.string,windowAspectRatio:d.PropTypes.number})},getInitialState:function(){return{activated:!1}},active:function(){!this.state.activated&&this.refs.image&&(this.setState({activated:!0}),this.refs.image.load())},render:function(){var a={url:this.props.photo.url,altText:this.props.photo.altText,aspectRatio:parseFloat(this.props.photo.aspectRatio),lazyLoad:!0,frameAspectRatio:this.props.windowAspectRatio,letterbox:!0};return"yourShot"===this.props.galleryType&&(a.isYourShotImage=!0,a.sizes=this.props.photo.sizes,a.lazyLoad=!1),d.createElement("div",{className:"swiper-slide"},this.props.windowAspectRatio?d.createElement(e,{ref:"image",image:a}):null)}});b.exports=g},{"../../Common/components/Images/Images.jsx":"platform/v2/components/Common/components/Images/Images.jsx",react:"react","react-addons-pure-render-mixin":168}],68:[function(a,b,c){"use strict";var d=a("./GenericCTAPromo.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("GenericCTAPromo",{initialize:function(){f.render(e.createElement(d,{title:this.options.title,blurb:this.options.text,img:this.options.image,cta:this.options.cta}),this.options.el)}})},{"./GenericCTAPromo.jsx":69,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],69:[function(a,b,c){"use strict";var d=a("react"),e=a("../CallToActionButton/CallToActionButton.jsx"),f=a("../Common/components/Images/Images.jsx"),g=d.createClass({displayName:"GenericCTAImg",propTypes:{imgModel:d.PropTypes.shape({url:d.PropTypes.string,aspectRatio:d.PropTypes.number,frameAspectRatio:d.PropTypes.number,lazyLoad:d.PropTypesbool})},render:function(){return d.createElement("div",{className:"generic-cta-promo__img-container"},d.createElement(f,{image:this.props.imgModel}))}}),h=new d.createClass({propTypes:{title:d.PropTypes.string},render:function(){return d.createElement("div",{className:"generic-cta-promo__title"},this.props.title)}}),i=new d.createClass({propTypes:{blurb:d.PropTypes.string},render:function(){return d.createElement("div",{className:"generic-cta-promo__blurb",dangerouslySetInnerHTML:{__html:this.props.blurb}})}}),j=d.createClass({displayName:"GenericCTAPromo",propTypes:{title:d.PropTypes.string,blurb:d.PropTypes.string,img:d.PropTypes.shape({url:d.PropTypes.string,aspectRatio:d.PropTypes.number}),cta:d.PropTypes.shape({linkText:d.PropTypes.string,linkUrl:d.PropTypes.string,linkTarget:d.PropTypes.string,linkTrackingCode:d.PropTypes.string,linkSeoTitle:d.PropTypes.string})},getDefaultProps:function(){return{cta:{linkText:"",linkUrl:"",linkTarget:"",linkTrackingCode:"",linkSeoTitle:""}}},render:function(){var a=this.props.img&&this.props.img.url?{url:this.props.img.url,aspectRatio:this.props.img.aspectRatio,frameAspectRatio:0,lazyLoad:!1}:null,b=this.props.cta.linkUrl&&this.props.cta.linkTrackingCode?this.props.cta.linkUrl+this.props.cta.linkTrackingCode:this.props.cta.linkUrl;return this.props.title||this.props.blurb||a||this.props.cta.linkText?d.createElement("div",{className:"generic-cta-promo__wrapper"},a?d.createElement(g,{imgModel:a}):null,d.createElement("div",{className:"generic-cta-promo"},this.props.title?d.createElement(h,{title:this.props.title}):null,this.props.blurb?d.createElement(i,{blurb:this.props.blurb}):null,this.props.cta.linkText&&this.props.cta.linkUrl?d.createElement("div",{className:"generic-cta-promo__btn"},d.createElement(e,{type:"button",path:b,title:this.props.cta.linkSeoTitle,target:this.props.cta.linkTarget,label:this.props.cta.linkText})):null)):NGS.core_site.sandbox.aem.isEditMode()?d.createElement("div",{className:"empty-component-message"},d.createElement("div",{className:"empty-component-message__message"},"Insufficient Data - Nothing to render")):!1}});b.exports=j},{"../CallToActionButton/CallToActionButton.jsx":21,"../Common/components/Images/Images.jsx":"platform/v2/components/Common/components/Images/Images.jsx",react:"react"}],70:[function(a,b,c){"use strict";var d=a("./GenericModal.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("GenericModal",{initialize:function(){f.render(e.createElement(d,null),this.options.el)}})},{"./GenericModal.jsx":"platform/v2/components/GenericModal/GenericModal.jsx","@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],71:[function(a,b,c){"use strict";var d=a("@natgeo/pestle"),e=(a("jquery"),a("@natgeo/modules-global-footer"));d.Module.add("GlobalFooter",{isLoaded:!1,initialize:function(){var a={autoInit:this.options.autoinit,baseContainer:this.options.basecontainer};this.GF=new e(a),this.isLoaded=!0}})},{"@natgeo/modules-global-footer":164,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery"}],72:[function(a,b,c){"use strict";var d=(a("jquery"),a("@natgeo/pestle")),e=a("@natgeo/modules-global-nav"),f=a("lodash/assign"),g=a("lodash/merge");d.Module.add("GlobalNav",{isLoaded:!1,defaults:{baseContainer:"#global_nav",loadTypeKit:!1,localization:!0,toggleDrawerButton:".gn_JS_toggle-drawer-button",display:"skinny",loadRegistration:!0,showSearch:!0,searchUrl:"https://www-s.nationalgeographic.com/search",responsive:!0,localSection:null,registrationOptions:{gigyaKey:"3_CmsN4ygKDetYsTJyVCkj5-H-YbBqcCQWCBhm_prJIQ6he9gF4fB3e7DEEJzpDEAO",show_user_ui:!1}},initialize:function(){window.NGS.modules=g({rp:{pageConfig:{endpoints:{mmdb:this.options.registrationOptions.mmdbHost,members:this.options.registrationOptions.memcenHost,notifications:this.options.registrationOptions.notificationsHost},notificationsKey:this.options.registrationOptions.notificationsKey}}},window.NGS.modules),this.GN=new e(f(this.defaults,this.options)),this.sandbox.log.info("GlobalNav is loaded")}})},{"@natgeo/modules-global-nav":165,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery","lodash/assign":"lodash/assign","lodash/merge":"lodash/merge"}],73:[function(a,b,c){"use strict";var d,e=a("react"),f=a("lodash/debounce"),g=e.createClass({displayName:"Captions",propTypes:{title:e.PropTypes.string,caption:e.PropTypes.string,image1Title:e.PropTypes.string,image1Caption:e.PropTypes.string,image1Credit:e.PropTypes.string,image2Title:e.PropTypes.string,image2Caption:e.PropTypes.string,image2Credit:e.PropTypes.string,size:e.PropTypes.string},updateDimensions:function(){var a=window,b=document,c=b.documentElement,d=b.getElementsByTagName("body")[0],e=a.innerWidth||c.clientWidth||d.clientWidth;this.setState({width:e})},componentWillMount:function(){this.updateDimensions()},componentDidMount:function(){d=f(this.updateDimensions,250),window.addEventListener("resize",d)},componentWillUnmount:function(){window.removeEventListener("resize",d)},render:function(){var a,b,c=": ",d=" (",f=") ",g=this.props.image1Credit===this.props.image2Credit,h=[],i=[],j=[],k=[],l="medium"===this.props.size?"media__caption medium-caption":"media__caption",m=0;return this.state.width<620?(a="Top",b="Bottom"):(a="Left",b="Right"),this.props.title||this.props.caption?(this.props.title&&i.push(e.createElement("span",{key:m++,className:"media__caption--title",dangerouslySetInnerHTML:{__html:this.props.title}})),this.props.caption&&i.push(e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.caption}}))):(this.props.image1Title?(i.push(e.createElement("span",{key:m++,className:"media__caption--title",dangerouslySetInnerHTML:{__html:a+c+this.props.image1Title}})),this.props.image1Caption&&i.push(e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.image1Caption}}))):this.props.image1Caption&&i.push(e.createElement("span",{key:m++,className:"position",dangerouslySetInnerHTML:{__html:a+c}}),e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.image1Caption}})),this.props.image2Title?(i.push(e.createElement("span",{key:m++,className:"media__caption--title right-pos-padding",dangerouslySetInnerHTML:{__html:b+c+this.props.image2Title}})),this.props.image2Caption&&i.push(e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.image2Caption}}))):this.props.image2Caption&&i.push(e.createElement("span",{key:m++,className:"position right-pos-padding",dangerouslySetInnerHTML:{__html:b+c}}),e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.image2Caption}}))),g?k.push(e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.image1Credit}})):this.props.image1Credit?(k.push(e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.image1Credit+(d+a+f)}})),this.props.image2Credit&&k.push(e.createElement("span",{key:m++}," and "),e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.image2Credit+d+b+f}}))):k.push(e.createElement("span",{key:m++,dangerouslySetInnerHTML:{__html:this.props.image2Credit+d+b+f}})),i.length&&h.push(e.createElement("div",{key:m++,className:"media__caption--text"},i)),k.length&&j.push(e.createElement("div",{key:m,className:"media__caption--credit"},k)),e.createElement("figcaption",{className:l},h,j)}});b.exports=g},{"lodash/debounce":"lodash/debounce",react:"react"}],74:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"EnlargeButton",render:function(){return d.createElement("span",{className:"image-hover-control--hover-only enlarge-button"},d.createElement("span",null,"Enlarge"),d.createElement("span",{className:"enlarge-button__icons"},d.createElement("i",{className:"icongs-arrowse icongs"}),d.createElement("i",{className:"icongs-arrownw icongs"})))}});b.exports=e},{react:"react"}],75:[function(a,b,c){"use strict";var d=a("react"),e=a("react-dom"),f=a("./ImageGroup.jsx");Pestle.Module.add("ImageGroup",{initialize:function(){e.render(d.createElement(f,{id:this.options.id,hideGutter:this.options.hideGutter,hideForMobile:this.options.hideForMobile,disableEnlarge:this.options.disableEnlarge,pagewidePresentationDisabled:this.options.pagewidePresentationDisabled,size:this.options.size,title:this.options.title,caption:this.options.caption,image1Path:this.options.image1Path,image1Title:this.options.image1Title,image1Caption:this.options.image1Caption,image1Credit:this.options.image1Credit,image1AltText:this.options.image1AltText,image1AspectRatio:this.options.image1AspectRatio,image1Guid:this.options.image1Guid,image2Path:this.options.image2Path,image2Title:this.options.image2Title,image2Caption:this.options.image2Caption,image2Credit:this.options.image2Credit,image2AltText:this.options.image2AltText,image2AspectRatio:this.options.image2AspectRatio,image2Guid:this.options.image2Guid}),this.el)}})},{"./ImageGroup.jsx":76,react:"react","react-dom":"react-dom"}],76:[function(a,b,c){"use strict";var d=a("react"),e=a("../Common/components/Images/Images.jsx"),f=a("./EnlargeButton.jsx"),g=a("./Captions.jsx"),h=d.createClass({displayName:"ImageGroup",propTypes:{id:d.PropTypes.string,hideGutter:d.PropTypes.bool,hideForMobile:d.PropTypes.bool,disableEnlarge:d.PropTypes.bool,pagewidePresentationDisabled:d.PropTypes.bool,size:d.PropTypes.string,title:d.PropTypes.string,caption:d.PropTypes.string,image1Path:d.PropTypes.string.isRequired,image1Title:d.PropTypes.string,image1Caption:d.PropTypes.string,image1Credit:d.PropTypes.string,image1AltText:d.PropTypes.string,image1AspectRatio:d.PropTypes.number,image1Guid:d.PropTypes.string,image2Path:d.PropTypes.string.isRequired,image2Title:d.PropTypes.string,image2Caption:d.PropTypes.string,image2Credit:d.PropTypes.string,image2AltText:d.PropTypes.string,image2AspectRatio:d.PropTypes.number,image2Guid:d.PropTypes.string},getDefaultProps:function(){return{hideGutter:!1,hideForMobile:!1}},componentDidMount:function(){var a=this;a.refs.enlargeButton1.addEventListener("click",a.openGalleryImage1),a.refs.enlargeButton2.addEventListener("click",a.openGalleryImage2)},componentWillUnmount:function(){this.refs.enlargeButton1.removeEventListener("click",self.openGalleryImage1),this.refs.enlargeButton2.removeEventListener("click",self.openGalleryImage2)},openGalleryImage1:function(){Pestle.emit("OpenPresentationGallery",this.props.image1Guid)},openGalleryImage2:function(){Pestle.emit("OpenPresentationGallery",this.props.image2Guid)},render:function(){var a="cinematic"===this.props.size?"100vw":null,b=this.props.image1AspectRatio||2/3,c=this.props.hideForMobile?"hide-for-mobile":null,h=this.props.size?" media--"+this.props.size:null,i={url:this.props.image1Path,frameAspectRatio:b,aspectRatio:this.props.image1AspectRatio,altText:this.props.image1AltText,lazyLoad:!0,widthOverride:a},j={url:this.props.image2Path,frameAspectRatio:b,aspectRatio:this.props.image2AspectRatio,altText:this.props.image2AltText,lazyLoad:!0,widthOverride:a},k="image-group__first-image standalone-linked",l="image-group__second-image standalone-linked";return this.props.hideGutter&&(this.props.disableEnlarge||this.props.pagewidePresentationDisabled)?(k+=" hide-hover",l+=" hide-hover"):1!=this.props.hideGutter&&(this.props.disableEnlarge||this.props.pagewidePresentationDisabled)?(k+=" image-group__first-image_gutter hide-hover",l+=" image-group__second-image_gutter hide-hover"):1!=this.props.hideGutter&&1!=this.props.disableEnlarge&&(k+=" image-group__first-image_gutter",l+=" image-group__second-image_gutter"),d.createElement("div",{className:c},d.createElement("div",{className:"image-group image"+h},d.createElement("div",{className:k,ref:"enlargeButton1"},d.createElement(e,{image:i}),d.createElement(f,null)),d.createElement("div",{className:l,ref:"enlargeButton2"},d.createElement(e,{image:j}),d.createElement(f,null)),d.createElement("div",{className:"clearfix"}),d.createElement(g,{title:this.props.title,caption:this.props.caption,image1Title:this.props.image1Title,image1Caption:this.props.image1Caption,image1Credit:this.props.image1Credit,image2Title:this.props.image2Title,image2Caption:this.props.image2Caption,image2Credit:this.props.image2Credit,size:this.props.size})))}});b.exports=h},{"../Common/components/Images/Images.jsx":"platform/v2/components/Common/components/Images/Images.jsx","./Captions.jsx":73,"./EnlargeButton.jsx":74,react:"react"}],77:[function(a,b,c){"use strict";a("es5-shim"),window.$=window.jQuery=a("jquery"),window.React=a("react"),window.ReactDOM=a("react-dom"),window.Pestle=a("@natgeo/pestle");var d=a("./ImmersiveLead.jsx");Pestle.Module.add("ImmersiveLead",{isLoaded:!1,initialize:function(){ReactDOM.render(React.createElement(d,{model:this}),this.el),this.isLoaded=!0}})},{"./ImmersiveLead.jsx":78,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react","react-dom":"react-dom"}],78:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=a("@natgeo/pestle"),g=a("../Common/components/Images/Images.jsx"),h=a("./SocialButtons.jsx"),i=a("lodash/debounce");a("velocity-animate");var j=e.createClass({displayName:"Heading",render:function(){return e.createElement("h2",{className:"immersive-lead__heading",dangerouslySetInnerHTML:{__html:this.props.heading}})}}),k=e.createClass({displayName:"Description",render:function(){return e.createElement("div",{className:"immersive-lead__description",dangerouslySetInnerHTML:{__html:this.props.description}})}}),l=e.createClass({displayName:"TintOverlay",propTypes:{tint:e.PropTypes.string},render:function(){var a="immersive-lead__tint-overlay";return a+=this.props.tint?" immersive-lead__tint-overlay--"+this.props.tint:"",e.createElement("div",{className:a})}}),m=e.createClass({displayName:"DownArrow",arrowClicked:function(){var a=this.props.el||d(".immersive-lead"),b="mobile"===this.props.breakpoint?50:120,c=a.offset().top+a.height()-b;d("html").velocity("scroll",{offset:c+"px",mobileHA:!1})},componentDidMount:function(){var a=this;this.refs.arrow.addEventListener("click",function(){a.arrowClicked()})},componentWillUnmount:function(){var a=this;this.refs.arrow.removeEventListener("click",function(){a.arrowClicked()})},render:function(){return e.createElement("div",{className:"immersive-lead__down-arrow",ref:"arrow"},e.createElement("i",{className:"icongs icongs-directiondown"}))}}),n=e.createClass({displayName:"CreditDisplay",propTypes:{credit:e.PropTypes.string.isRequired},render:function(){return e.createElement("div",{className:"immersive-lead__credit media__caption"},e.createElement("small",{className:"media__caption--credit",dangerouslySetInnerHTML:{__html:this.props.credit}}))}}),o=e.createClass({displayName:"Content",propTypes:{model:e.PropTypes.shape({description:e.PropTypes.string,heading:e.PropTypes.string,showFacebook:e.PropTypes.bool,showGooglePlus:e.PropTypes.bool,showInstagram:e.PropTypes.bool,showLinkedIn:e.PropTypes.bool,showPinterest:e.PropTypes.bool,showTumblr:e.PropTypes.bool,showTwitter:e.PropTypes.bool,showWhatsApp:e.PropTypes.bool}).isRequired},render:function(){var a="mobile"===NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint()?"mobile":"desktop",b=!1,c="immersive-lead__space-taking-content ",d="immersive-lead__space-taking-content-wrap ";return this.props.noOpacity&&(c+="immersive-lead--hide",d+="immersive-lead--hide"),this.props.model.showFacebook?b=!0:this.props.model.showTwitter?b=!0:this.props.model.showInstagram?b=!0:this.props.model.showPinterest?b=!0:this.props.model.showGooglePlus?b=!0:this.props.model.showTumblr?b=!0:this.props.model.showLinkedIn?b=!0:this.props.model.showWhatsApp&&(b=!0),b||(a=""),e.createElement("div",{className:d},"desktop"===a?e.createElement(h,{model:this.props.model,cssClass:"upper-left"}):"",e.createElement("div",{className:c},this.props.model.heading?e.createElement(j,{heading:this.props.model.heading}):"",this.props.model.description?e.createElement(k,{description:this.props.model.description}):"","mobile"===a?e.createElement(h,{model:this.props.model}):""))}}),p=e.createClass({displayName:"ImmersiveLead",propTypes:{model:e.PropTypes.shape({$el:e.PropTypes.object,options:e.PropTypes.shape({altText:e.PropTypes.string,aspectRatio:e.PropTypes.number,credit:e.PropTypes.string,description:e.PropTypes.string,heading:e.PropTypes.string,leadImageUrl:e.PropTypes.string,showCredit:e.PropTypes.bool,showDownArrow:e.PropTypes.bool,showFacebook:e.PropTypes.bool,showGooglePlus:e.PropTypes.bool,showInstagram:e.PropTypes.bool,showLinkedIn:e.PropTypes.bool,showPinterest:e.PropTypes.bool,showTumblr:e.PropTypes.bool,showTwitter:e.PropTypes.bool,showWhatsApp:e.PropTypes.bool})}).isRequired,containerDivHeight:e.PropTypes.string,imageFrameAspectRatio:e.PropTypes.string,wrapperCssClasses:e.PropTypes.string},getInitialState:function(){return{showEditModeMessage:!1,screenMeasureTaken:!1,imageHasRendered:!1,wrapperClasses:"immersive-lead__content-wrapper",containerDivHeight:"auto",imageFrameAspectRatio:"0.5625",imageCrop:"ImmersiveLeadHorizontal",windowWidth:d(window).width||0}},imageHasRendered:function(){f.emit("fireAds"),this.isMounted()&&this.setState({imageHasRendered:!0})},fillViewport:function(){this.setState({containerDivHeight:"auto",wrapperClasses:"immersive-lead__content-wrapper"});var a,b,c=this.props.model.$el,e=c.height(),f=d(window).width()>1900?1900:d(window).width(),g=d(window).height(),h=c.offset().top;if(g>e+h){var i=g-h;a=i/f,b=a>1?"ImmersiveLeadVertical":"ImmersiveLeadHorizontal",this.setState({screenMeasureTaken:!0,imageFrameAspectRatio:a,imageCrop:b,containerDivHeight:i+"px",wrapperClasses:"immersive-lead__content-wrapper immersive-lead--center-content"})}else a=e/f,b=a>1?"ImmersiveLeadVertical":"ImmersiveLeadHorizontal",this.setState({screenMeasureTaken:!0,imageFrameAspectRatio:a,imageCrop:b})},handleResize:function(){if(d(window).width()!=this.state.windowWidth){var a=d(window).width()||0;this.setState({screenMeasureTaken:!1,windowWidth:a}),this.fillViewport()}},componentWillMount:function(){this.props.model.options.heading&&this.props.model.options.leadImageUrl||!NGS.core_site.sandbox.aem.isEditMode()||this.setState({showEditModeMessage:!0})},componentDidMount:function(){this.fillViewport();var a=i(this.handleResize,250);window.addEventListener("resize",a)},componentWillUnmount:function(){var a=i(this.handleResize,250);window.removeEventListener("resize",a)},render:function(){var a=this.props.model.sandbox.coreArticleHelpers.getBreakpoint()||"desktop",b={height:this.state.containerDivHeight};if(this.state.showEditModeMessage)return e.createElement("div",{className:"immersive-lead__edit-message"},e.createElement("h2",null,"Insufficient Data!"),e.createElement("p",null,"Component requires at least a heading and a valid image to render"));var c={url:this.props.model.options.leadImageUrl,altText:this.props.model.options.altText||"",aspectRatio:parseFloat(this.props.model.options.aspectRatio)||null,frameAspectRatio:parseFloat(this.state.imageFrameAspectRatio)||null,isVideo:!1,imageCrop:this.state.imageCrop||""};return e.createElement("div",{className:this.state.wrapperClasses,style:b},e.createElement(g,{image:c,onLoad:this.imageHasRendered}),this.state.imageHasRendered?e.createElement(l,{tint:this.props.model.options.tint}):"",e.createElement(o,{model:this.props.model.options,noOpacity:!this.state.imageHasRendered}),this.props.model.options.showDownArrow&&this.state.imageHasRendered?e.createElement(m,{el:this.props.model.options.$el,breakpoint:a}):"",this.props.model.options.credit&&this.props.model.options.showCredit?e.createElement(n,{credit:this.props.model.options.credit}):"")}});b.exports=p},{"../Common/components/Images/Images.jsx":"platform/v2/components/Common/components/Images/Images.jsx","./SocialButtons.jsx":79,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery","lodash/debounce":"lodash/debounce",react:"react","velocity-animate":"velocity-animate"}],79:[function(a,b,c){"use strict";var d=a("jquery"),e=React.createClass({displayName:"FacebookButton",render:function(){return React.createElement("div",{className:"social-button"},React.createElement("a",{className:"addthis_button_facebook "},React.createElement("i",{className:"icongs icongs-facebook"})))}}),f=React.createClass({displayName:"TwitterButton",render:function(){return React.createElement("div",{className:"social-button"},React.createElement("a",{className:"addthis_button_twitter "},React.createElement("i",{className:"icongs icongs-twitter"})))}}),g=React.createClass({displayName:"InstagramButton",render:function(){var a={color:"red"};return React.createElement("div",{className:"social-button"},React.createElement("a",{className:"addthis_button_whatsapp ",style:a},React.createElement("i",{className:"icongs icongs-close"})))}}),h=React.createClass({displayName:"PinterestButton",render:function(){return React.createElement("div",{className:"social-button"},React.createElement("a",{className:"addthis_button_pinterest_share "},React.createElement("i",{className:"icongs icongs-pinterest"})))}}),i=React.createClass({displayName:"GooglePlusButton",render:function(){return React.createElement("div",{className:"social-button"},React.createElement("a",{className:"addthis_button_google_plusone_share "},React.createElement("i",{className:"icongs icongs-googleplus"})))}}),j=React.createClass({displayName:"TumblrButton",render:function(){return React.createElement("div",{className:"social-button"},React.createElement("a",{className:"addthis_button_tumblr "},React.createElement("i",{className:"icongs icongs-tumblr"})))}}),k=React.createClass({displayName:"LinkedInButton",render:function(){return React.createElement("div",{className:"social-button"},React.createElement("a",{className:"addthis_button_linkedin "},React.createElement("i",{className:"icongs icongs-linkedin"})))}}),l=React.createClass({displayName:"WhatsAppButton",render:function(){var a={color:"red"};return React.createElement("div",{className:"social-button"},React.createElement("a",{className:"addthis_button_whatsapp_share ",style:a},React.createElement("i",{className:"icongs icongs-close"})))}}),m=React.createClass({displayName:"SocialButtons",propTypes:{model:React.PropTypes.shape({showFacebook:React.PropTypes.bool,showGooglePlus:React.PropTypes.bool,showInstagram:React.PropTypes.bool,showLinkedIn:React.PropTypes.bool,showPinterest:React.PropTypes.bool,showTumblr:React.PropTypes.bool,showTwitter:React.PropTypes.bool,showWhatsApp:React.PropTypes.bool}).isRequired,cssClass:React.PropTypes.string},componentDidMount:function(){var a=NGS&&NGS.core_site&&NGS.core_site.sandbox&&NGS.core_site.sandbox.util?NGS.core_site.sandbox.util.parseTag("meta[name^='twitter:site']").content.replace("@",""):"NatGeo",b={addthis_config:{pubid:"ng-dmg",data_track_addressbar:!1,data_track_clickback:!1},addthis_share:{url_transforms:{shorten:{twitter:"bitly"}},shorteners:{bitly:{}},passthrough:{twitter:{via:a}}}};window.addthis_config=b.addthis_config,window.addthis_share=b.addthis_share,d.getScript("//s7.addthis.com/js/300/addthis_widget.js#pubid=ng-dmg")},render:function(){var a=[],b="addthis_toolbox immersive-lead__social-buttons ",c=0;return b+=this.props.cssClass?this.props.cssClass:"",this.props.model.showFacebook&&a.push(React.createElement(e,{key:c++})),this.props.model.showTwitter&&a.push(React.createElement(f,{key:c++})),this.props.model.showInstagram&&a.push(React.createElement(g,{key:c++})),this.props.model.showPinterest&&a.push(React.createElement(h,{key:c++})),this.props.model.showGooglePlus&&a.push(React.createElement(i,{key:c++})),this.props.model.showTumblr&&a.push(React.createElement(j,{key:c++})),this.props.model.showLinkedIn&&a.push(React.createElement(k,{key:c++})),this.props.model.showWhatsApp&&a.push(React.createElement(l,{key:c++})),React.createElement("div",{className:b},a)}});b.exports=m},{jquery:"jquery"}],80:[function(a,b,c){"use strict";var d=a("@natgeo/pestle"),e=a("jquery"),f=a("react"),g=a("react-dom"),h=a("../Common/components/ShowMoreButton/ShowMoreButton.jsx"),i=480;d.Module.add("InDepthContent",{initialize:function(){var a=e(this.options.el).prev(".in-depth-content");if(!a)return!1;var b=e(a).find(".in-depth-content__space-holder").height()||0;if(i>b)return a.addClass("in-depth-content--no-truncation"),!1;var c=function(){a.addClass("in-depth-content--no-truncation"),a.velocity({maxHeight:"5000px"},{easing:"linear",duration:100})};g.render(f.createElement(h,{onClick:c,label:"Read More"}),this.options.el)}})},{"../Common/components/ShowMoreButton/ShowMoreButton.jsx":30,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery",react:"react","react-dom":"react-dom"}],81:[function(a,b,c){"use strict";var d=(window.jQuery=a("jquery"),a("./InteractiveStickyNav.jsx")),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("InteractiveStickyNav",{initialize:function(){f.render(e.createElement(d,{featureTitle:this.options.featureTitle,chapterLinks:this.options.chapterLinks,socialLinks:this.options.socialLinks,commentingEnabled:this.options.commentingEnabled}),this.options.el)}})},{"./InteractiveStickyNav.jsx":82,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery",react:"react","react-dom":"react-dom"}],82:[function(a,b,c){"use strict";var d=a("react"),e=a("./components/TitleItem.jsx"),f=a("./components/ShareButton.jsx"),g=a("./components/ShareDrawer.jsx"),h=a("../Ads/Ad/Ad.jsx"),i=a("../social/SocialModal/SocialModal.jsx"),j=new d.createClass({propTypes:{featureTitle:d.PropTypes.string,chapterLinks:d.PropTypes.array,socialLinks:d.PropTypes.array,commentingEnabled:d.PropTypes.bool,analyticsEventSite:d.PropTypes.string},componentDidMount:function(){NGS.core_site.sandbox.stickyBehavior.initStickiness("interactive",NGS.core_site.sandbox,"interactiveNav")},getDefaultProps:function(){return{featureTitle:"",chapterLinks:[],socialLinks:[],commentingEnabled:!0}},fireSocialModal:function(){Pestle.emit("socialmodal:toggle")},render:function(){return d.createElement("div",{className:"interactive-sticky-nav"},d.createElement("div",{className:"interactive-sticky-nav__wrap"},d.createElement("div",{className:"interactive-sticky-nav__header"},d.createElement("a",{href:"http://nationalgeographic.com",className:"interactive-sticky-nav__logo-link"},d.createElement("div",{className:"icongs icongs-border"})),d.createElement("div",{className:"interactive-sticky-nav__title"},d.createElement(e,{title:this.props.featureTitle,chapterLinks:this.props.chapterLinks})),d.createElement(g,{showComments:this.props.commentingEnabled,socialLinks:this.props.socialLinks,analyticsEventSite:this.props.analyticsEventSite}),d.createElement(f,{onClick:this.fireSocialModal}),d.createElement(i,{label:"Share this link",socialLinks:this.props.socialLinks,analyticsEventSite:this.props.analyticsEventSite}),d.createElement("div",{className:"interactive-sticky-nav__ad clearfix"},NGS.core_site.sandbox.ads?d.createElement(h,{globalAdConfig:NGS.core_site.sandbox.ads.globalAdConfig,adConfig:NGS.core_site.sandbox.ads.getIndividualAdConfig("sponsorAd_upperRight")}):null))))}});b.exports=j},{"../Ads/Ad/Ad.jsx":3,"../social/SocialModal/SocialModal.jsx":149,"./components/ShareButton.jsx":84,"./components/ShareDrawer.jsx":85,"./components/TitleItem.jsx":86,react:"react"}],83:[function(a,b,c){"use strict";var d=a("react"),e=a("jquery"),f=e(window),g=a("lodash/debounce"),h=a("../../Common/components/GenericLink.jsx"),i=a("../../Common/components/UnorderedList.jsx"),j=d.createClass({displayName:"DropDownContainer",propTypes:{items:d.PropTypes.array.isRequired},getDefaultProps:function(){return{items:[]}},setMaxHeight:function(){var a=e(".feature-label"),b=a.find("ul"),c=f.height()-(a.offset().top-f.scrollTop());b.css({"max-height":c-a.height()-26+"px"})},componentDidMount:function(){var a=this;Pestle.once("dfpcall:contentchanged_header",function(){a.setMaxHeight()}),f.resize(g(a.setMaxHeight,150)),f.scroll(g(a.setMaxHeight,2))},render:function(){var a=this.props.items.map(function(a){return d.createElement(h,{item:a})});return d.createElement(i,{items:a})}});b.exports=j},{"../../Common/components/GenericLink.jsx":26,"../../Common/components/UnorderedList.jsx":31,jquery:"jquery","lodash/debounce":"lodash/debounce",react:"react"}],84:[function(a,b,c){"use strict";var d=a("react"),e=a("react-addons-pure-render-mixin"),f=d.createClass({displayName:"ShareButton",mixins:[e],propTypes:{onClick:d.PropTypes.func.isRequired},componentDidMount:function(){var a=this;this.refs.shareButton.addEventListener("click",function(){a.props.onClick()})},componentWillUnmount:function(){var a=this;this.refs.shareButton.removeEventListener("click",function(){a.props.onClick()})},render:function(){return d.createElement("a",{href:"javascript:void(0)",ref:"shareButton",className:"interactive-sticky-nav__share-button"},d.createElement("i",{className:"icongs icongs-share"}))}});b.exports=f},{react:"react","react-addons-pure-render-mixin":168}],85:[function(a,b,c){"use strict";var d,e=a("react"),f=a("react-addons-pure-render-mixin"),g=a("../../social/AddThis/SocialLink.jsx"),h=a("jquery"),i=e.createClass({displayName:"ShareDrawer",mixins:[f],propTypes:{showComments:e.PropTypes.bool,socialLinks:e.PropTypes.arrayOf(e.PropTypes.shape({socialLink:e.PropTypes.shape({icon:e.PropTypes.string,class:e.PropTypes.string,analyticsEvent:e.PropTypes.string})})),maxVisible:e.PropTypes.number},getInitialState:function(){return{collapsed:!0}},expand:function(){this.isMounted()&&this.setState({collapsed:!1})},componentDidMount:function(){var a=this;d=a.expand,this.refs.expandButton&&a.refs.expandButton.addEventListener("click",d)},componentWillMount:function(){h.getScript("//s7.addthis.com/js/300/addthis_widget.js#pubid=ng-dmg").then(function(){addthis.toolbox(".interactive-sticky-nav__social-button__holder")})},componentWillUnmount:function(){var a=this;this.refs.expandButton&&a.refs.expandButton.removeEventListener("click",d)},handleClick:function(a,b){b.preventDefault(),"Print"===a&&window.print()},scrollToComments:function(){h("#livefyre").velocity("scroll",{duration:500,delay:200})},render:function(){var a=this,b="interactive-sticky-nav__share-drawer__expand-button ";return this.state.collapsed||(b+="interactive-sticky-nav__share-drawer__expand-button--collapsed "),e.createElement("div",{className:"interactive-sticky-nav__share-drawer__wrap"},e.createElement("div",{className:"interactive-sticky-nav__share-drawer"},e.createElement("div",{className:"interactive-sticky-nav__share-drawer__spacer"},e.createElement("span",{className:"interactive-sticky-nav__share-drawer__label"},"Share:"),this.props.socialLinks?this.props.socialLinks.map(function(b,c){return"Print"!==b.socialLink.analyticsEvent?e.createElement("div",{key:c,className:3>c||!a.state.collapsed?"interactive-sticky-nav__share-drawer__social-button ":"interactive-sticky-nav__share-drawer__social-button collapsable"},e.createElement(g,{className:"interactive-sticky-nav__share-drawer__social-button__holder",icon:b.socialLink.icon,internalClassName:b.socialLink.class,analyticsEvent:b.socialLink.analyticsEvent,analyticsEventSite:a.props.analyticsEventSite,onClick:a.handleClick.bind(a,b.socialLink.analyticsEvent)})):void 0}):null,e.createElement("button",{className:b,ref:"expandButton"},e.createElement("div",{className:"interactive-sticky-nav__expand-button__spacer"},e.createElement("div",{className:"interactive-sticky-nav__share-drawer__expand-button__dot"}),e.createElement("div",{className:"interactive-sticky-nav__share-drawer__expand-button__dot"}),e.createElement("div",{className:"interactive-sticky-nav__share-drawer__expand-button__dot"})))),this.props.showComments?e.createElement("span",{className:"comment-icon-container",onClick:this.scrollToComments},e.createElement("i",{className:"icongs icongs-comment"})):null))}});b.exports=i},{"../../social/AddThis/SocialLink.jsx":148,jquery:"jquery",react:"react","react-addons-pure-render-mixin":168}],86:[function(a,b,c){"use strict";var d=a("react"),e=a("./DropDownContainer.jsx"),f=d.createClass({displayName:"TitleItem",propTypes:{title:d.PropTypes.string.isRequired,chapterLinks:d.PropTypes.array},getDefaultProps:function(){return{title:"",chapterLinks:[]}},componentDidMount:function(){this.props.title&&this.props.title.length>10&&NGS.core_site.sandbox.coreArticleHelpers.truncateText(this.refs.title)},render:function(){var a=this.props.chapterLinks.length>0?"feature-label has-drop":"feature-label";return d.createElement("div",{className:a},d.createElement("span",{ref:"title",className:"label-text"},this.props.title),this.props.chapterLinks.length>0?d.createElement("span",{className:"directionalArrow"},d.createElement("i",{className:"icongs icongs-directiondown"}),d.createElement("i",{className:"icongs icongs-directionup"})):null,d.createElement("div",{className:"label-bottom-border"}),this.props.chapterLinks.length>0?d.createElement(e,{items:this.props.chapterLinks}):null)}});b.exports=f},{"./DropDownContainer.jsx":83,react:"react"}],87:[function(a,b,c){"use strict";var d=a("./JumpMenu.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("JumpMenu",{initialize:function(){var a=this.options.el;f.render(e.createElement(d,{dataModel:this.options}),a)}})},{"./JumpMenu.jsx":88,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],88:[function(a,b,c){"use strict";var d=a("react"),e=a("../PseudoSelect/PseudoSelect.jsx"),f=a("jquery"),g=d.createClass({displayName:"LinkItem",propTypes:{item:d.PropTypes.object.isRequired},getDefaultProps:function(){return{item:{linkUrl:"",linkText:"",linkTarget:"",linkSeoTitle:""}}},render:function(){var a=this.props.item.linkTarget?this.props.item.linkTarget:"_parent";return d.createElement("a",{href:this.props.item.linkUrl,title:this.props.item.linkSeoTitle,target:a},this.props.item.linkText)}}),h=(d.createClass({displayName:"CloseBtn",propTypes:{closeFunc:d.PropTypes.func},getDefaultProps:function(){return{closeFunc:function(){}}},closeParentDropdown:function(){"function"==typeof this.props.closeFunc&&this.props.closeFunc()},render:function(){return d.createElement("i",{className:"ngs-jummp-menu-close-btn icongs icongs-close",onClick:this.closeParentDropdown})}}),d.createClass({displayName:"FooterItems",propTypes:{items:d.PropTypes.array.isRequired,cssClass:d.PropTypes.string},getDefaultProps:function(){return{items:[]}},render:function(){var a=""!==this.props.cssClass?this.props.cssClass:"",b=0,c=this.props.items.map(function(a){return d.createElement("li",{key:b++},d.createElement(g,{item:a}))});return d.createElement("ul",{className:a},c)}})),i=d.createClass({displayName:"JumpNavBox",propTypes:{boxType:d.PropTypes.string.isRequired,boxTitle:d.PropTypes.string.isRequired,activityCTA:d.PropTypes.string.isRequired,destinationCTA:d.PropTypes.string.isRequired,boxTextLinks:d.PropTypes.array.isRequired,activityLinks:d.PropTypes.array,destinationLinks:d.PropTypes.array,activityLinksURL:d.PropTypes.string,destinationLinksURL:d.PropTypes.string,onClose:d.PropTypes.func,linkTrackCodes:d.PropTypes.string},closeParentDropdown:function(){"function"==typeof this.props.onClose&&this.props.onClose()},normalizeLinks:function(a,b){var c=[],d=this.props.linkTrackCodes?this.props.linkTrackCodes:"";if(f.isArray(a)){a.map(function(a,b){"401"!==a.title&&a.page&&a.page.title&&a.page.url&&c.push({linkText:a.page.title,linkUrl:a.page.url+d,linkTarget:"_blank"})})}return c},updateLinkState:function(a){this.setState({lodgesActivityLinks:a.lodgesActivityLinks,lodgesDestinationLinks:a.lodgesDestinationLinks})},getDefaultProps:function(){return{boxType:"",boxTitle:"",activityCTA:"",destinationCTA:"",boxTextLinks:[],activityLinks:[],destinationLinks:[],activityLinksURL:"",destinationLinksURL:"",linkTrackCodes:""}},getInitialState:function(){return{lodgesActivityLinks:[],lodgesDestinationLinks:[]}},componentWillMount:function(){var a=this,b=[],c=[];this.props.activityLinksURL&&this.props.destinationLinksURL&&f.when(f.get(a.props.activityLinksURL),f.get(a.props.destinationLinksURL)).done(function(d,e){a.isMounted()&&(b=a.normalizeLinks(d[0]),c=a.normalizeLinks(e[0]),a.updateLinkState({lodgesActivityLinks:b,lodgesDestinationLinks:c}))}).fail(function(){console.log("Query failure")})},render:function(){var a="trips"===this.props.boxType?{activityLinks:this.props.activityLinks,destinationLinks:this.props.destinationLinks}:{activityLinks:this.state.lodgesActivityLinks,destinationLinks:this.state.lodgesDestinationLinks};return d.createElement("div",{className:"ngs-secondary-nav-jump-menu-box-container"},d.createElement("i",{className:"ngs-jummp-menu-close-btn icongs icongs-close",onClick:this.closeParentDropdown}),d.createElement("label",null,this.props.boxTitle),d.createElement("ul",null,d.createElement("li",{className:"jump-container"},d.createElement(e,{label:this.props.destinationCTA,linkSet:a.destinationLinks})),d.createElement("li",{className:"jump-container"},d.createElement(e,{label:this.props.activityCTA,linkSet:a.activityLinks}))),d.createElement(h,{items:this.props.boxTextLinks,cssClass:"ngs-secondary-nav-jump-menu-box-footer"}))}}),j=new d.createClass({propTypes:{dataModel:d.PropTypes.object},mixins:[a("react-onclickoutside")],handleClickOutside:function(a){this.closeParentDropdown()},getInitialState:function(){return this.cachedNavState=null,this.navBoxEls=null,{openDropdown:"trips"}},getDefaultProps:function(){return{dataModel:[]}},toggleMenu:function(a){this.state.openDropdown===a?this.closeParentDropdown():this.openDropdown(a)},openDropdown:function(a){this.setState({openDropdown:a}),this.navBoxEls.velocity({height:300},{duration:200})},closeParentDropdown:function(){var a=this;0!==this.cachedNavState&&a.navBoxEls.velocity({height:0},{duration:200,complete:function(b){a.setState({openDropdown:0})}})},childCloseButtonClicked:function(){try{localStorage.setItem("secondary-nav-dropdown-closed",!0)}catch(a){}this.closeParentDropdown()},componentDidMount:function(){var a=this;this.navBoxEls=f(".ngs-secondary-nav-jump-menu-box-container__wrap"),"undefined"!=typeof Pestle&&Pestle.on("SponsorAdRendered",function(){a.closeParentDropdown()})},componentWillMount:function(){var a=this.state.openDropdown,b=null,c=!1,d=1,e=3;try{a=this.state.openDropdown,b=localStorage.getItem("secondary-nav-dropdown-override"),c=localStorage.getItem("secondary-nav-dropdown-closed")||!1,d=localStorage.getItem("secondary-nav-visits")?parseInt(localStorage.getItem("secondary-nav-visits"))+1:1,e=localStorage.getItem("secondary-nav-max-visits")?parseInt(localStorage.getItem("secondary-nav-max-visits")):3,localStorage.setItem("secondary-nav-visits",d)}catch(a){}null!==b&&(a=b),(c||e>=0&&d>e)&&(a=0),a!==this.state.openDropdown&&this.setState({openDropdown:a})},render:function(){var a="trips"===this.state.openDropdown?"ngs-secondary-nav-open":"ngs-secondary-nav-closed",b="lodges"===this.state.openDropdown?"ngs-secondary-nav-open":"ngs-secondary-nav-closed";return this.cachedNavState=this.state.openDropdown,d.createElement("nav",{className:"ngs-secondary-nav-jump-menu"},d.createElement("ul",{className:"ngs-secondary-nav-jump-menu-container"},d.createElement("li",{className:"ngs-secondary-nav-jump-menu-header"},d.createElement("div",{className:"ngs-secondary-nav-jump-menu-header--border"},d.createElement("div",{className:"ngs-secondary-nav-jump-menu-header--center-helper"},d.createElement("span",null,this.props.dataModel.heading)))),d.createElement("li",{className:a},d.createElement("span",{title:this.props.dataModel.tripsNavBarLabel,className:"ngs-secondary-nav-jump-menu-label",onClick:this.toggleMenu.bind(this,"trips")},this.props.dataModel.tripsNavBarLabel,d.createElement("i",{className:"icongs icongs-lightdirectiondown"})),d.createElement("div",{ref:"navBox1",className:"ngs-secondary-nav-jump-menu-box-container__wrap"},d.createElement(i,{boxType:"trips",boxTitle:this.props.dataModel.tripsDropMenuTitle,activityCTA:this.props.dataModel.tripsByActivityCta,activityLinks:this.props.dataModel.tripsByActivityLinks,destinationCTA:this.props.dataModel.tripsByDestinationCta,destinationLinks:this.props.dataModel.tripsByDestinationLinks,boxTextLinks:this.props.dataModel.tripsTextLinks,onClose:this.childCloseButtonClicked}))),d.createElement("li",{className:b},d.createElement("span",{title:this.props.dataModel.lodgesNavBarLabel,className:"ngs-secondary-nav-jump-menu-label",onClick:this.toggleMenu.bind(this,"lodges")},this.props.dataModel.lodgesNavBarLabel,d.createElement("i",{className:"icongs icongs-lightdirectiondown"})),d.createElement("div",{ref:"navBox2",className:"ngs-secondary-nav-jump-menu-box-container__wrap"},d.createElement(i,{boxType:"lodges",boxTitle:this.props.dataModel.lodgesDropMenuTitle,activityCTA:this.props.dataModel.lodgesByActivityCta,activityLinksURL:this.props.dataModel.lodgesByActivityQueryPath,destinationCTA:this.props.dataModel.lodgesByDestinationCta,destinationLinksURL:this.props.dataModel.lodgesByDestinationQueryPath,boxTextLinks:this.props.dataModel.lodgesTextLinks,onClose:this.childCloseButtonClicked,linkTrackCodes:this.props.dataModel.linkTrackingCodes})))))}});b.exports=j},{"../PseudoSelect/PseudoSelect.jsx":122,jquery:"jquery",react:"react","react-onclickoutside":"react-onclickoutside"}],89:[function(a,b,c){"use strict";var d=a("./JumpMenuStandAlone.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("JumpMenuStandAlone",{initialize:function(){f.render(e.createElement(d,{dataEndpoint:this.options.endpoint,dataCTA:this.options.cta,dataHeading:this.options.heading,dataTracking:this.options.linkTrackingCodes,comid:this.options.id}),this.el)}})},{"./JumpMenuStandAlone.jsx":90,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],90:[function(a,b,c){"use strict";var d=a("react"),e=a("../PseudoSelect/PseudoSelect.jsx"),f=a("../ContentSeparator/ContentSeparator.jsx"),g=a("jquery"),h=new d.createClass({propTypes:{dataEndpoint:d.PropTypes.string,dataCTA:d.PropTypes.string,dataHeading:d.PropTypes.string,dataTracking:d.PropTypes.string,comid:d.PropTypes.string},getInitialState:function(){return{dropLinks:[]}},getDefaultProps:function(){return{dataEndpoint:"",dataCTA:"",dataHeading:"",dataTracking:"",comid:""}},normalizeLinks:function(a,b){var c=[],d=this.props.dataTracking?this.props.dataTracking:"";if(g.isArray(a)){a.map(function(a,b){"401"!==a.title&&a.page&&a.page.title&&a.page.url&&c.push({linkText:a.page.title,linkUrl:a.page.url+d,linkTarget:"_blank"})})}return c},componentWillMount:function(){var a=this;this.props.dataEndpoint&&g.when(g.get(a.props.dataEndpoint)).done(function(b){a.isMounted()&&a.setState({dropLinks:a.normalizeLinks(b)})}).fail(function(){console.log("Query failure")})},render:function(){return d.createElement("nav",{className:"ngs-jump-menu-container"},d.createElement(f,{cssClass:"ngs-jump-menu-container__hr"}),d.createElement("h3",null,this.props.dataHeading),d.createElement(e,{label:this.props.dataCTA,linkSet:this.state.dropLinks,comid:this.props.comid}))}});b.exports=h},{"../ContentSeparator/ContentSeparator.jsx":33,"../PseudoSelect/PseudoSelect.jsx":122,jquery:"jquery",react:"react"}],91:[function(a,b,c){"use strict";var d=a("react"),e=a("../GenericModal/GenericModal.jsx"),f=a("../CallToActionButton/CallToActionButton.jsx"),g=a("lodash/debounce"),h=null,i=d.createClass({displayName:"KickerModal",propTypes:{modalImage:d.PropTypes.string.isRequired,modalMobileImage:d.PropTypes.string.isRequired,modalText:d.PropTypes.string.isRequired,modalCTA:d.PropTypes.shape({linkText:d.PropTypes.string,linkUrl:d.PropTypes.string,linkTarget:d.PropTypes.string})},getInitialState:function(){return{modalOpen:!1,breakpoint:"desktop"}},closeModal:function(){this.isMounted()&&this.state.modalOpen&&this.setState({modalOpen:!1})},modalButtonClicked:function(){this.isMounted()&&!this.state.modalOpen&&this.setState({modalOpen:!0})},returnWindowWidth:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||document.body.offsetWidth},resizeHandler:function(){var a=this.returnWindowWidth()>=580?"desktop":"mobile";a!=this.state.breakpoint&&this.isMounted()&&this.setState({breakpoint:a})},componentDidMount:function(){h=g(this.resizeHandler,500),window.addEventListener("resize",h),this.resizeHandler()},componentWillUnmount:function(){window.removeEventListener("resize",h)},render:function(){var a="desktop"===this.state.breakpoint?this.props.modalImage:this.props.modalMobileImage;return d.createElement("span",{className:"kicker-modal-container"},d.createElement("a",{className:"modalBtn",ref:"modalBtn",href:"javascript:void(0)",onClick:this.modalButtonClicked},"?"),d.createElement(e,{ref:"modal",renderNGSModal:this.state.modalOpen,onClose:this.closeModal,disableScrollOnShow:!0,transitionSpeed:150,transitionType:"expand"},d.createElement("div",{className:"kicker-modal"},d.createElement("img",{src:a,border:"0",alt:""}),d.createElement("div",{className:"kicker-modal__blurb",dangerouslySetInnerHTML:{__html:this.props.modalText}}),this.props.modalCTA.linkText&&this.props.modalCTA.linkUrl?d.createElement(f,{type:"button",path:this.props.modalCTA.linkUrl,target:this.props.modalCTA.linkTarget,label:this.props.modalCTA.linkText}):null)))}});b.exports=i},{"../CallToActionButton/CallToActionButton.jsx":21,"../GenericModal/GenericModal.jsx":"platform/v2/components/GenericModal/GenericModal.jsx","lodash/debounce":"lodash/debounce",react:"react"}],92:[function(a,b,c){"use strict";var d,e=a("jquery"),f=a("@natgeo/pestle"),g=a("./KickerModal.jsx");f.Module.add("KickerModal",{initialize:function(){var a;""!==this.options.modalImagePath&&""!==this.options.modalMobileImagePath&&""!==this.options.modalText&&(a=document.createElement("span"),a.className="modalButton",this.options.el.appendChild(a),ReactDOM.render(React.createElement(g,{modalImage:this.options.modalImagePath,modalMobileImage:this.options.modalMobileImagePath,modalText:this.options.modalText,modalCTA:this.options.modalCtaLink}),a))}}),b.exports={init:function(){null!=e("#sponsor-info__ad-slot")&&(d=e(".sponsor-info__modal"),e(".js-open-sponsor-modal, .js-close-sponsor-modal").on("click",function(){e(".sponsor-info__modal").toggle()}))}}},{"./KickerModal.jsx":91,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery"}],93:[function(a,b,c){"use strict";a("es5-shim"),window.$=window.jQuery=a("jquery"),window.React=a("react"),window.ReactDOM=a("react-dom"),window.Pestle=a("@natgeo/pestle");var d=a("./LinkList.jsx");Pestle.Module.add("LinkList",{isLoaded:!1,initialize:function(){var a=this;return ReactDOM.render(React.createElement(d,{model:a.options}),this.el),this.isLoaded=!0,console.log(this.options),this.sandbox.log.info("Link List js loaded:",this.el)}}),b.exports=d},{"./LinkList.jsx":94,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react","react-dom":"react-dom"}],94:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=a("../MultiLayoutPromos/components/BoxAdSlot.jsx"),g=a("../GenericModal/GenericModal.jsx"),h=a("lodash/throttle");a("velocity-animate");var i=e.createClass({displayName:"Title",render:function(){return e.createElement("div",{className:"link-list__title",dangerouslySetInnerHTML:{__html:this.props.label}})}}),j=e.createClass({displayName:"Link",propTypes:{link:e.PropTypes.object.isRequired,modalState:e.PropTypes.bool,closeModal:e.PropTypes.func},linkClicked:function(){var a=this.props.link.linkUrl,b=NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint()||"desktop",c="mobile"===b?50:120,e=this;d(a).closest(".section").prev(".section").find(".hub-box-ad").length&&"desktop"===b&&(c=-0),d(a).velocity("scroll",{offset:-c,mobileHA:!1,begin:function(){e.props.modalState&&e.props.closeModal()}})},componentDidMount:function(){var a=this;this.props.link.inPageLink?this.refs.anchor.addEventListener("click",function(b){b.preventDefault(),a.linkClicked()}):this.refs.anchor.addEventListener("click",function(b){a.props.modalState&&a.props.closeModal()})},componentWillUnmount:function(){var a=this;this.refs.anchor.removeEventListener("click",function(){a.linkClicked()})},render:function(){var a=this.props.link,b="";b=a.inPageLink?"link-inPage ":"link-outPage ";var c=a.linkUrl;return a.linkTrackingCode&&a.inPageLink===!1&&(c+=a.linkTrackingCode),e.createElement("li",{className:"link-list__link"},e.createElement("a",{href:c,className:b,target:a.linkTarget,ref:"anchor"},e.createElement("span",{className:"link-list__link-text"},a.linkText),e.createElement("span",{className:"icongs-arrowdown icongs"})))}}),k=e.createClass({displayName:"Placeholder",render:function(){return e.createElement("li",{className:"link-list__placeholder"})}}),l=e.createClass({displayName:"LinkList",propTypes:{model:e.PropTypes.object.isRequired},getInitialState:function(){return this.$el=null,this.lastScrollTop=0,{renderNGSModal:!1,buttonDisplayed:!1}},scrollEvent:function(){var a=d(window),b=this;if(!this.state.renderNGSModal){var c=a.scrollTop(),e=b.$el,f=e.parent().parent().next().offset().top;"desktop"!==NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint()?(c<b.lastScrollTop&&c>f?this.setState({buttonDisplayed:!0}):this.setState({buttonDisplayed:!1}),b.lastScrollTop=c):c>f?this.setState({buttonDisplayed:!0}):this.setState({buttonDisplayed:!1})}},componentDidMount:function(){this.$el=d(this.refs.linklist);var a=h(this.scrollEvent,250);window.addEventListener("scroll",a)},showNGSModal:function(){this.setState({renderNGSModal:!0,buttonDisplayed:!1}),d("html, body").addClass("ngs-generic-modal__noscroll")},closeNGSModal:function(){this.setState({renderNGSModal:!1,buttonDisplayed:!0}),d("html, body").removeClass("ngs-generic-modal__noscroll")},render:function(){var a="open-modal-btn ",b=[],c="desktop"===NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint()?!0:!1;if(this.props.model.links)for(var d=0;d<this.props.model.links.length;d++)b.push(e.createElement(j,{key:d,link:this.props.model.links[d],model:this.props.model,closeModal:this.closeNGSModal,modalState:this.state.renderNGSModal}));else b.push(e.createElement(k,{key:1}));return this.state.buttonDisplayed&&(a+="active"),e.createElement("div",{className:"link-list__wrap",ref:"linklist"},e.createElement("div",{className:"open-modal-btn__wrap"},e.createElement("a",{className:a,onClick:this.showNGSModal},"TABLE ",e.createElement("em",null,"of")," CONTENTS")),e.createElement("div",{className:"link-list__container container"},e.createElement("div",{className:"link-list mt_col-12 mt_col-lg-8 "},this.props.model.title?e.createElement(i,{label:this.props.model.title}):null),e.createElement("div",{className:"link-list mt_col-12 mt_col-lg-8 "},e.createElement("ul",{className:"link-list__links"},b)),e.createElement(f,null)),c?e.createElement("span",{className:"bumper--bottom"}):null,e.createElement(g,{transitionType:"slide",onClose:this.closeNGSModal,renderNGSModal:this.state.renderNGSModal},e.createElement("div",{className:"link-list__wrap"},e.createElement("div",{className:"link-list__container container"},e.createElement("div",{className:"link-list mt_col-12 mt_col-lg-8 "},this.props.model.title?e.createElement(i,{label:this.props.model.title}):null),e.createElement("div",{className:"link-list mt_col-12 mt_col-lg-8 "},e.createElement("ul",{className:"link-list__links"},b))))))}});b.exports=l},{"../GenericModal/GenericModal.jsx":"platform/v2/components/GenericModal/GenericModal.jsx","../MultiLayoutPromos/components/BoxAdSlot.jsx":102,"es5-shim":"es5-shim",jquery:"jquery","lodash/throttle":"lodash/throttle",react:"react","velocity-animate":"velocity-animate"}],95:[function(a,b,c){"use strict";var d=a("./Listicle.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle"),h=a("jquery");g.Module.add("Listicle",{initialize:function(){var a=this;h.when(h.get(a.options.endpoint)).done(function(b){h.each(b,function(b,c){var g=b+1;document.getElementById(c.listicleId)?f.render(e.createElement(d,{itemNum:g,showNumbering:a.options.showNumbering,dataModel:c}),document.getElementById(c.listicleId)):NGS.core_site.sandbox.log.info("Listicle Controller: No card found with id: "+c.listicleId)})}).fail(function(){NGS.core_site.sandbox.log.info("Listicle Controller query failure")})}})},{"./Listicle.jsx":96,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery",react:"react","react-dom":"react-dom"}],96:[function(a,b,c){"use strict";var d=a("react"),e=a("../Common/components/Images/Images.jsx"),f=d.createClass({displayName:"Listicle",propTypes:{showNumbering:d.PropTypes.bool,dataModel:d.PropTypes.object.isRequired},render:function(){var a,b=this.props.dataModel,c={url:b.image.url,frameAspectRatio:2/3,aspectRatio:b.image.imageAspectRatio,lazyLoad:!0};a=b.image.url?d.createElement(e,{image:c}):null;var f=b.title;return this.props.showNumbering===!0&&(f=this.props.itemNum+". "+f),d.createElement("div",{className:"listicle-container"},d.createElement("div",{className:"listicle-container__title"},d.createElement("h3",{dangerouslySetInnerHTML:{__html:f}})),d.createElement("div",{className:"listicle-container__dek",dangerouslySetInnerHTML:{__html:b.dek}}),a,d.createElement("div",{className:"listicle-container__caption",dangerouslySetInnerHTML:{__html:b.image.caption}}),d.createElement("div",{className:"listicle-container__credit",dangerouslySetInnerHTML:{__html:b.image.credit}}),d.createElement("div",{className:"listicle-container__text",dangerouslySetInnerHTML:{__html:b.text}}))}});b.exports=f},{"../Common/components/Images/Images.jsx":"platform/v2/components/Common/components/Images/Images.jsx",react:"react"}],97:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle");e.Module.add("MapMarker",{isLoaded:!1,init:function(){var a,b,c=this.options.apitoken,d=this.options.points,e=this.options.objectid,f=this.options.icon,g=this.options.mapid,h=(this.options.centerlat,this.options.centerlong,this.options.zoom),i={};if(""===g||""===c)return!1;L.mapbox.accessToken=c;var j=L.mapbox.map(e,g);for(var k in d){if(i.longitude=k.longitude,i.latitude=k.latitude,a={title:k.title},b=L.marker([k.latitude,k.longitude],a),void 0!==f&&""!==f||void 0!==k.leadImageUrl&&""!==k.leadImageUrl){var l=L.icon({iconUrl:void 0!==f&&""!==f?f:k.leadImageUrl,iconSize:[50,50],iconAnchor:[25,50],popupAnchor:[0,-50],className:"PinNatGeo"});b.setIcon(l)}var m='<div class="mapcomponent-tooltip-"><div class=" mapcomponent-tooltip-left"><a href="'+k.path+'.html"><div class="mapcomponent-img-container"><div class="mapcomponent-img-innercontainer"><img src="'+k.leadImageUrl+'"/></a></div></div></div><div class="mapcomponent-tooltip-right"><a href="'+k.path+'.html"><h2>'+k.title+'</h2></a><a class="mapcomponent-tooltip-moreabout" href="'+k.path+'.html">More</a></div></div>';b.bindPopup(m),b.addTo(j)}j.setView([i.latitude,i.longitude],h),this.isLoaded=!0},initialize:function(){var a=this;this.sandbox.log.info("MapMarker initialized"),d.getScript("/etc/designs/platform/v2/vendor/mapbox_js/mapbox.js").then(function(){a.init()})}})},{"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery"}],98:[function(a,b,c){"use strict";a("es5-shim");var d=(a("jquery"),a("react")),e=a("react-dom"),f=a("@natgeo/pestle"),g=a("./MostPopular.jsx");f.Module.add("MostPopular",{isLoaded:!1,initialize:function(){if(!this.isLoaded){var a={showKeyword:!0,showDescription:this.options.showabstract,showImage:this.options.showimage,showSeries:this.options.showseries};return e.render(d.createElement(g,{heading:this.options.heading,groupId:this.options.guid,addons:a,maxResults:Number(this.options.maxresults),timeInterval:this.options.timeinterval,showMoreAt:Number(this.options.mobileinitialcount)||2,endPoint:this.options.endpoint,site:this.options.site}),this.el),this.isLoaded=!0,this.sandbox.log.info("MostPopular js loaded:",this.el)}}}),b.exports=g},{"./MostPopular.jsx":99,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react","react-dom":"react-dom"}],99:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=a("@natgeo/pestle"),g=a("../Spinner/Spinner.jsx"),h=a("lodash/map"),i=a("lodash/bind"),j=e.createClass({displayName:"MostPopularItemImage",render:function(){return e.createElement("a",{href:this.props.link,className:"popularitem-imagelink"},e.createElement("div",{className:"popularitem-imagepreview"},this.props.src&&this.props.src.match(/^(.*:)\/\/([A-Za-z0-9\-\.]+)(:[0-9]+)?\/content\/dam\/(.*)$/)?e.createElement("div",{className:"delayed-image-load","data-src":this.props.src+"/{width}/{pixel_ratio}"}):e.createElement("i",{className:"icongs icongs-border gn_text--highlight"})))}}),k=e.createClass({displayName:"MostPopularListItem",propTypes:{groupId:e.PropTypes.string,showDescription:e.PropTypes.bool,showImage:e.PropTypes.bool,showSeries:e.PropTypes.bool,title:e.PropTypes.string.isRequired,link:e.PropTypes.string.isRequired,image:e.PropTypes.string,series:e.PropTypes.string,description:e.PropTypes.string,keyword:e.PropTypes.string,hideFromMobile:e.PropTypes.bool},getInitialProps:function(){return{hideFromMobile:!1}},getInitialState:function(){return{showHiddenItems:!1}},componentDidMount:function(){d(document).on(this.props.groupId+".showMore",function(){this.setState({showHiddenItems:!0})}.bind(this)),d(document).on(this.props.groupId+".showLess",function(){this.setState({showHiddenItems:!1})}.bind(this)),f.emit("responsiveimages:create")},createTitle:function(){return{__html:this.props.title}},createDescription:function(){return{__html:this.props.description}},render:function(){var a="popularitem ";return a+=this.props.hideFromMobile&&this.state.showHiddenItems!==!0?"hide-from-mobile":"",e.createElement("li",{className:a},this.props.showImage&&"Null"!=this.props.image?e.createElement(j,{key:this.props.keyword,link:"//"+this.props.link,src:this.props.image}):e.createElement("div",null),e.createElement("h4",{className:"popularitem-title fade fade-one-lines"},this.props.showSeries&&"Null"!=this.props.series?e.createElement("span",{className:"popularitem-series"},this.props.series):e.createElement("span",null),e.createElement("a",{href:"//"+this.props.link,className:"popularitem-link",dangerouslySetInnerHTML:this.createTitle()})),this.props.showDescription&&"Null"!=this.props.showDescription?e.createElement("p",{className:"popularitem-description fade fade-three-lines",dangerouslySetInnerHTML:this.createDescription()}):e.createElement("p",null))}}),l=e.createClass({displayName:"MostPopularMoreButton",propTypes:{groupId:e.PropTypes.string},getInitialState:function(){return{showMore:!0}},handleClickMoreButton:function(){this.state.showMore?(d(this.refs.showMoreBtn).trigger(this.props.groupId+".showMore"),this.setState({showMore:!1})):(d(this.refs.showMoreBtn).trigger(this.props.groupId+".showLess"),this.setState({showMore:!0}))},render:function(){return e.createElement("button",{ref:"showMoreBtn",className:"mostpopular-component-showmore",onClick:this.handleClickMoreButton},"Show ",this.state.showMore?"More":"Less")}}),m=e.createClass({displayName:"MostPopular",propTypes:{heading:e.PropTypes.string.isRequired,groupId:e.PropTypes.string.isRequired,addons:e.PropTypes.object,endPoint:e.PropTypes.string.isRequired,showMoreAt:e.PropTypes.number,maxResults:e.PropTypes.number,timeInterval:e.PropTypes.string.isRequired},getInitialState:function(){return{mostPopularData:[],isLoading:!0}},componentDidMount:function(){if(this.props.timeInterval&&this.props.site){var a=this.props.endPoint+"?"+d.param({maxResults:this.props.maxResults,timeInterval:this.props.timeInterval,site:this.props.site});this.fetchData(a)}},fetchData:function(a){return d.getJSON(a,function(a){var b=0;this.setState({isLoading:!1,mostPopularData:h(a,function(a){return{itemKey:b++,description:a["ga:dimension29"],image:a["ga:dimension30"],series:a["ga:dimension33"],title:a["ga:pageTitle"],link:a["ga:pagePath"],keyword:a["ga:keyword"]}})})}.bind(this)).fail(function(){throw this.setState({isLoading:!1}),new Error("MostPopular component fetchData "+a+" not found.")}.bind(this))},render:function(){return e.createElement("div",{className:"mostpopular-component"},e.createElement("h3",{className:"mostpopular-component-title"},this.props.heading),e.createElement(g,{showContentWhen:!this.state.isLoading},e.createElement("ul",{id:"mpcontent",className:"mostpopular-component-content"},this.state.mostPopularData.map(i(function(a){return e.createElement(k,{groupId:this.props.groupId,showDescription:Boolean(this.props.addons.showDescription),showImage:Boolean(this.props.addons.showImage),showSeries:Boolean(this.props.addons.showSeries),hideFromMobile:a.itemKey>=this.props.showMoreAt?!0:!1,key:a.itemKey,title:a.title,image:a.image,series:a.series,description:a.description,keyword:a.keyword,link:a.link})},this)),this.state.mostPopularData.length>this.props.showMoreAt?e.createElement(l,{groupId:this.props.groupId}):e.createElement("div",null))))}});b.exports=m},{"../Spinner/Spinner.jsx":136,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery","lodash/bind":"lodash/bind","lodash/map":"lodash/map",react:"react"}],100:[function(a,b,c){"use strict";a("es5-shim"),window.$=window.jQuery=a("jquery");var d=a("react"),e=a("react-dom"),f=a("./MultiLayoutPromos.jsx");Pestle.Module.add("MultiLayoutPromos",{isLoaded:!1,initialize:function(){var a=this;e.render(d.createElement(f,{model:a.options}),this.el),this.isLoaded=!0}}),b.exports=f},{"./MultiLayoutPromos.jsx":101,"es5-shim":"es5-shim",jquery:"jquery",react:"react","react-dom":"react-dom"}],101:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=a("./components/Heading.jsx"),g=a("./components/PromosContainer.jsx"),h=a("./components/Pinned/PinnedPromoContainer.jsx"),i=a("./components/SixUp/SixUpContainer.jsx"),j=a("../ContentSeparator/ContentSeparator.jsx"),k=a("./components/LeaderboardAdSlot.jsx"),l=a("./components/BoxAdSlot.jsx"),m=e.createClass({displayName:"MultiLayoutPromos",propTypes:{model:e.PropTypes.object.isRequired},getInitialState:function(){return this.isEditMode=NGS.core_site.sandbox.aem.isEditMode()||!1,{hidePromoArea:!1}},componentDidMount:function(){var a=d(this.refs.mlp),b=this.props.model.adConfig?"multi-layout-promos--with-"+this.props.model.adConfig:"no-size";a&&a.closest(".multiLayout").addClass(b)},hidePromoArea:function(){this.isMounted()&&this.setState({hidePromoArea:!0})},render:function(){var a="desktop"===NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint()?!0:!1,b="container ",c="multi-layout-promos__wrap ",d="siblings"===this.props.model.configuration||"children"===this.props.model.configuration?"multi-layout-promos__hr":"multi-layout-promos__hr multi-layout-promos__hr--large",m="multiLayoutWithPin"===this.props.model.componentType,n="sixUp"===this.props.model.componentType;return b+=this.state.hidePromoArea?" hidden":"",c+=m?" multi-layout-promos--pinned":n?" multi-layout-promos--six-up":"",e.createElement("div",{ref:"mlp",className:c},"leaderboard-ads"!==this.props.model.adConfig||m?e.createElement(j,{cssClass:d}):e.createElement(k,{includeLarge:this.props.model.includeSizeOption}),this.state.hidePromoArea&&this.isEditMode?e.createElement("div",{className:"empty-component-message"},e.createElement("div",{className:"empty-component-message__message"},"(MLP) Insufficient Data - No Promos Found")):null,e.createElement("div",{className:b},m?null:e.createElement(f,{model:this.props.model}),m?e.createElement(h,{model:this.props.model,hidePromoArea:this.hidePromoArea}):n?e.createElement(i,{model:this.props.model,hidePromoArea:this.hidePromoArea}):e.createElement(g,{model:this.props.model,hidePromoArea:this.hidePromoArea}),"box-ads"===this.props.model.adConfig||m?e.createElement(l,null):""),("box-ads"===this.props.model.adConfig||m)&&a?e.createElement("span",{className:"bumper--bottom bumper--bottom-of-box-ad"}):"")}});b.exports=m},{"../ContentSeparator/ContentSeparator.jsx":33,"./components/BoxAdSlot.jsx":102,"./components/Heading.jsx":103,"./components/LeaderboardAdSlot.jsx":104,"./components/Pinned/PinnedPromoContainer.jsx":106,"./components/PromosContainer.jsx":108,"./components/SixUp/SixUpContainer.jsx":109,"es5-shim":"es5-shim",jquery:"jquery",react:"react"}],102:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"BoxAdSlot",render:function(){var a=Math.random().toString(36).substring(7);return d.createElement("div",{id:a,className:"ad-holder mt_col-12 mt_col-lg-4","data-ad-component":"boxAd","data-ad-config-key":"bodyBox"})}});b.exports=e},{react:"react"}],103:[function(a,b,c){"use strict";var d=a("react"),e=a("../../CallToActionButton/CallToActionButton.jsx"),f=d.createClass({displayName:"Heading",render:function(){return d.createElement("div",{className:"multi-layout-promos__heading__text",dangerouslySetInnerHTML:{__html:this.props.label}})}}),g=d.createClass({displayName:"Teaser",render:function(){return d.createElement("div",{className:"multi-layout-promos__heading__teaser",dangerouslySetInnerHTML:{__html:this.props.label}})}}),h=d.createClass({displayName:"HeadingComponent",propTypes:{model:d.PropTypes.shape({heading:d.PropTypes.string,teaser:d.PropTypes.string,ctaPath:d.PropTypes.string,ctaText:d.PropTypes.string,size:d.PropTypes.string.isRequired}).isRequired},render:function(){var a="multi-layout-promos__heading ";return a+="secondary"===this.props.model.headingStyle?" multi-layout-promos__heading--secondary":"multi-layout-promos__heading--primary","box-ads"===this.props.model.adConfig&&(a+=" multi-layout-promos__heading--box-ads"),d.createElement("div",{className:a},this.props.model.heading?d.createElement(f,{label:this.props.model.heading}):null,this.props.model.teaser?d.createElement(g,{label:this.props.model.teaser}):null,("large"!==this.props.model.size||"above-promo"==this.props.model.ctaPosition)&&this.props.model.ctaPath&&this.props.model.ctaText?d.createElement("div",null,d.createElement(e,{type:this.props.model.ctaDisplay,label:this.props.model.ctaText,path:this.props.model.ctaPath,target:this.props.model.ctaTarget})):null)}});b.exports=h},{"../../CallToActionButton/CallToActionButton.jsx":21,react:"react"}],104:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"LeaderboardAdSlot",render:function(){var a=Math.random().toString(36).substring(7);return d.createElement("div",{id:a,className:"ad-holder","data-ad-component":"stickyLeaderboard","data-ad-config-key":"bodyLeaderboard"})}});b.exports=e},{react:"react"}],105:[function(a,b,c){"use strict";var d=a("react"),e=a("../../../Common/components/Images/Images.jsx"),f=a("../Substories.jsx"),g=d.createClass({displayName:"Series",render:function(){return d.createElement("p",{className:"multi-layout-promos__promo-series",dangerouslySetInnerHTML:{__html:this.props.label}})}}),h=d.createClass({displayName:"Title",getDefaultProps:function(){return{onClickEvent:null}},componentDidMount:function(){this.props.label&&this.props.label.length>25&&NGS.core_site.sandbox.coreArticleHelpers.truncateText(this.refs.title)},render:function(){var a=this.props.onClickEvent?"javascript:":this.props.link;return d.createElement("h3",{ref:"title",className:"multi-layout-promos__promo-title"},d.createElement("a",{href:a,onClick:this.props.onClickEvent,className:"multi-layout-promos__promo-title-link"},d.createElement("span",{itemProp:"headline",dangerouslySetInnerHTML:{__html:this.props.label}})))}}),i=d.createClass({displayName:"Abstract",componentDidMount:function(){this.props.label&&this.props.label.length>60&&NGS.core_site.sandbox.coreArticleHelpers.truncateText(this.refs.abstract)},render:function(){return d.createElement("div",{ref:"abstract",className:"multi-layout-promos__promo-dek"},d.createElement("span",{itemProp:"description",dangerouslySetInnerHTML:{__html:this.props.label}}))}}),j=d.createClass({displayName:"BrandingBadge",render:function(){return d.createElement("div",{className:"multi-layout-promos__promo--branding promo--brandingBadge",dangerouslySetInnerHTML:{__html:this.props.label}})}}),k=d.createClass({displayName:"Pin",render:function(){var a=(this.props.size,this.props.showImages),b=this.props.showSeries,c=this.props.showTitles,k=this.props.showAbstracts,l="multi-layout-promos__promo-text ",m="multi-layout-promos__promo multi-layout-promos__promo--pin ",n="video"===this.props.promo.page.pageType&&this.props.promo.page.guid,o=this.props.promo.page.subStories&&this.props.promo.page.subStories.length,p=0;this.props.promo.leadMedia&&(this.props.promo.page.showPlayButton||this.props.promo.page.videoLead||this.props.promo.leadMedia.isVideo||n)&&(m+=" multi-layout-promos__promo--video");var q=!1;return d.createElement("div",null,d.createElement("div",{className:m},d.createElement("div",{className:"multi-layout-promos__promo-content"},this.props.promo.page.url?d.createElement("a",{href:this.props.promo.page.url,className:"div-link"}):null,this.props.promo.leadMedia&&this.props.promo.leadMedia.url&&a?d.createElement("a",{href:this.props.promo.page.url,className:"figure-link"},d.createElement(e,{key:p++,image:this.props.promo.leadMedia})):null,d.createElement("div",{className:l},this.props.promo.page.series&&b?d.createElement(g,{label:this.props.promo.page.series}):null,this.props.promo.page.title&&c?d.createElement(h,{label:this.props.promo.page.title,truncate:q,link:this.props.promo.page.url}):null,this.props.promo.page.abstract&&k?d.createElement(i,{label:this.props.promo.page.abstract,truncate:q}):null),this.props.promo.page.brandingBadge?d.createElement(j,{label:this.props.promo.page.brandingBadge}):null)),o?d.createElement("hr",{className:"multi-layout-promos__promo--pin__hr"}):null,o?d.createElement(f,{substories:this.props.promo.page.subStories,classes:"multi-layout-promos__promo--pin__substory"}):null)}});b.exports=k},{"../../../Common/components/Images/Images.jsx":"platform/v2/components/Common/components/Images/Images.jsx","../Substories.jsx":111,react:"react"}],106:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react"),f=a("../Promo.jsx"),g=a("./Pin.jsx"),h=a("../../../Common/components/ShowMoreButton/ShowMoreButton.jsx"),i=e.createClass({displayName:"PinnedPromosContainer",getInitialState:function(){return this.shouldCallStickiness=!1,this.infiniteResultsPage=0,this.infiniteOffset=0,this.availableResults=[],this.infinitePromoInterval=12,{promoResults:[],promosShown:1,showShowMore:!0,mlpHeight:null}},propTypes:{model:e.PropTypes.object.isRequired},componentDidUpdate:function(){d(".multi-layout-promos__row--nopacity").removeClass("multi-layout-promos__row--nopacity"),this.shouldCallStickiness&&"article"===NGS.core_site.dfp.template&&"box-ads"===this.props.model.adConfig&&(setTimeout(function(){NGS.core_site.sandbox.stickyBehavior.initStickiness("article",NGS.core_site.sandbox,"mlpBoxAd")},500),this.shouldCallStickiness=!1)},showMorePromos:function(){var a=this,b=this.availableResults.length-this.state.promosShown;b>=a.infinitePromoInterval?a.setState({promosShown:a.state.promosShown+a.infinitePromoInterval}):b>0?a.getMoreInfiniteResults(a.infinitePromoInterval-b):a.getMoreInfiniteResults()},getMoreInfiniteResults:function(a){var b=this.props.model.infiniteEndpoint,c=[],e=this;a?(b+="&pageSize="+a,this.infiniteOffset=a):(b+="&pageSize="+e.infinitePromoInterval+"&page="+this.infiniteResultsPage+"&offset="+this.infiniteOffset,this.infiniteResultsPage++),d.get(b,function(a){c=a},"json").done(function(){if(c.length){if(e.isMounted()){e.shouldCallStickiness=!0,e.availableResults=e.availableResults.concat(c);var b=c.length===a||c.length===e.infinitePromoInterval;e.setState({promoResults:e.availableResults,promosShown:e.availableResults.length,showShowMore:b})}}else;}).fail(function(){console.log("MLP query failure")}),c<e.infinitePromoInterval},getDefaultResults:function(){var a=this,b="",c=this.props.model.endpoint;d.get(c,function(a){b=a},"json").done(function(){b.length?a.isMounted()&&(a.shouldCallStickiness=!0,a.setState({promoResults:b,promosShown:b.length})):a.props.hidePromoArea()}).fail(function(){this.props.hidePromoArea(),console.log("MLP query failure")})},getInfiniteResults:function(){var a=this,b="";this.props.model.infiniteEndpoint;"combo"===this.props.model.configuration?d.get(this.props.model.endpoint,function(a){b=a},"json").done(function(){b.length?(a.availableResults=b,b.length<a.infinitePromoInterval?a.getMoreInfiniteResults(a.infinitePromoInterval-b.length):a.isMounted()&&(a.shouldCallStickiness=!0,a.setState({promoResults:b,promosShown:a.infinitePromoInterval}))):a.props.hidePromoArea()}).fail(function(){this.props.hidePromoArea(),console.log("MLP query failure")}):"dynamic"===this.props.model.configuration?a.getMoreInfiniteResults():a.getDefaultResults()},componentWillMount:function(){this.props.model.showInfiniteResults?this.getInfiniteResults():this.getDefaultResults()},componentDidMount:function(){d(".multi-layout-promos__row--nopacity").removeClass("multi-layout-promos__row--nopacity")},render:function(){var a=this.props.model,b="mt_col-12 mt_col-lg-8 multi-layout-promos multi-layout-promos--box-ads multi-layout-promos--medium",c="",d=[],i=1,j=this.props.model.showInfiniteResults&&this.state.showShowMore;if(this.state.promoResults.length)for(var k=0;k<this.state.promoResults.length&&k<this.state.promosShown;){for(var l=[],m=0;i>m&&k<this.state.promosShown&&k<this.state.promoResults.length;m++)0===k?l.push(e.createElement(g,{key:k,promo:this.state.promoResults[k],showImages:a.showImages,showSeries:a.showSeries,showTitles:a.showTitles,showAbstracts:a.showAbstracts})):this.state.promoResults[k].page&&(l.push(e.createElement("hr",{key:"hrkey"+k,className:"multi-layout-promos--pinned__hr"})),l.push(e.createElement(f,{key:k,promo:this.state.promoResults[k],promoClasses:c,size:"medium",isPinned:!0,showImages:a.showImages,showSeries:a.showSeries,showTitles:a.showTitles,showAbstracts:a.showAbstracts}))),k++;var n=e.createElement("div",{key:k,className:"multi-layout-promos__row clearfix multi-layout-promos__row--nopacity"},l);d.push(n)}return e.createElement("div",{className:b},e.createElement("div",{ref:"pinnedMLPwrap"},d,j?e.createElement(h,{label:a.buttonLabel,onClick:this.showMorePromos,hideOnClick:!1,classes:"multi-layout-promos__show-more mt_col-12"}):""))}});b.exports=i},{"../../../Common/components/ShowMoreButton/ShowMoreButton.jsx":30,"../Promo.jsx":107,"./Pin.jsx":105,jquery:"jquery",react:"react"}],107:[function(a,b,c){"use strict";var d=a("react"),e=a("../../Common/components/Images/Images.jsx"),f=a("../../EmbeddedVideoPromo/components/EmbeddedVideo.jsx"),g=a("./Substories.jsx"),h=a("lodash/bind"),i=d.createClass({displayName:"Series",render:function(){return d.createElement("p",{className:"multi-layout-promos__promo-series",dangerouslySetInnerHTML:{__html:this.props.label}})}}),j=d.createClass({displayName:"Title",getDefaultProps:function(){return{onClickEvent:null}},componentDidMount:function(){this.props.label&&this.props.label.length>25&&NGS.core_site.sandbox.coreArticleHelpers.truncateText(this.refs.title)},render:function(){var a=this.props.onClickEvent?"javascript:":this.props.link;return d.createElement("h3",{ref:"title",className:"multi-layout-promos__promo-title"},d.createElement("a",{href:a,onClick:this.props.onClickEvent,className:"multi-layout-promos__promo-title-link"},d.createElement("span",{itemProp:"headline",dangerouslySetInnerHTML:{__html:this.props.label}})))}}),k=d.createClass({displayName:"Abstract",componentDidMount:function(){this.props.label&&this.props.label.length>60&&NGS.core_site.sandbox.coreArticleHelpers.truncateText(this.refs.abstract)},render:function(){return d.createElement("div",{ref:"abstract",className:"multi-layout-promos__promo-dek"},d.createElement("span",{itemProp:"description",dangerouslySetInnerHTML:{__html:this.props.label}}))}}),l=d.createClass({displayName:"Details",propTypes:{items:d.PropTypes.array.isRequired},render:function(){return d.createElement("div",{className:"multi-layout-promos__promo-details"},this.props.items.map(h(function(a,b){return d.createElement("div",{key:b,className:"multi-layout-promos__promo-details__row"},d.createElement("span",{className:"promo-details__label",dangerouslySetInnerHTML:{__html:a.label+":"}}),d.createElement("span",{className:"promo-details__value",dangerouslySetInnerHTML:{__html:a.value}}))},this)))}}),m=d.createClass({displayName:"RichText",propTypes:{class:d.PropTypes.string.isRequired},render:function(){return d.createElement("div",{className:"multi-layout-promos__promo-richtext-"+this.props.class},d.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.text}}))}}),n=d.createClass({displayName:"BrandingBadge",render:function(){return d.createElement("div",{className:"multi-layout-promos__promo--branding promo--brandingBadge",dangerouslySetInnerHTML:{__html:this.props.label}})}}),o=d.createClass({displayName:"PromoComponent",propTypes:{promo:d.PropTypes.shape({leadMedia:d.PropTypes.shape({url:d.PropTypes.string,isVideo:d.PropTypes.bool,videoModel:d.PropTypes.shape({instance:d.PropTypes.string.isRequired,guid:d.PropTypes.string.isRequired,sharing:d.PropTypes.bool,overlayPlayButton:d.PropTypes.bool})}),page:d.PropTypes.shape({url:d.PropTypes.string,series:d.PropTypes.string,title:d.PropTypes.string,abstract:d.PropTypes.string,details:d.PropTypes.array,airDetails:d.PropTypes.string,synopsis:d.PropTypes.string,sponsored:d.PropTypes.bool,sponsorContentLabel:d.PropTypes.string,brandingBadge:d.PropTypes.string}).isRequired}).isRequired,isPinned:d.PropTypes.bool,promoClasses:d.PropTypes.string,size:d.PropTypes.string.isRequired,showImages:d.PropTypes.bool.isRequired,showSeries:d.PropTypes.bool.isRequired,showTitles:d.PropTypes.bool.isRequired,showAbstracts:d.PropTypes.bool.isRequired,showAirDetails:d.PropTypes.bool,showDetails:d.PropTypes.bool,showSynopsis:d.PropTypes.bool,videoPromoPresent:d.PropTypes.bool},triggerVideoModal:function(){Pestle.emit("VideoModal_Launch",this.props.promo.page.guid,this.props.promo.page.title,this.props.promo.page.abstract)},render:function(){var a=this.props.size,b=this.props.showImages,c=this.props.showSeries,h=this.props.showTitles,o=this.props.showAbstracts,p=this.props.showAirDetails,q=this.props.showDetails,r=this.props.showSynopsis,s="multi-layout-promos__promo-text ",t=this.props.promoClasses,u="video"===this.props.promo.page.pageType&&this.props.promo.page.guid,v=this.props.isPinned&&this.props.promo.page.subStories&&this.props.promo.page.subStories.length,w=0;t+=" multi-layout-promos__promo clearfix",this.props.promo.leadMedia&&(this.props.promo.leadMedia.videoModel?t+=" multi-layout-promos__promo--embedded-video":(this.props.promo.page.showPlayButton||this.props.promo.page.videoLead||this.props.promo.leadMedia.isVideo||u)&&(t+=" multi-layout-promos__promo--video")),"video"!==a&&(b&&this.props.promo.leadMedia&&this.props.promo.leadMedia.url||(t+=" multi-layout-promos__promo--text-only")),this.props.promo.page.sponsored&&(t+=" multi-layout-promos__promo--sponsored");var x=!1;return"large"!==a&&"video"!==a&&(x=!0,this.props.promo.leadMedia&&(this.props.promo.leadMedia.frameAspectRatio=this.props.videoPromoPresent?.5625:.6666)),u?d.createElement("div",null,d.createElement("div",{className:t},d.createElement("div",{className:"multi-layout-promos__promo-content"},b&&this.props.promo.leadMedia&&this.props.promo.leadMedia.url?null:d.createElement("div",{className:"multi-layout-promos__promo--text-only__bg"}),d.createElement("a",{href:"javascript:;",onClick:this.triggerVideoModal,className:"div-link"}),this.props.promo.leadMedia&&this.props.promo.leadMedia.url&&b?d.createElement("a",{href:"javascript:;",onClick:this.triggerVideoModal,className:"figure-link"},d.createElement("div",{className:"multi-layout-promos__promo--sponsor-caption"},this.props.promo.page.sponsorContentLabel),d.createElement(e,{key:w++,image:this.props.promo.leadMedia})):null,this.props.promo.leadMedia&&this.props.promo.leadMedia.isVideo&&this.props.promo.leadMedia.videoModel?d.createElement(f,{key:w++,model:this.props.promo.leadMedia.videoModel,lazyLoad:!0}):null,d.createElement("div",{className:s},this.props.promo.page.series&&c?d.createElement(i,{label:this.props.promo.page.series}):null,this.props.promo.page.title&&h?d.createElement(j,{label:this.props.promo.page.title,truncate:x,onClickEvent:this.triggerVideoModal,link:this.props.promo.page.url}):null,this.props.promo.page.abstract&&o?d.createElement(k,{label:this.props.promo.page.abstract,truncate:x}):null,this.props.promo.page.details&&q?d.createElement(l,{items:this.props.promo.page.details}):null,this.props.promo.page.airDetails&&p?d.createElement(m,{class:"air-details",text:this.props.promo.page.airDetails}):null,this.props.promo.page.synopsis&&r?d.createElement(m,{class:"synopsis",text:this.props.promo.page.synopsis}):null),this.props.promo.page.brandingBadge?d.createElement(n,{label:this.props.promo.page.brandingBadge}):null)),v?d.createElement(g,{substories:this.props.promo.page.subStories}):null):d.createElement("div",null,d.createElement("div",{className:t},d.createElement("div",{className:"multi-layout-promos__promo-content"},b&&this.props.promo.leadMedia&&this.props.promo.leadMedia.url&&!this.props.promo.page.sponsored?null:d.createElement("div",{className:"multi-layout-promos__promo--text__bg"}),this.props.promo.page.url?d.createElement("a",{href:this.props.promo.page.url,className:"div-link"}):null,this.props.promo.leadMedia&&this.props.promo.leadMedia.url&&b?d.createElement("a",{href:this.props.promo.page.url,className:"figure-link"},d.createElement("div",{className:"multi-layout-promos__promo--sponsor-caption"},this.props.promo.page.sponsorContentLabel),d.createElement(e,{key:w++,image:this.props.promo.leadMedia})):null,this.props.promo.leadMedia&&this.props.promo.leadMedia.isVideo&&this.props.promo.leadMedia.videoModel?d.createElement(f,{key:w++,model:this.props.promo.leadMedia.videoModel,lazyLoad:!0}):null,d.createElement("div",{className:s},this.props.promo.page.series&&c?d.createElement(i,{label:this.props.promo.page.series}):null,this.props.promo.page.title&&h?d.createElement(j,{label:this.props.promo.page.title,truncate:x,link:this.props.promo.page.url}):null,this.props.promo.page.abstract&&o?d.createElement(k,{label:this.props.promo.page.abstract,truncate:x}):null,this.props.promo.page.details&&q?d.createElement(l,{items:this.props.promo.page.details}):null,this.props.promo.page.airDetails&&p?d.createElement(m,{class:"air-details",text:this.props.promo.page.airDetails}):null,this.props.promo.page.synopsis&&r?d.createElement(m,{class:"synopsis",text:this.props.promo.page.synopsis}):null),this.props.promo.page.brandingBadge?d.createElement(n,{label:this.props.promo.page.brandingBadge}):null)),v?d.createElement(g,{substories:this.props.promo.page.subStories}):null)}});b.exports=o},{"../../Common/components/Images/Images.jsx":"platform/v2/components/Common/components/Images/Images.jsx","../../EmbeddedVideoPromo/components/EmbeddedVideo.jsx":46,"./Substories.jsx":111,"lodash/bind":"lodash/bind",react:"react"}],108:[function(a,b,c){"use strict";var d=a("jquery"),e=a("react"),f=a("./Promo.jsx"),g=a("../../CallToActionButton/CallToActionButton.jsx"),h=a("../../Common/components/ShowMoreButton/ShowMoreButton.jsx"),i=e.createClass({displayName:"PlaceholderDiv",render:function(){return e.createElement("div",{className:"multi-layout-promos__placeholder-div"})}}),j=e.createClass({displayName:"PromosContainer",getInitialState:function(){return this.shouldCallStickiness=!1,this.videoPromoPresent=!1,{promoResults:[],promosShown:1}},propTypes:{model:e.PropTypes.object.isRequired},showMorePromos:function(){var a=1;this.props.model.adConfig&&this.props.model.size&&("small"==this.props.model.size&&(a="box-ads"==this.props.model.adConfig?2:3),"medium"==this.props.model.size&&"leaderboard-ads"==this.props.model.adConfig&&(a=2));var b=this.state.promosShown,c=b+4*a;this.isMounted()&&this.setState({promosShown:c})},componentDidUpdate:function(){this.shouldCallStickiness&&"article"===NGS.core_site.dfp.template&&"box-ads"===this.props.model.adConfig&&(setTimeout(function(){NGS.core_site.sandbox.stickyBehavior.initStickiness("article",NGS.core_site.sandbox,"mlpBoxAd")},500),this.shouldCallStickiness=!1)},componentWillMount:function(){var a=this,b="",c=this.props.model.endpoint;if(this.props.model.queryParameters){var e=this.props.model.queryParameters.replace("&","?");c+=e}this.props.model.startPage&&(c=$jsonURL+"&page="+this.props.model.startPage),d.get(c,function(a){b=a},"json").done(function(){if(b.length){if(a.isMounted()){a.shouldCallStickiness=!0;for(var c=0;c<b.length;c++)b[c].page&&"video"===b[c].page.pageType&&(a.videoPromoPresent=!0);a.props.model.showAll?a.setState({promoResults:b,promosShown:b.length}):"small"==a.props.model.size?a.props.model.adConfig&&"box-ads"==a.props.model.adConfig?a.setState({promoResults:b,promosShown:4}):a.setState({promoResults:b,promosShown:3}):"medium"==a.props.model.size?a.setState({promoResults:b,promosShown:2}):a.setState({promoResults:b})}}else a.props.hidePromoArea()}).fail(function(){console.log("MLP query failure")})},render:function(){var a=this.props.model,b="mt_col-12 multi-layout-promos ",c="",d=!0,j=!0,k=!0,l=!0,m=[],n=!1,o=1;if(a.adConfig&&"box-ads"==a.adConfig?(b+="mt_col-lg-8 multi-layout-promos--box-ads ","small"==a.size&&(c+="mt_col-6 ",o=2)):(b+="multi-layout-promos--leaderboard ","small"==a.size&&(c+="mt_col-12 ",o=3),"medium"==a.size&&(c+="mt_col-12 mt_col-sm-6 ",o=2)),"small"==a.size&&(b+="multi-layout-promos--small "),"medium"==a.size&&(b+="multi-layout-promos--medium "),"large"==a.size&&(b+="multi-layout-promos--large "),a.showImages||(d=!1),a.showSeries||(j=!1),a.showTitles||(k=!1),a.showAbstracts||(l=!1),this.state.promoResults.length){for(var p=0;p<this.state.promosShown&&p<this.state.promoResults.length;){for(var q=[],r=0;o>r&&p<this.state.promosShown&&p<this.state.promoResults.length;r++)q.push(e.createElement(f,{key:p,promo:this.state.promoResults[p],promoClasses:c,size:a.size,showImages:d,showSeries:j,showTitles:k,showAbstracts:l,videoPromoPresent:this.videoPromoPresent})),p++;var s=e.createElement("div",{key:p,className:"multi-layout-promos__row clearfix"},q);m.push(s)}this.state.promoResults.length>this.state.promosShown&&(n=!0)}else m.push(e.createElement(i,{key:1}));return e.createElement("div",{className:b},m,"large"==a.size&&"below-promo"==a.ctaPosition&&a.ctaPath&&a.ctaText?e.createElement("div",{className:"multi-layout-promos--cta-container"},e.createElement(g,{type:a.ctaDisplay,label:a.ctaText,path:a.ctaPath,target:a.ctaTarget})):"",n?e.createElement(h,{label:a.buttonLabel,onClick:this.showMorePromos,hideOnClic:!1,classes:"multi-layout-promos__show-more mt_col-12"}):"")}});b.exports=j},{"../../CallToActionButton/CallToActionButton.jsx":21,"../../Common/components/ShowMoreButton/ShowMoreButton.jsx":30,"./Promo.jsx":107,jquery:"jquery",react:"react"}],109:[function(a,b,c){"use strict";var d,e=a("jquery"),f=a("react"),g=a("./SixUpPromo.jsx"),h=a("lodash/debounce"),i=a("../../../Common/components/ShowMoreButton/ShowMoreButton.jsx"),j=f.createClass({displayName:"SixUpContainer",getInitialState:function(){return this.$window=e(window),this.wWidth=this.$window.width(),this.wHeight=this.$window.height(),this.breakpoint=NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint(),{promoResults:[],initialPromosToShow:1,showMoreActivated:!1}},propTypes:{model:f.PropTypes.object.isRequired},showMorePromos:function(){this.isMounted()&&this.setState({showMoreActivated:!0}),window.removeEventListener("resize",d)},handleResize:function(){var a=this.$window.width();a!=this.wWidth&&(this.wWidth=a,6!==this.state.initialPromosToShow&&(a>=1120||a>580&&700>a)?this.setState({initialPromosToShow:6}):4!==this.state.initialPromosToShow&&(580>=a||a>=700&&1120>a)&&this.setState({initialPromosToShow:4}))},componentDidMount:function(){this.props.model.showAll||(d=h(this.handleResize,250),window.addEventListener("resize",d))},componentWillUnmount:function(){window.removeEventListener("resize",d)},componentWillMount:function(){var a=this,b="",c=this.props.model.endpoint;if(this.props.model.queryParameters){var d=this.props.model.queryParameters.replace("&","?");c+=d}this.props.model.startPage&&(c=$jsonURL+"&page="+this.props.model.startPage),e.get(c,function(a){b=a},"json").done(function(){b.length?a.isMounted()&&(a.props.model.showAll?a.setState({promoResults:b,initialPromosToShow:b.length}):a.wWidth>=1120||a.wWidth>580&&a.wWidth<700?a.setState({promoResults:b,initialPromosToShow:6}):a.setState({promoResults:b,initialPromosToShow:4})):a.props.hidePromoArea()}).fail(function(){this.props.hidePromoArea(),console.log("MLP query failure")})},render:function(){var a=this.props.model,b="mt_col-12 multi-layout-promos multi-layout-promos--six-up",c=[];if(this.props.model.showAll||this.state.showMoreActivated||(b+=" hide-unshown-promos"),this.state.promoResults.length)for(var d=0,e=this.state.showMoreActivated?this.state.promoResults.length:this.state.initialPromosToShow;d<this.state.promoResults.length&&e>d;)c.push(f.createElement(g,{key:d,promo:this.state.promoResults[d],showImages:a.showImages,showTitles:a.showTitles,showAbstracts:a.showAbstracts})),d++;return f.createElement("div",{className:b},c,!this.state.showMoreActivated&&this.state.initialPromosToShow<this.state.promoResults.length?f.createElement(i,{label:a.buttonLabel,onClick:this.showMorePromos,hideOnClick:!0,classes:"multi-layout-promos__show-more mt_col-12"}):"")}});b.exports=j},{"../../../Common/components/ShowMoreButton/ShowMoreButton.jsx":30,"./SixUpPromo.jsx":110,jquery:"jquery","lodash/debounce":"lodash/debounce",react:"react"}],110:[function(a,b,c){"use strict";var d=a("react"),e=a("../../../Common/components/Images/Images.jsx"),f=d.createClass({displayName:"Title",getDefaultProps:function(){return{onClickEvent:null}},render:function(){var a=this.props.onClickEvent?"javascript:":this.props.link;return d.createElement("h3",{ref:"title",className:"multi-layout-promos__promo-title"},d.createElement("a",{href:a,onClick:this.props.onClickEvent,className:"multi-layout-promos__promo-title-link"},d.createElement("span",{itemProp:"headline",dangerouslySetInnerHTML:{__html:this.props.label}})))}}),g=d.createClass({displayName:"Abstract",render:function(){return d.createElement("div",{ref:"abstract",className:"multi-layout-promos__promo-dek"},d.createElement("span",{itemProp:"description",dangerouslySetInnerHTML:{__html:this.props.label}}))}}),h=d.createClass({displayName:"SixUpPromo",propTypes:{promo:d.PropTypes.shape({leadMedia:d.PropTypes.shape({url:d.PropTypes.string}),page:d.PropTypes.shape({url:d.PropTypes.string,title:d.PropTypes.string,abstract:d.PropTypes.string}).isRequired}).isRequired,showTitles:d.PropTypes.bool.isRequired,showAbstracts:d.PropTypes.bool.isRequired},render:function(){var a={url:this.props.promo.leadMedia.url,aspectRatio:this.props.promo.leadMedia.aspectRatio,altText:this.props.promo.leadMedia.altText,frameAspectRatio:1,circleFrame:!0};return d.createElement("div",{className:"multi-layout-promos__promo--six-up"},d.createElement("div",{className:"multi-layout-promos__promo-content"},d.createElement("a",{href:this.props.promo.page.url,className:"div-link"}),d.createElement("a",{href:this.props.promo.page.url,className:"figure-link"},d.createElement(e,{key:"image",image:a})),d.createElement("div",{className:"multi-layout-promos__promo-text"},this.props.promo.page.title&&this.props.showTitles?d.createElement(f,{label:this.props.promo.page.title,link:this.props.promo.page.url}):null,this.props.promo.page.abstract&&this.props.showAbstracts?d.createElement(g,{label:this.props.promo.page.abstract}):null)))}});b.exports=h},{"../../../Common/components/Images/Images.jsx":"platform/v2/components/Common/components/Images/Images.jsx",react:"react"}],111:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"Substory",componentDidMount:function(){this.props.substory.linkText&&this.props.substory.linkText.length>10&&NGS.core_site.sandbox.coreArticleHelpers.truncateText(this.refs.title)},render:function(){var a=this.props.substory;return d.createElement("div",{ref:"substory",className:"multi-layout-promos__substory__holder"},d.createElement("a",{className:"multi-layout-promos__substory",href:a.link.linkUrl,title:a.link.linkSeoTitle,target:a.link.linkTarget},a.genre?d.createElement("span",{className:"multi-layout-promos__substory__genre",dangerouslySetInnerHTML:{__html:a.genre}}):null,d.createElement("span",{className:"multi-layout-promos__substory__title",dangerouslySetInnerHTML:{__html:a.link.linkText}})))}}),f=d.createClass({displayName:"Substories",render:function(){for(var a=[],b=0;b<this.props.substories.length;b++){var c=this.props.substories[b];c.link&&c.link.linkText&&c.link.linkUrl&&a.push(d.createElement(e,{key:b,substory:c}))}return d.createElement("div",{className:"multi-layout-promos__substory__wrap "+this.props.classes},a)}});b.exports=f},{react:"react"}],112:[function(a,b,c){"use strict";a("es5-shim");var d=(window.jQuery=a("jquery"),a("react")),e=a("react-dom"),f=a("@natgeo/pestle"),g=a("./NavRibbon.jsx");f.Module.add("NavRibbon",{isLoaded:!1,initialize:function(){var a=this;e.render(d.createElement(g,{model:a.options}),this.el),this.isLoaded=!0}}),b.exports=g},{"./NavRibbon.jsx":113,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react","react-dom":"react-dom"}],113:[function(a,b,c){"use strict";a("es5-shim");var d=(a("jquery"),a("react")),e=a("./components/NavRibbonTitle.jsx"),f=a("./components/NavRibbonLink.jsx"),g=d.createClass({displayName:"NavRibbon",propTypes:{model:d.PropTypes.object.isRequired},render:function(){var a=[];if(this.props.model)for(var b=0;b<this.props.model.links.length;b++)a.push(d.createElement(f,{key:b,link:this.props.model.links[b]}));return d.createElement("div",{className:"nav-ribbon container",ref:"navribbon"},d.createElement("div",{className:"nav-ribbon__wrap"},this.props.model.heading?d.createElement(e,{label:this.props.model.heading}):null,d.createElement("ul",{className:"nav-ribbon__links"},a)))}});b.exports=g},{"./components/NavRibbonLink.jsx":114,"./components/NavRibbonTitle.jsx":115,"es5-shim":"es5-shim",jquery:"jquery",react:"react"}],114:[function(a,b,c){"use strict";a("es5-shim");var d=a("react"),e=d.createClass({displayName:"NavRibbonLink",propTypes:{link:d.PropTypes.object.isRequired},render:function(){var a=this.props.link.navItem,b=a.linkUrl;return a.linkTrackingCode&&(b+=a.linkTrackingCode),d.createElement("li",{className:"nav-ribbon__link"},d.createElement("a",{href:b,title:a.linkSeoTitle,target:a.linkTarget,ref:"anchor"},d.createElement("span",{className:"nav-ribbon__link-text"},a.linkText)))}});b.exports=e},{"es5-shim":"es5-shim",react:"react"}],115:[function(a,b,c){"use strict";a("es5-shim");var d=a("react"),e=d.createClass({displayName:"NavRibbonTitle",propTypes:{label:d.PropTypes.string},render:function(){return d.createElement("div",{className:"nav-ribbon__title",dangerouslySetInnerHTML:{__html:this.props.label}})}});b.exports=e},{"es5-shim":"es5-shim",react:"react"}],116:[function(a,b,c){"use strict";a("es5-shim");var d=(a("jquery"),a("react")),e=a("react-dom"),f=a("./PictureFill.jsx"),g=a("./getPictureFillFormats");Pestle.Module.add("PictureFill",{isLoaded:!1,initialize:function(){var a="cinematic"===this.options.imageboxSize?"100vw":null;e.render(d.createElement(f,{src:this.options.src,alt:this.options.alt,imageCrop:this.options.imageCrop,formats:g,widthOverride:a}),this.el),this.isLoaded=!0}})},{"./PictureFill.jsx":117,"./getPictureFillFormats":119,"es5-shim":"es5-shim",jquery:"jquery",react:"react","react-dom":"react-dom"}],117:[function(a,b,c){"use strict";var d=a("react"),e=a("react-dom"),f=(a("jquery"),a("react-lazy-load")),g=a("lodash/isFunction"),h=a("lodash/debounce"),i=a("picturefill"),j=d.createClass({displayName:"PictureFill",propTypes:{formats:d.PropTypes.arrayOf(d.PropTypes.shape({width:d.PropTypes.number.isRequired,media:d.PropTypes.string.isRequired,densities:d.PropTypes.arrayOf(d.PropTypes.number).isRequired})),fadeSpeed:d.PropTypes.number,src:d.PropTypes.string.isRequired,imageCrop:d.PropTypes.string,lazyLoad:d.PropTypes.bool,onLoad:d.PropTypes.func,onRendered:d.PropTypes.func,widthOverride:d.PropTypes.string},getInitialState:function(){return{opacity:0,width:this.props.widthOverride||0}},runPicturefill:function(){if(this.refs.imageTag){var a=e.findDOMNode(this.refs.imageTag);i({elements:[a]})}},load:function(){this.props.lazyLoad&&this.refs.lazyLoad.lazyLoadHandler()},handleOnLoad:function(){this.setState({opacity:1}),g(this.props.onLoad)&&setTimeout(function(){this.isMounted()&&this.props.onLoad()}.bind(this),this.props.fadeSpeed)},calculateParentWidth:function(){function a(a){var b=a.offsetWidth,c=getComputedStyle(a);return b+=parseInt(c.marginLeft)+parseInt(c.marginRight)}return a(e.findDOMNode(this).parentNode)},resizeHandler:function(){if(!this.props.widthOverride){var a=this.calculateParentWidth();this.setState({width:a+"px"||"100vw"})}},componentDidMount:function(){window.addEventListener("resize",h(this.resizeHandler,750).bind(this)),this.resizeHandler()},componentWillUnmount:function(){window.removeEventListener("resize",this.resizeHandler)},shouldComponentUpdate:function(a,b){return a!==this.props||b!==this.state},getDefaultProps:function(){return{formats:[{width:470,densities:[1,2],media:"(max-width: 470px)"},{width:676,densities:[1],media:"(max-width: 676px)"},{width:885,densities:[1],media:"(max-width: 885px)"},{width:945,densities:[1],media:"(max-width: 945px)"},{width:1190,densities:[1],media:"(max-width: 1190px)"}],fadeSpeed:.1,lazyLoad:!0}},render:function(){var a,b=this.props.formats,c=this.props.src,e=c.substr(0,c.lastIndexOf(".")),g=c.substr(c.lastIndexOf(".")+1),h=this.props.imageCrop,a=d.createElement(k,{formats:b,baseName:e,extension:g,imageCrop:h,parentWidth:this.state.width}),i=this.props.style||{};return i.transition="opacity "+this.props.fadeSpeed+"s",i.opacity=this.state.opacity,this.props.lazyLoad?d.createElement(f,{ref:"lazyLoad",offsetVertical:900,onContentVisible:this.runPicturefill},d.createElement("picture",null,9>=l?d.createElement("video",{style:{display:"block"}},a):a,d.createElement("img",{style:i,ref:"imageTag",itemProp:"contentUrl",alt:this.props.alt,onLoad:this.handleOnLoad}))):d.createElement("picture",null,9>=l?d.createElement("video",{style:{display:"none"}},a):a,d.createElement("img",{style:i,ref:"imageTag",itemProp:"contentUrl",alt:this.props.alt,onLoad:this.handleOnLoad}))}}),k=d.createClass({displayName:"Source",propTypes:{baseName:d.PropTypes.string.isRequired,formats:d.PropTypes.arrayOf(d.PropTypes.shape({width:d.PropTypes.number.isRequired,media:d.PropTypes.string.isRequired,densities:d.PropTypes.arrayOf(d.PropTypes.number).isRequired})).isRequired,extension:d.PropTypes.string.isRequired,imageCrop:d.PropTypes.string},shouldComponentUpdate:function(a,b){return parseFloat(a.parentWidth)>parseFloat(this.props.parentWidth)},render:function(){var a=this.props.baseName,b=this.props.extension,c=this.props.imageCrop?this.props.imageCrop+".":"",e=(this.props.parentWidth,[]);this.props.formats.map(function(d,f){var g=d.width,h=d.densities;h.forEach(function(d){e.push(a+".adapt."+g+".1."+c+b+" "+g+"w")})});return d.createElement("source",{srcSet:e,sizes:this.props.parentWidth})}}),l=function(){for(var a,b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",d[0];);return b>4?b:a}();b.exports=j},{jquery:"jquery","lodash/debounce":"lodash/debounce","lodash/isFunction":"lodash/isFunction",picturefill:"picturefill",react:"react","react-dom":"react-dom","react-lazy-load":"react-lazy-load"}],118:[function(a,b,c){"use strict";var d=a("react"),e=a("react-dom"),f=(a("jquery"),a("react-lazy-load")),g=a("lodash/isFunction"),h=a("lodash/debounce"),i=a("picturefill"),j=d.createClass({displayName:"YourShotPictureFill",propTypes:{fadeSpeed:d.PropTypes.number,sizes:d.PropTypes.object.isRequired,src:d.PropTypes.string.isRequired,lazyLoad:d.PropTypes.bool,onLoad:d.PropTypes.func,widthOverride:d.PropTypes.string},getInitialState:function(){return{opacity:0,width:this.props.widthOverride||0}},load:function(){this.props.lazyLoad&&this.refs.lazyLoad.lazyLoadHandler()},handleOnLoad:function(){this.setState({opacity:1}),g(this.props.onLoad)&&setTimeout(function(){this.isMounted()&&this.props.onLoad()}.bind(this),this.props.fadeSpeed)},resizeHandler:function(){if(!this.props.widthOverride){var a=function(a){var b=a.offsetWidth,c=getComputedStyle(a);return b+=parseInt(c.marginLeft)+parseInt(c.marginRight)};this.setState({width:a(e.findDOMNode(this).parentNode)+"px"||"100vw"})}},componentDidMount:function(){i({elements:[e.findDOMNode(this)]}),window.addEventListener("resize",h(this.resizeHandler,750).bind(this)),this.resizeHandler()},componentWillUnmount:function(){window.removeEventListener("resize",this.resizeHandler)},shouldComponentUpdate:function(a,b){return a!==this.props||b!==this.state},getDefaultProps:function(){return{fadeSpeed:.75,lazyLoad:!0}},render:function(){var a=d.createElement(k,{sizes:this.props.sizes,src:this.props.src,parentWidth:this.state.width}),b=this.props.style||{};return b.transition="opacity "+this.props.fadeSpeed+"s",b.opacity=this.state.opacity,this.props.lazyLoad?d.createElement(f,{ref:"lazyLoad",offsetVertical:200},d.createElement("picture",null,9>=l?d.createElement("video",{style:{display:"none"}},a):a,d.createElement("img",{style:b,src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ref:"imageTag",itemProp:"contentUrl",alt:this.props.alt,onLoad:this.handleOnLoad}))):d.createElement("picture",null,9>=l?d.createElement("video",{style:{display:"none"}},a):a,d.createElement("img",{style:b,src:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ref:"imageTag",itemProp:"contentUrl",alt:this.props.alt,onLoad:this.handleOnLoad}))}}),k=d.createClass({displayName:"Source",propTypes:{src:d.PropTypes.string.isRequired,sizes:d.PropTypes.object.isRequired},render:function(){var a=this,b=this.props.sizes,c=[];return Object.keys(b).forEach(function(d){c.push(a.props.src+b[d]+" "+d+"w")}),d.createElement("source",{srcSet:c,sizes:this.props.parentWidth})}}),l=function(){for(var a,b=3,c=document.createElement("div"),d=c.getElementsByTagName("i");c.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",d[0];);return b>4?b:a}();b.exports=j},{jquery:"jquery","lodash/debounce":"lodash/debounce","lodash/isFunction":"lodash/isFunction",picturefill:"picturefill",react:"react","react-dom":"react-dom","react-lazy-load":"react-lazy-load"}],119:[function(a,b,c){"use strict";var d=function(){return document.querySelector('meta[name="picturefill"]')?JSON.parse(document.querySelector('meta[name="picturefill"]').content):null}();b.exports=d},{}],120:[function(a,b,c){"use strict";var d=a("./PreFooter.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("PreFooter-TextImage",{initialize:function(){f.render(e.createElement(d,{heading:this.options.heading,hideHrBigWeb:this.options.hideHrBigWeb,hideHrTabletMobile:this.options.hideHrTabletMobile,columns:this.options.columns}),this.options.el)}})},{"./PreFooter.jsx":121,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],121:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"LinkItem",propTypes:{item:d.PropTypes.object.isRequired},render:function(){return d.createElement("div",{className:"mt_col-6 mt_col-gut-1"},d.createElement("a",{href:this.props.item.link.linkUrl},d.createElement("img",{src:this.props.item.image}),d.createElement("label",{className:""},this.props.item.text)))}}),f=d.createClass({displayName:"PreFooter",propTypes:{heading:d.PropTypes.string.isRequired,hideHrBigWeb:d.PropTypes.bool.isRequired,hideHrTabletMobile:d.PropTypes.bool.isRequired,columns:d.PropTypes.array.isRequired},getDefaultProps:function(){return{heading:"",hideHrBigWeb:!1,hideHrTabletMobile:!1,columns:[]}},render:function(){var a=[],b=[],c=0;for(c;c<this.props.columns.length;c++)2>c?a.push(d.createElement(e,{key:c,item:this.props.columns[c]})):b.push(d.createElement(e,{key:c,item:this.props.columns[c]}));var f="textImage__top-rule";return this.props.hideHrBigWeb===!0?f+=" textImage__top-rule--hide-desktop":this.props.hideHrTabletMobile===!0&&(f+=" textImage__top-rule--hide-mobile"),d.createElement("div",{className:"mt_row textImage"},d.createElement("div",{className:"rule-buffer"},d.createElement("hr",{className:f})),d.createElement("div",{className:"prefooter__header"},d.createElement("span",null,this.props.heading)),d.createElement("div",{className:"mt_col-12 mt_col-md-6 dividing-rule-buffer"},a),d.createElement("hr",{className:"dividing-rule"}),d.createElement("div",{className:"mt_col-12 mt_col-md-6"},b))}});b.exports=f},{react:"react"}],122:[function(a,b,c){"use strict";var d=a("react"),e=a("jquery"),f=a("../Common/components/DropDown.jsx"),g=e(document.body),h=new d.createClass({mixins:[a("react-onclickoutside")],propTypes:{label:d.PropTypes.string,linkSet:d.PropTypes.array,comid:d.PropTypes.string},getDefaultProps:function(){function a(a){for(var b="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=0;a>d;d++)b+=c.charAt(Math.floor(Math.random()*c.length));return b}return{label:"",linkSet:[],comid:a(8)}},getInitialState:function(){return{openDropdown:!1}},handleClickOutside:function(a){this.closeDropdown()},toggleMenu:function(a){a.target.dataset.select&&(this.state.openDropdown?this.closeDropdown():this.openDropdown())},openDropdown:function(){this.setState({openDropdown:!0})},closeDropdown:function(){this.setState({openDropdown:!1})},handleKeyDown:function(a){27==a.keyCode&&this.closeDropdown()},render:function(){var a=this.state.openDropdown===!0?"ngs-pseudoSelect-container ngs-pseudoSelect-open":"ngs-pseudoSelect-container";return this.state.openDropdown?g.on("keydown.PseudoSelect"+this.props.comid,this.handleKeyDown):g.off("keydown.PseudoSelect"+this.props.comid),d.createElement("div",{className:"ngs-pseudoSelect",onClick:this.toggleMenu},d.createElement("div",{className:a},d.createElement("span",{className:"ngs-pseudoSelect-container__drop-label","data-select":"true",dangerouslySetInnerHTML:{__html:this.props.label+'<i data-select="true" class="icongs icongs-lightdirectiondown"></i><i data-select="true" class="icongs icongs-lightdirectionup"></i>'}}),d.createElement(f,{addDataSelectAttribute:!0,items:this.props.linkSet,onClose:this.closeDropdown,cssClass:"ngs-pseudoSelect-container__list"})))}});b.exports=h},{"../Common/components/DropDown.jsx":25,jquery:"jquery",react:"react","react-onclickoutside":"react-onclickoutside"}],123:[function(a,b,c){"use strict";var d=a("react"),e=a("../Common/components/Images/Images.jsx"),f=d.createClass({displayName:"Result",propTypes:{item:d.PropTypes.shape({thumbnail:d.PropTypes.shape({aspectRatio:d.PropTypes.number,url:d.PropTypes.string.isRequired}).isRequired,title:d.PropTypes.string.isRequired}).isRequired},render:function(){var a={url:this.props.item.thumbnail.url,aspectRatio:this.props.item.thumbnail.aspectRatio,altText:this.props.item.thumbnail["alt-text"],frameAspectRatio:1,circleFrame:!0};return d.createElement("div",{className:"search-component__results-block__result"},d.createElement("a",{href:this.props.item.url,className:"div-link"}),d.createElement(e,{image:a}),d.createElement("span",null,this.props.item.title),d.createElement("span",null,this.props.item["scientific-name"]))}});b.exports=f},{"../Common/components/Images/Images.jsx":"platform/v2/components/Common/components/Images/Images.jsx",react:"react"}],124:[function(a,b,c){"use strict";var d=a("react"),e=a("react-dom"),f=a("@natgeo/pestle"),g=a("./Search.jsx");f.Module.add("Search",{initialize:function(){var a=this;$.when($.get(a.options.endpoint)).done(function(b){b.animals?e.render(d.createElement(g,{data:b.animals,placeholderText:"Search Animals (e.g. Tiger)"}),a.options.el):NGS.core_site.sandbox.log.info("Filtered Search: results not correct format - 'animals' array not found")}).fail(function(){NGS.core_site.sandbox.log.info("Filtered Search query failure")})}})},{"./Search.jsx":125,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],125:[function(a,b,c){"use strict";var d=a("react"),e=a("./Result.jsx"),f=a("lodash/debounce"),g=a("../Ads/Ad/Ad.jsx"),h=null,i=d.createClass({displayName:"Search",propTypes:{data:d.PropTypes.array.isRequired,placeholderText:d.PropTypes.string},getInitialState:function(){return this.debouncedInputHandler=f(this.updateResults,400),this.globalAdConfig=NGS.core_site.sandbox.ads.globalAdConfig,this.adConfig=NGS.core_site.sandbox.ads.getIndividualAdConfig("search"),{resultsBlockOpen:!1,showResultsBlockContent:!1,breakpoint:"mobile",matches:[]}},mixins:[a("react-onclickoutside")],handleClickOutside:function(a){this.closeDrawer()},closeDrawer:function(){this.isMounted()&&this.setState({resultsBlockOpen:!1,showResultsBlockContent:!1})},updateResults:function(a){a&&a.preventDefault();var b=this.refs.input.value.trim();if(""===b||b.length<2)return this.closeDrawer(),!1;var c=b.split(" "),d=[];this.props.data.map(function(a){if(!(a.title&&a["scientific-name"]&&a.thumbnail.url&&a.url))return!1;var b=(a.title+" "+a["scientific-name"]).toLowerCase(),e=!0;c.map(function(a){return-1===b.indexOf(a.toLowerCase())?void(e=!1):void 0}),e&&d.push(a)}),d.length&&d.sort(function(a,b){return a.title==b.title?0:a.title<b.title?-1:1}),this.isMounted()&&this.setState({resultsBlockOpen:!0,matches:d})},inputChanged:function(a){a&&a.preventDefault(),this.debouncedInputHandler()},resizeHandler:function(){var a=null;NGS&&NGS.core_site&&(a=NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint()),a!=this.state.breakpoint&&this.isMounted()&&this.setState({breakpoint:a})},componentDidUpdate:function(){var a=this;!this.state.showResultsBlockContent&&this.state.resultsBlockOpen&&setTimeout(function(){!a.state.showResultsBlockContent&&a.state.resultsBlockOpen&&a.isMounted()&&a.setState({showResultsBlockContent:!0})},200)},componentDidMount:function(){h=f(this.resizeHandler,250),window.addEventListener("resize",h),this.resizeHandler()},componentWillUnmount:function(){window.removeEventListener("resize",h)},render:function(){var a=0;if(!this.props.data||!this.props.data.length)return!1;var b="search-component__results-block ";this.state.resultsBlockOpen&&(b+="search-component__results-block--open "),this.state.showResultsBlockContent&&(b+="search-component__results-block--show-content ");var c=[],f=[];this.state.matches.length?(this.state.matches.map(function(b){f.push(d.createElement(e,{key:a++,item:b}))}),c.push(d.createElement("div",{key:a++,className:"search-component__results-block__results-holder clearfix"},f))):c.push(d.createElement("span",{key:a++,className:"search-component__results-block__no-results"},"No Results Found"));var h=[];return"desktop"===this.state.breakpoint&&this.state.showResultsBlockContent&&h.push(d.createElement(g,{key:"ad",globalAdConfig:this.globalAdConfig,adConfig:this.adConfig})),d.createElement("div",{className:"search-component"},d.createElement("form",{onSubmit:this.updateResults},d.createElement("i",{className:"icongs-search icongs"}),d.createElement("input",{ref:"input",type:"search",placeholder:this.props.placeholderText,onChange:this.inputChanged}),d.createElement("div",{className:b},d.createElement("div",{className:"search-component__results-block__content"},c,h))))}});b.exports=i},{"../Ads/Ad/Ad.jsx":3,"./Result.jsx":123,"lodash/debounce":"lodash/debounce",react:"react","react-onclickoutside":"react-onclickoutside"}],126:[function(a,b,c){"use strict";var d=(window.jQuery=a("jquery"),a("./SecondaryNav.jsx")),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("SecondaryNav",{initialize:function(){f.render(e.createElement(d,{model:this.options,jsonModel:this.options.model,siteTitle:this.options.siteLink}),this.options.el)}})},{"./SecondaryNav.jsx":127,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery",react:"react","react-dom":"react-dom"}],127:[function(a,b,c){"use strict";var d,e=a("react"),f=a("../JumpMenu/JumpMenu.jsx"),g=a("../Common/components/GenericLink.jsx"),h=(a("../Common/components/UnorderedList.jsx"),a("./SiteHeading.jsx")),i=a("../Common/components/DropDown.jsx"),j=a("jquery"),k=a("lodash/debounce"),l=new e.createClass({propTypes:{jsonModel:e.PropTypes.array.isRequired,siteTitle:e.PropTypes.object.isRequired,model:e.PropTypes.shape({heading:e.PropTypes.string,linkTrackingCodes:e.PropTypes.string,tripsNavBarLabel:e.PropTypes.string,tripsDropMenuTitle:e.PropTypes.string,tripsByDestinationCta:e.PropTypes.string,tripsByActivityCta:e.PropTypes.string,tripsByDestinationLinks:e.PropTypes.array,tripsByActivityLinks:e.PropTypes.array,tripsTextLinks:e.PropTypes.array,lodgesNavBarLabel:e.PropTypes.string,lodgesDropMenuTitle:e.PropTypes.string,lodgesByDestinationCta:e.PropTypes.string,lodgesByActivityCta:e.PropTypes.string,lodgesByDestinationQueryPath:e.PropTypes.string,lodgesByActivityQueryPath:e.PropTypes.string,lodgesTextLinks:e.PropTypes.array})},getInitialState:function(){return{hideNav:!1}},resizeHandler:function(){j(document).width()<j(this.refs.navContainer).width()+60?this.isMounted()&&!this.state.hideNav&&this.setState({hideNav:!0}):this.isMounted()&&this.state.hideNav&&this.setState({hideNav:!1})},componentDidMount:function(){this.resizeHandler(),d=k(this.resizeHandler,100),window.addEventListener("resize",d)},componentWillUnmount:function(){window.removeEventListener("resize",d)},getDefaultProps:function(){return{siteTitle:{linkText:"Travel",linkSeoTitle:null,linkUrl:null,inPageLink:!1,linkTarget:null,linkTrackingCode:null},jsonModel:[]}},render:function(){var a=""!==this.props.siteTitle?e.createElement(h,{siteTitle:this.props.siteTitle}):null,b=this.state.hideNav?"hideNavContainer":null;return e.createElement("section",{ref:"navContainer",className:"ngs-secondary-nav-parent clearfix "+b},e.createElement("nav",{className:"ngs-secondary-nav"},a,e.createElement("div",{className:"ngs-secondary-nav-container"},e.createElement("ul",null,this.props.jsonModel.map(function(a,b){return e.createElement("li",{className:"ngs-secondary-nav-item",key:b},e.createElement(g,{item:a.navItem}),a.navItem.dropMenu?e.createElement(i,{items:a.navItem.dropMenu}):null)}),e.createElement("li",{className:"ngs-jump-item"},e.createElement("div",{className:"ngs-secondary-nav-jump-menu-parent"},e.createElement(f,{dataModel:this.props.model})))))))}});b.exports=l},{"../Common/components/DropDown.jsx":25,"../Common/components/GenericLink.jsx":26,"../Common/components/UnorderedList.jsx":31,"../JumpMenu/JumpMenu.jsx":88,"./SiteHeading.jsx":128,jquery:"jquery","lodash/debounce":"lodash/debounce",react:"react"}],128:[function(a,b,c){"use strict";var d=a("react"),e=a("../Common/components/GenericLink.jsx"),f=d.createClass({displayName:"SiteHeading",propTypes:{siteTitle:d.PropTypes.object.isRequired},getDefaultProps:function(){return{siteTitle:{linkText:"Travel",linkSeoTitle:null,linkUrl:null,inPageLink:!1,linkTarget:null,linkTrackingCode:null}}},returnTitleString:function(){var a,b;return this.props.siteTitle.linkUrl?(b=this.props.siteTitle.linkTrackingCode?this.props.siteTitle.linkUrl+this.props.siteTitle.linkTrackingCode:this.props.siteTitle.linkUrl,a={linkUrl:b,linkText:this.props.siteTitle.linkText,linkTarget:this.props.siteTitle.linkTarget},d.createElement(e,{item:a})):this.props.siteTitle.linkText},render:function(){return d.createElement("h3",{className:"ngs-secondary-nav-header"},this.returnTitleString())}});b.exports=f},{"../Common/components/GenericLink.jsx":26,react:"react"}],129:[function(a,b,c){"use strict";var d=a("./SiblingCarousel.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("SiblingCarousel",{initialize:function(){f.render(e.createElement(d,{carousel:this.options.carousel}),this.options.el)}})},{"./SiblingCarousel.jsx":130,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],130:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"SiblingCarousel",propTypes:{carousel:d.PropTypes.array.isRequired},getCurrentPage:function(){var a;for(a=0;a<this.props.carousel.length;a++)if(this.props.carousel[a].active===!0)return a+1},prevUrl:function(){return 1!==this.getCurrentPage()?this.props.carousel[this.getCurrentPage()-2].absoluteUrl:null},nextUrl:function(){return this.getCurrentPage()!==this.props.carousel.length?this.props.carousel[this.getCurrentPage()].absoluteUrl:null},render:function(){var a="carousel__button carousel__button--prev",b="carousel__button carousel__button--next";return 1===this.getCurrentPage()?a+=" dim":this.getCurrentPage()===this.props.carousel.length&&(b+=" dim"),d.createElement("div",{className:"carousel-container"},d.createElement("a",{className:a,href:this.prevUrl()},d.createElement("i",{className:"icongs-directionleft icongs"})),d.createElement("span",null,this.getCurrentPage()),d.createElement("span",null," / "),d.createElement("span",null,this.props.carousel.length),d.createElement("a",{className:b,href:this.nextUrl()},d.createElement("i",{className:"icongs-directionright icongs"})))}});b.exports=e},{react:"react"}],131:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle"),f=a("react"),g=a("react-dom"),h=a("./CommentButton.jsx");e.Module.add("CommentButton",{scrollToComments:function(){d("#livefyre").velocity("scroll",{duration:500,delay:200})},render:function(a){g.render(f.createElement(h,{amount:a,minimumAmountToShow:this.options.minimumamounttoshow,onClick:this.scrollToComments.bind(this)}),this.options.el)},initialize:function(){e.on("comments:updatecommentcount",this.render.bind(this)),this.render()}})},{"./CommentButton.jsx":132,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery",react:"react","react-dom":"react-dom"}],132:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"CommentButton",propTypes:{amount:d.PropTypes.number,minimumAmountToShow:d.PropTypes.number,onClick:d.PropTypes.func},getDefaultProps:function(){return{amount:0,minimumAmountToShow:0,onClick:function(){}}},onClick:function(){this.props.onClick()},formatCount:function(a){var b="",c=0;a<Math.pow(10,9)&&a>=Math.pow(10,6)-1?(b="m",c=a/Math.pow(10,6)):a<Math.pow(10,6)&&a>=Math.pow(10,3)-1?(b="k",c=a/Math.pow(10,3)):a<=Math.pow(10,3)&&(c=a);var d=Math.round(10*c)/10,e=d.toString().slice(0,3),f=e.replace(/\.$/,"");return f+b},render:function(){var a=NGS.platform.sandbox.coreArticleHelpers.getBreakpoint(),b="",c=this.formatCount(this.props.amount);return("mobile"===a||this.props.amount<=this.props.minimumAmountToShow)&&(b="hide-zero"),d.createElement("div",{className:"sharebutton article__count__menu "+b},d.createElement("a",{className:"app-modal-comments",onClick:this.onClick},d.createElement("i",{className:"icongs icongs-comment"}),d.createElement("span",{itemProp:"commentCount",className:"sharebutton__comment-count"},c)))}});b.exports=e},{react:"react"}],133:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle"),f=a("react"),g=a("react-dom"),h=a("../AnimatedScrollToButton/AnimatedScrollToButton.jsx");e.Module.add("CommentsCallToActionButton",{render:function(a,b){g.render(f.createElement(h,a),b)},initialize:function(){var a=d("#livefyre"),b=this.options;this.render({className:"comments-cta mt_btn mt_btn--naked",groupId:b.guid,label:b.label,iconClass:b.iconclass,location:a},this.el)}})},{"../AnimatedScrollToButton/AnimatedScrollToButton.jsx":16,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery",react:"react","react-dom":"react-dom"}],134:[function(a,b,c){"use strict";var d=a("@natgeo/pestle"),e=a("react-dom"),f=a("react"),g=a("./SocialMobile.jsx");d.Module.add("SocialMobile",{render:function(a){e.render(f.createElement(g,null),a)},initialize:function(){var a=this.sandbox.coreArticleHelpers.getBreakpoint();"desktop"!==a&&this.render(this.options.el)}})},{"./SocialMobile.jsx":135,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],135:[function(a,b,c){"use strict";a("velocity-animate");var d=a("jquery"),e=a("react"),f=a("../CallToActionButton/CallToActionButton.jsx"),g=a("../AnimatedScrollToButton/AnimatedScrollToButton.jsx"),h=a("lodash/debounce"),i=e.createClass({displayName:"SocialModal",propTypes:{offsetTop:e.PropTypes.number,onClickComment:e.PropTypes.func,onClickShare:e.PropTypes.func},getDefaultProps:function(){var a=d(".addthis_toolbox"),b=a.length?a.offset().top+a.height():0;return{offsetTop:b,onClickComment:function(){},onClickShare:function(){}}},getInitialState:function(){return{scrollValue:null,scrollDirection:"up",commentsEl:d("#livefyre"),onScroll:h(this.onScroll,200)}},shouldComponentUpdate:function(a,b){return!1},componentDidMount:function(){window.addEventListener("scroll",this.state.onScroll),this.$bar=d(ReactDOM.findDOMNode(this).parentNode)},componentWillUnmount:function(){window.removeEventListener("scroll",this.state.onScroll),Pestle.off("socialmodal:close")},show:function(a){this.isHiden&&(this.$bar.slideDown({duration:a||400}),this.isHiden=!1)},hide:function(a){this.isHiden||(this.$bar.slideUp({duration:a||400}),this.isHiden=!0)},onScroll:function(a){if(!this.isLocked){var b,c=window.scrollY,d=this.state.scrollValue;if(c>d?(b="down",this.hide()):(b="up",c>this.props.offsetTop?this.show():this.hide()),this.setState({scrollValue:c}),this.state.scrollDirection===b)return;this.setState({scrollDirection:b})}},onClickShareButton:function(a){var b=this;a.preventDefault(),this.hide(300),this.isLocked=!0,Pestle.emit("socialmodal:toggle",!0),Pestle.once("socialmodal:close",function(){setTimeout(b.show,700),b.isLocked=!1})},render:function(){return e.createElement("ul",{className:"social-mobile__list"},e.createElement("li",{className:"social-mobile__list_item"},e.createElement(g,{className:"social-mobile__link comment-button",location:this.state.commentsEl,iconClass:"icongs-comment",alt:"Comments"})),e.createElement("li",{className:"social-mobile__list_item"},e.createElement(f,{type:"button",className:"social-mobile__link comment-button",iconClass:"icongs-share",target:"_self",onClick:this.onClickShareButton})))}});b.exports=i},{"../AnimatedScrollToButton/AnimatedScrollToButton.jsx":16,"../CallToActionButton/CallToActionButton.jsx":21,jquery:"jquery","lodash/debounce":"lodash/debounce",react:"react","velocity-animate":"velocity-animate"}],136:[function(a,b,c){"use strict";a("es5-shim");var d=a("react"),e=d.createClass({displayName:"Spinner",propTypes:{showContentWhen:d.PropTypes.bool.isRequired},render:function(){return this.props.showContentWhen?d.createElement("div",{key:"content"},this.props.children):d.createElement("div",{className:"spinner-container"},d.createElement("div",{className:"spinner-animation"}))}});b.exports=e},{"es5-shim":"es5-shim",react:"react"}],137:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle");e.Module.add("TitleAndDek",{initialize:function(){var a=d(this.options.el);a.text().trim().length&&(a.removeClass("hidden"),a.prependTo(".text.smartbody p:first"))}})},{"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery"}],138:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}var f=a("react"),g=e(f),h=a("react-dom"),i=e(h),j=a("@natgeo/pestle"),k=e(j),l=a("../EmbeddedVideoPromo/components/EmbeddedVideo.jsx"),m=d(l);k.Module.add("UniversalVideo",{isLoaded:!1,initialize:function(){var a={instance:this.options.instance,guid:this.options.videoguid,sharing:this.options.sharing,type:this.options.type,overlayPlayButton:this.options.overlayPlayButton};i.render(g.createElement(m.default,{model:a,className:"universal-video-component__test",lazyLoad:!0}),this.el),this.isLoaded=!0,this.sandbox.log.info("UniversalVideo component initialized.")}})},{"../EmbeddedVideoPromo/components/EmbeddedVideo.jsx":46,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],139:[function(a,b,c){"use strict";a("es5-shim");var d=(a("jquery"),a("react")),e=a("react-dom"),f=a("@natgeo/pestle"),g=a("./VideoModal.jsx");f.Module.add("VideoModal",{isLoaded:!1,initialize:function(){e.render(d.createElement(g,{model:this}),this.el),this.isLoaded=!0}})},{"./VideoModal.jsx":140,"@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react","react-dom":"react-dom"}],140:[function(a,b,c){"use strict";a("es5-shim");var d=a("jquery"),e=a("react"),f=a("@natgeo/pestle"),g=a("../GenericModal/GenericModal.jsx"),h=a("../EmbeddedVideoPromo/components/EmbeddedVideo.jsx"),i=0,j=e.createClass({displayName:"VideoModal",propTypes:{model:e.PropTypes.object.isRequired},getInitialState:function(){return this.guid=null,this.title="",this.abstract="",{openModal:!1}},showVideoModal:function(a,b,c){this.guid=a,this.title=b,this.abstract=c,this.setState({openModal:!0}),d("html, body").addClass("ngs-generic-modal__noscroll")},closeNGSModal:function(){ngsPlayer&&ngsPlayer.api&&"undefined"!=typeof $pdk&&ngsPlayer.api.unload("platformModalVideoPlayer"+i),this.setState({openModal:!1}),d("html, body").removeClass("ngs-generic-modal__noscroll")},componentDidMount:function(){var a=this;f.on("VideoModal_Launch",function(b,c,d){a.showVideoModal(b,c,d)})},render:function(){i++;var a={instance:"platformModalVideoPlayer"+i,guid:this.guid,sharing:!0,overlayPlayButton:!0,autoPlay:!0},b=this.state.openModal;return e.createElement(g,{onClose:this.closeNGSModal,renderNGSModal:b},b?e.createElement("div",{className:"video-modal"},e.createElement("div",{className:"video-modal__player-wrap"},e.createElement(h,{key:i,model:a,lazyLoad:!0})),e.createElement("div",{className:"video-modal__caption"},e.createElement("h3",{className:"video-modal__headline",dangerouslySetInnerHTML:{__html:this.title}}),e.createElement("div",{className:"video-modal__dek",dangerouslySetInnerHTML:{__html:this.abstract}}),e.createElement("a",{href:"http://video.nationalgeographic.com",className:"video-modal__caption-link"},"See More Videos"))):null)}});b.exports=j},{"../EmbeddedVideoPromo/components/EmbeddedVideo.jsx":46,"../GenericModal/GenericModal.jsx":"platform/v2/components/GenericModal/GenericModal.jsx","@natgeo/pestle":"@natgeo/pestle","es5-shim":"es5-shim",jquery:"jquery",react:"react"}],141:[function(a,b,c){"use strict";var d=a("./CTAPromo.jsx"),e=a("react"),f=a("react-dom"),g=a("@natgeo/pestle");g.Module.add("CTAPromo",{initialize:function(){f.render(e.createElement(d,{imageUrl:this.options.imageUrl,imageAspectRatio:this.options.imageAspectRatio,link:this.options.link,brandingBadge:this.options.brandingBadge,title:this.options.title}),this.options.el)}})},{"./CTAPromo.jsx":142,"@natgeo/pestle":"@natgeo/pestle",react:"react","react-dom":"react-dom"}],142:[function(a,b,c){"use strict";var d=a("react"),e=a("../../Common/components/Images/Images.jsx"),f=d.createClass({displayName:"CTAPromo",propTypes:{imageUrl:d.PropTypes.string.isRequired,imageAspectRatio:d.PropTypes.number.isRequired,link:d.PropTypes.string.isRequired,brandingBadge:d.PropTypes.string,title:d.PropTypes.string.isRequired},componentDidMount:function(){this.props.brandingBadge&&this.props.brandingBadge.length>10&&NGS.core_site.sandbox.coreArticleHelpers.truncateText(this.refs.brandingBadge),this.props.title&&this.props.title.length>20&&NGS.core_site.sandbox.coreArticleHelpers.truncateText(this.refs.title)},render:function(){var a={url:this.props.imageUrl,frameAspectRatio:.8,aspectRatio:this.props.imageAspectRatio,lazyLoad:!0};return d.createElement("div",{className:"box-container-mobile"},d.createElement("a",{href:this.props.link},d.createElement("div",{className:"cta-promo mt_backgroundbasic"},d.createElement("div",{ref:"brandingBadge",className:"cta-promo__branding-badge mt_backgroundhighlight",dangerouslySetInnerHTML:{__html:this.props.brandingBadge}}),d.createElement(e,{image:a}),d.createElement("div",{ref:"title",className:"cta-promo__title",dangerouslySetInnerHTML:{__html:this.props.title}}))))}});b.exports=f},{"../../Common/components/Images/Images.jsx":"platform/v2/components/Common/components/Images/Images.jsx",react:"react"}],143:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle");e.Module.add("EditorsPicks",{isLoaded:!1,initialize:function(){var a=this;d(".app-show-more-editors-picks").on("click",function(){d(this).hide(),d(".app-show-less-editors-picks").show(),d("li.editorspicksitem").removeClass("hidden-xs")}),d(".app-show-less-editors-picks").on("click",function(){d(this).hide(),d(".app-show-more-editors-picks").show(),d("li.editorspicksitem.app-hidden-pick").addClass("hidden-xs")}),a.isLoaded=!0}})},{"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery"}],144:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle");e.Module.add("Pin",{isLoaded:!1,$gallery:null,initGallery:function(){var a=this;a.$gallery=new Swiper(".pin-gallery",{}),d(".pin-gallery__prev").on("click",function(){a.$gallery&&a.$gallery.slidePrev()}),d(".pin-gallery__next").on("click",function(){a.$gallery&&a.$gallery.slideNext()})},initialize:function(){var a=this;a.$hasAssets=this.options.hasassets,a.$hasAssets&&a.initGallery(),a.isLoaded=!0}})},{"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery"}],145:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle"),f=a("lodash/debounce");e.Module.add("VariantCarousel",{isLoaded:!1,$hasAssets:!1,$component:null,$gallery:null,$assetCount:null,$currentBreakpoint:null,initDesktopGallery:function(){var a=this;a.$gallery=new Swiper(a.$component.find(".variant-carousel__desktop-carousel"),{slidesPerView:"auto",loop:"true",loopedSlides:a.$assetCount}),a.$component.find(".variant-carousel__prev-button").on("click",function(){a.$gallery&&a.$gallery.slidePrev()}),a.$component.find(".variant-carousel__next-button").on("click",function(){a.$gallery&&a.$gallery.slideNext()})},initMobileGallery:function(){var a=this;a.$gallery=new Swiper(a.$component.find(".variant-carousel__mobile-carousel"),{slidesPerView:"auto"})},resizeHandler:function(){var a=this,b=NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint();return a.$currentBreakpoint===b?!1:("mobile"===a.$currentBreakpoint&&a.initDesktopGallery(),"mobile"!==a.$currentBreakpoint&&"mobile"===b&&a.initMobileGallery(),void(a.$currentBreakpoint=b))},initialize:function(){var a=this;a.$id=this.options.id,a.$hasAssets=this.options.hasassets,a.$assetCount=this.options.assetcount,a.$currentBreakpoint=NGS.core_site.sandbox.coreArticleHelpers.getBreakpoint(),a.$component=a.$el.siblings(".variant-carousel"),a.$component.length&&("mobile"===a.$currentBreakpoint?a.initMobileGallery():a.initDesktopGallery(),a.isLoaded=!0,d(window).resize(f(a.resizeHandler.bind(this),150)))}})},{"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery","lodash/debounce":"lodash/debounce"}],146:[function(a,b,c){"use strict";var d=a("jquery"),e=a("@natgeo/pestle"),f=a("react"),g=a("react-dom"),h=a("lodash/merge"),i=a("lodash/bind"),j=a("./AddThis.jsx");a("../../../extensions/stickyBehavior.js");e.Module.add("AddThis",{isLoaded:!1,settings:{addthis_config:{pubid:"ng-dmg",data_track_addressbar:!1,data_track_clickback:!1},addthis_share:{url_transforms:{shorten:{twitter:"bitly"}},shorteners:{bitly:{}},passthrough:{twitter:{via:"NatGeo"}}}},configure:function(){h(window.addthis_config,this.settings.addthis_config),h(window.addthis_share,this.settings.addthis_share)},addthisReady:function(a){NGS&&NGS.core_site&&NGS.core_site.sandbox&&NGS.core_site.sandbox.util&&(this.settings.addthis_share.passthrough.twitter.via=NGS.core_site.sandbox.util.parseTag("meta[name='twitter:site']").content.replace("@","")),this.configure(),this.sandbox.log.info("AddThis is loaded"),this.isLoaded=!0,window.addthis.isReady=!0,e.emit("addthis:ready")},initialize:function(){var a=this,b=this.options,c=b.socialLinks,e=b.analyticsEventSite,h=b.maxVisible,k=b.el,l=b.configuration;"vertical"===l&&(l="auto"),d(k).closest(".addthis_toolbox").addClass(l),g.render(f.createElement(j,{SocialLinks:c,orientation:l,maxVisible:h,className:"addthis__component",analyticsEventSite:e}),k,function(){d.getScript("//s7.addthis.com/js/300/addthis_widget.js#pubid=ng-dmg").then(function(){window.addthis.addEventListener("addthis.ready",i(a.addthisReady,a))})})}})},{"../../../extensions/stickyBehavior.js":158,"./AddThis.jsx":147,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery","lodash/bind":"lodash/bind","lodash/merge":"lodash/merge",react:"react","react-dom":"react-dom"}],147:[function(a,b,c){"use strict";a("velocity-animate");var d=3,e=a("jquery"),f=a("react"),g=(a("./../../GenericModal/GenericModal.jsx"),a("./SocialLink.jsx")),h=a("../SocialModal/SocialModal.jsx"),i=f.createClass({displayName:"AddThis",propTypes:{SocialLinks:f.PropTypes.arrayOf(f.PropTypes.shape({socialLink:f.PropTypes.shape({icon:f.PropTypes.string,class:f.PropTypes.string,analyticsEvent:f.PropTypes.string})})),orientation:f.PropTypes.oneOf(["auto","horizontal","vertical"]),maxVisible:f.PropTypes.number},getDefaultProps:function(){return{orientation:"auto",maxVisible:d}},getInitialState:function(){return{collapsed:!0}},animate:function(){var a=this.state,b=this.props.orientation,c=NGS.platform.sandbox.coreArticleHelpers.getBreakpoint(),d=a.collapsed?"slideUp":"slideDown",f=e(".sharebutton__modal--button-container.collapsable"),g=e(".sharebutton__modal--button-container:last .icongs.icongs-open"),h={width:"",opacity:"",display:"none"},i={width:"",opacity:"",display:""},j=300,k=44;if("auto"===b&&"desktop"===c||"vertical"===b)f[d]({duration:j,complete:function(){f.css(a.collapsed?h:i)}});else{var l=void 0,m=void 0,n=void 0;a.collapsed?(l={width:k,opacity:1},m={width:0,opacity:0},n={duration:j,display:"none",complete:function(){f.css(h)}}):(l={width:0,opacity:0},m={width:k,opacity:1},n={duration:j,display:"inline-block",complete:function(){f.css(i)}}),f.css(l),f.velocity(m,n)}g.velocity({rotateZ:a.collapsed?"0deg":"45deg"},{duration:j})},componentDidMount:function(){var a=e(".sharebutton__modal--button-container.collapsable");a.css({display:"none"}),"horizontal"!==this.props.orientation&&NGS.core_site.sandbox.stickyBehavior.initStickiness("article",NGS.core_site.sandbox,"addthis")},handleCollapse:function(a){return a.preventDefault(),"mobile"===NGS.platform.sandbox.coreArticleHelpers.getBreakpoint()?Pestle.emit("socialmodal:toggle",!0):void this.setState({collapsed:!this.state.collapsed},this.animate)},handleClick:function(a,b){b.preventDefault(),"Print"===a&&window.print()},render:function(){var a=this,b=this.props;this.state;return f.createElement("div",{className:"addthis__component "+b.orientation},f.createElement("div",{className:"addthis__component-sociallinks__wrapper"},b.SocialLinks.map(function(c,d){return f.createElement(g,{key:d,className:d<b.maxVisible?"":"collapsable",icon:c.socialLink.icon,internalClassName:c.socialLink.class,analyticsEvent:c.socialLink.analyticsEvent,analyticsEventSite:b.analyticsEventSite,onClick:a.handleClick.bind(a,c.socialLink.analyticsEvent)})}),f.createElement(g,{onClick:a.handleCollapse,icon:"icongs-open",className:"addthis_button_open"})),f.createElement(h,{label:"Share this link",socialLinks:b.SocialLinks,analyticsEventSite:b.analyticsEventSite}))}});b.exports=i},{"../SocialModal/SocialModal.jsx":149,"./../../GenericModal/GenericModal.jsx":"platform/v2/components/GenericModal/GenericModal.jsx","./SocialLink.jsx":148,jquery:"jquery",react:"react","velocity-animate":"velocity-animate"}],148:[function(a,b,c){"use strict";var d=a("react"),e=d.createClass({displayName:"SocialLink",propTypes:{analyticsEventSite:d.PropTypes.string,analyticsEvent:d.PropTypes.string,icon:d.PropTypes.string,internalClassName:d.PropTypes.string,className:d.PropTypes.string,overrideTitle:d.PropTypes.string,labelText:d.PropTypes.string,onClick:d.PropTypes.func},getDefaultProps:function(){return{internalClassName:"",className:"",onClick:function(){}}},handleClickTrack:function(a){if(a.preventDefault(),this.props.analyticsEvent){var b=["_trackEvent",this.props.analyticsEventSite,"Share",this.props.analyticsEvent];_gaq.push(b)}},onClick:function(a){this.props.onClick(a)},componentDidMount:function(){this.props.overrideTitle&&this.refs.buttonHolder.setAttribute("addthis:title",this.props.overrideTitle)},render:function(){var a=this.props,b="sharebutton__modal--button-container clearfix "+a.className;return d.createElement("div",{ref:"buttonHolder",onClick:this.handleClickTrack,className:b},d.createElement("a",{href:"#",onClick:this.onClick,className:"social-link "+a.internalClassName},this.props.labelText?d.createElement("span",{className:"share-icon-label"},this.props.labelText):null,d.createElement("span",{className:"share-icon-container"},d.createElement("div",{className:"share-icon"},d.createElement("i",{className:"icongs "+a.icon})))))}});b.exports=e},{react:"react"}],149:[function(a,b,c){"use strict";a("velocity-animate"),a("velocity-animate/velocity.ui");var d=a("jquery"),e=a("es6-promise").Promise,f=a("react"),g=a("./../../GenericModal/GenericModal.jsx"),h=a("../AddThis/SocialLink.jsx"),i={"social.fadeUpIcons":{defaultDuration:80,calls:[[{translateY:"3px"}],[{translateY:"-1px"}],[{translateY:"0"}]]},"social.showContainer":{defaultDuration:250,calls:[[{opacity:[1,0],translateY:[0,"100%"],paddingBottom:3}],[{paddingBottom:0}]]},"social.hideContainer":{defaultDuration:200,calls:[[{opacity:[0,1],translateY:"100%"}]]}},j=f.createClass({displayName:"SocialModal",propTypes:{label:f.PropTypes.string,socialLinks:f.PropTypes.array.isRequired},getInitialState:function(){return{isVisible:!1}},componentWillMount:function(){for(var a in i)d.Velocity.RegisterEffect&&!d.Velocity.Redirects[a]&&d.Velocity.RegisterEffect(a,i[a])},componentDidMount:function(){this.addthisIsLoaded=!1,this.addthisIsReady=new e(function(a,b){window.addthis&&window.addthis.isReady?a():Pestle.once("addthis:ready",a)}),Pestle.on("socialmodal:toggle",this.toggle)},componentWillUnmount:function(){Pestle.off("socialmodal:toggle")},componentDidUpdate:function(){var a=this;this.state.isVisible&&!this.addthisIsLoaded&&(this.addthisIsReady.then(function(){window.addthis.toolbox(".modal-addthis-toolbox"),a.addthisIsLoaded=!0}),this.$modalWrapper=d(this.refs.genericModal.refs.modalWrapper),this.$modalWrapper.$shareIcons=this.$modalWrapper.find(".share-icon")),this.state.isVisible&&(this.$modalWrapper.velocity("social.showContainer"),this.$modalWrapper.$shareIcons.velocity("social.fadeUpIcons",{stagger:50,delay:100}))},toggle:function(a){var b=void 0!==a?a:!this.state.isVisible;b?this.show():this.close()},show:function(){this.setState({isVisible:!0})},close:function(){var a=this;this.$modalWrapper.velocity("social.hideContainer",{complete:function(){a.setState({isVisible:!1},function(){Pestle.emit("socialmodal:close")})}})},handleCrossBtn:function(a){a.preventDefault(),this.close()},handleGenericModal:function(a){a.target.dataset.modalRoot&&this.close()},render:function(){var a=this.props;return f.createElement(g,{renderNGSModal:this.state.isVisible,ref:"genericModal",className:"modal-social-mobile",onClose:this.state.isVisible?this.close:void 0,onModalClick:this.handleGenericModal,transitionSpeed:150,outerClickClose:!1,disableScrollOnShow:!0,displayCloseButton:!1},f.createElement("header",{className:"modal-social-mobile__header"},f.createElement("h6",{className:"modal-social-mobile__headline"},this.props.label),f.createElement("a",{href:"#",className:"modal-social-mobile__close",onClick:this.handleCrossBtn},f.createElement("i",{className:"icongs icongs-close app__modal-social-mobile-close"}))),f.createElement("div",{className:"modal-social-mobile__list modal-addthis-toolbox"},a.socialLinks.map(function(b,c){return b.socialLink.class?f.createElement(h,{key:c,className:"modal-social-mobile__item",icon:b.socialLink.icon,internalClassName:"modal-social-mobile__link "+b.socialLink.class,analyticsEvent:b.socialLink.analyticsEvent,analyticsEventSite:a.analyticsEventSite}):void 0})))}});b.exports=j},{"../AddThis/SocialLink.jsx":148,"./../../GenericModal/GenericModal.jsx":"platform/v2/components/GenericModal/GenericModal.jsx","es6-promise":"es6-promise",jquery:"jquery",react:"react","velocity-animate":"velocity-animate","velocity-animate/velocity.ui":"velocity-animate/velocity.ui"}],150:[function(a,b,c){"use strict";var d=a("@natgeo/pestle");d.Module.add("Comments",{initialize:function(){window.addEventListener("lf:CommentCount",function(a){d.emit("comments:updatecommentcount",a.detail)}),window.addEventListener("lf:CommentsLoaded",function(){d.emit("comments:ready")}),window.livefyreConfig={global:{network:this.options.lfnetworkname},streams:[{siteId:this.options.lfsiteid,articleId:this.options.pageguid,el:this.options.lfelement,collectionMeta:this.options.lfmetadata,checksum:this.options.checksum,signed:!0}]},a("modules-livefyre")}})},{"@natgeo/pestle":"@natgeo/pestle","modules-livefyre":"modules-livefyre"}],151:[function(a,b,c){"use strict";var d,e=a("jquery"),f=a("lodash/defaults"),g=a("lodash/isNumber"),h=a("lodash/bind"),i=a("lodash/partial"),j=a("lodash/debounce"),k=function a(b,c){var d=c?c:b.target,a=e(b.stickyBarClass);this.init=function(){var c,f;c=g(d)?d:e(d).offset().top,f=j(l,b.waitLimit),e(window).scroll(i(f,a,c))}},l=function(a,b,c){var d=e(this).scrollTop();d>=b?a.addClass("stickybar-el--fixed"):a.removeClass("stickybar-el--fixed")},m=function(a,b){var c=e(a.el).closest(".stickybar-container");c.removeClass(a.rwdClasses.join(" ")),c.addClass(a.rwdClasses[b])};Pestle.Module.add("StickyBar",{initialize:function(){var a,b={topSpeed:700,waitLimit:300,autostart:!0,stickyBarClass:".stickybar-el",target:".mainArt",rwdClasses:["stickybar--mobile","stickybar--tablet","stickybar--desktop"]};this.options=f(this.options,b),d=this.sandbox,a=new k(this.options),this.options.autostart?a.init():Pestle.once("stickybar:init",a.init),e(this.options.el).closest(".stickybar-container").on("click",".gototop-btn",h(this.goToTop,this)),Pestle.on("rwd:mobile",i(m,this.options,0)),Pestle.on("rwd:tablet",i(m,this.options,1)),Pestle.on("rwd:desktop",i(m,this.options,2))},goToTop:function(a){a.preventDefault(),e("html, body").animate({scrollTop:0},this.options.topSpeed)}})},{jquery:"jquery","lodash/bind":"lodash/bind","lodash/debounce":"lodash/debounce","lodash/defaults":"lodash/defaults","lodash/isNumber":"lodash/isNumber","lodash/partial":"lodash/partial"}],152:[function(a,b,c){"use strict";var d=a("jquery"),e={name:"ActiveEngagement",optionKey:"activeEngagement",initialize:function(a){a.sandbox.activeEngagement=f}},f={start:function(a,b){a=a||12e4,b=b||document,d(b).idleTimer(a)},stop:function(a){a=a||document,d(a).idleTimer("destroy")},onUserIdle:function(a,b){b=b||document,d(b).bind("idle.idleTimer",a)},onUserActive:function(a,b){b=b||document,d(b).bind("active.idleTimer",a)},stopListening:function(a,b){b=b||document,d(b).unbind("active.idleTimer",a),d(b).unbind("idle.idleTimer",a)},isUserActive:function(a){return a=a||document,!d(a).idleTimer("isIdle")},getIdleTimeout:function(a){return a=a||document,d(a).data("idleTimerObj").timeout},getElapsedTime:function(a){return a=a||document,d(a).idleTimer("getElapsedTime")}};b.exports=e},{jquery:"jquery"}],153:[function(a,b,c){"use strict";function d(a){for(var b=window.location.search.substring(1),c=b.split("&"),d=0;d<c.length;d++){var e=c[d].split("=");if(e[0]==a)return e[1]}return!1}function e(a,b,c){var d,e,g=c.breakpoint||"mobile",h=!1,i=!1,j=b.size,k=j?j[0]:null,m=j?j[1]:null,n=a.data("sizeMapping");a=f(a),j="["+j+"]",j=j.replace(/,/g,", "),d={desktop:0,tablet:1,mobile:2},e=c.sizeMapping[n][d[c.breakpoint]].stickydimensions,e&&(i=!0,h=l(e,j)),m>700&&a.addClass("ad--large"),"header"!==n&&"bodyLeaderboard"!==n||"mobile"===g||a.closest(".sticky-leaderboard__placeholder").addClass("hidden-xs"),!h&&i&&(a.closest(".sticky-component").addClass("disable-stickiness"),a.closest(".sticky-leaderboard__placeholder").addClass("disable-stickiness")),"sponsorAd_upperRight"===n&&(k>190&&m>40?Pestle.emit("SponsorAdRendered"):f(".titleAndDek").addClass("hideAd"))}var f=a("jquery");a("es6-promise").Promise;a("jquery.dfp");var g=a("react"),h=a("react-dom"),i=a("../components/Ads/Templates/HubAds.jsx"),j=a("../components/Ads/Templates/ArticleAds.jsx"),k=a("lodash/flatten"),l=a("lodash/includes"),m=a("lodash/padStart"),n={},o=function(a,b,c){var d=[a.locations,a.series,a.genres,a.people,a.organizations,a.events,a.concepts,a.audiences],e=function(a){var b=[];return a.forEach(function(a){a&&b.push(a)}),b},g=e(d),h=function(a){return a?a.toString().trim().split(/[ ,]+/).join(","):""},i=function(){var d={};return a.source&&(d.s1=a.source),a.firstSubjectAncestor&&(d.s2=a.firstSubjectAncestor),a.firstSubject&&(d.s3=a.firstSubject),a.adKeywords&&(d.kw=h(a.adKeywords)),b&&(d.breakpoint=b),a.otherSubjects&&(d.category=h(a.otherSubjects)),c&&(d.template=c),g.length&&(d.metadata=h(k(g))),d},j={dfpID:f("meta[name='dfp:networkCode']").attr("content")||2994,enableSingleRequest:!1,refreshExisting:!1,setUrlTargeting:!0,setTargeting:i()};return j},p={initialize:function(a){n=a.sandbox,n.ads=n.ads||{};var b=document.getElementById("ad-component-base"),c=n.taxonomy.getData(),k=n.coreArticleHelpers.getBreakpoint(),l=f("meta[name='dfp:sizeMapping']").attr("content")?JSON.parse(f("meta[name='dfp:sizeMapping']").attr("content")):null,p={desktop:0,tablet:1,mobile:2};if(!l)return!1;var q={activeEngagementInterval:parseInt(f("meta[name='dfp:activeEngagementInterval']").attr("content"))||120,adUnitId:f("meta[name='dfp:domain']").attr("content")||"ng.test",adLoadBuffer:parseInt(f("meta[name='dfp:adLoadBuffer']").attr("content"))||200,base:n,breakpoint:k,debug:JSON.parse(d("debugAds"))||!1,usePlaceholders:n.aem.isEditMode()||n.aem.isDesignMode()||"true"===f("meta[name='flag:disableAds']").attr("content")||JSON.parse(d("disableAds")),favorability:f("meta[name='dfp:adFavorability']").attr("content")||"viewability",outOfPageEnabled:"true"===f("meta[name='dfp:outOfPageEnabled']").attr("content")||!1,refreshRate:parseInt(f("meta[name='dfp:refreshRate']").attr("content"))||15,sizeMapping:l,template:f("meta[name='dfp:template']").attr("content")||null},r=o(c,k,q.template),s=f("meta[name='dfp:domain']").attr("content")||"ng.test",t=c.firstSubjectAncestor||"ancestor",u=c.firstSubject||"subject",v=f("#template-id").data("template")||"template",w=s+"/"+t+"/"+u+"/"+v,x={};return n.ads.getIndividualAdConfig=function(a){function b(a){for(var b="",c=0;c<e[p[a]].ad_sizes.length;c++){var d=e[p[a]].ad_sizes[c]||"";d=d.replace(/, /g,"x").replace("[","").replace("]",""),b+=b?", "+d:d}return b}var c={},d="",e=l[a];if(c.adConfigKey=a,x[a]){x[a]=x[a]+1;var f=m(x[a],2,0);d=a+"-"+f}else x[a]=1,d=a;return c.adUnitId=w+"/"+d,e&&(c.dimensions=b(k)),c},n.ads.dfpCall=function(a){r.afterEachAdLoaded=function(a,b){if(e(a,b,q),!b.isEmpty&&b.slotContentChanged){var c=a.data().sizeMapping;Pestle.emit("dfpcall:contentchanged_"+c,a,b)}},n.log.info("DFP Ad Call: "+a.data("adunit")),a.dfp(r)},n.ads.globalAdConfig=q,b?void("hub"===q.template?f(".mainArt .section").first().hasClass("immersive")?Pestle.on("fireAds",function(){h.render(g.createElement(i,{base:n}),b)}):f(function(){h.render(g.createElement(i,{base:n}),b)}):"article"===q.template||"gallery"===q.template||"interactive"===q.template?f(function(){h.render(g.createElement(j,{base:n,template:q.template}),b)}):n.log.warn("No pagewide React Ad Component available for this template")):(n.log.warn("No Div available for pagewide React Ad Component"),!1)},name:"Ads",optionKey:"ads"};b.exports=p},{"../components/Ads/Templates/ArticleAds.jsx":14,"../components/Ads/Templates/HubAds.jsx":15,"es6-promise":"es6-promise",jquery:"jquery","jquery.dfp":"jquery.dfp","lodash/flatten":"lodash/flatten","lodash/includes":"lodash/includes","lodash/padStart":"lodash/padStart",react:"react","react-dom":"react-dom"}],154:[function(a,b,c){"use strict";var d={initialize:function(a){var b;b="undefined"==typeof CQ?void 0:CQ,a.sandbox.aem=a.sandbox.aem||{},a.sandbox.aem.isEditMode=function(){return b&&b.WCM?b.WCM.isEditMode(!0):!1},a.sandbox.aem.isPreviewMode=function(){return b&&b.WCM?b.WCM.isPreviewMode(!0):!1},a.sandbox.aem.isDesignMode=function(){return b&&b.WCM?b.WCM.isDesignMode(!0):!1},a.sandbox.aem.getMode=function(){return b&&b.WCM&&b.WCM.getMode(!0)}},name:"AEM",optionKey:"aem"};b.exports=d},{}],155:[function(a,b,c){"use strict";var d=a("jquery"),e=d(window),f=a("lodash/debounce"),g={elementsToTruncate:[],initialize:function(a){var b=this,c={};a.sandbox.coreArticleHelpers=a.sandbox.coreArticleHelpers||{},a.sandbox.coreArticleHelpers.elementsToTruncate=[],a.sandbox.coreArticleHelpers.truncateText=function(a,c){if(a){var e=d(a);e.dotdotdot(),c||b.elementsToTruncate.push(e)}};var g=function(){b.elementsToTruncate.length&&b.elementsToTruncate.forEach(function(a){a.dotdotdot()})};e.resize(f(g,500)),d(function(){setTimeout(function(){g()},2e3),setTimeout(function(){g()},1e4)}),a.sandbox.coreArticleHelpers.getBreakpoint=function(){var a=window.getComputedStyle(document.querySelector("body"),":after").getPropertyValue("content").replace(/"/g,"").replace(/'/g,"")||"not available";return a},a.sandbox.coreArticleHelpers.disableScrollEvent=function(a){var b=void 0!==a?a:!0;if(b){var d=document.getElementsByTagName("body")[0];c.styles=d.getAttribute("style"),c.scrollY=window.scrollY;var e="top:"+-1*window.scrollY+"px; overflow:visible; height:100%; width:100%; position:fixed;";d.setAttribute("style",e)}else{var d=document.getElementsByTagName("body")[0];c.styles&&c.styles.length?d.setAttribute("style",c.styles):d.removeAttribute("style"),window.scrollTo(0,c.scrollY)}},a.sandbox.coreArticleHelpers.isElementInViewport=function(a){if("function"==typeof jQuery&&a instanceof jQuery&&(a=a[0]),!a)return!1;var b=a.getBoundingClientRect(),c=b.top!==b.bottom,d=b.top>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight);return c&&d}},name:"coreArticleHelpers",optionKey:"coreArticleHelpers"};b.exports=g},{jquery:"jquery","lodash/debounce":"lodash/debounce"}],156:[function(a,b,c){"use strict";var d,e=a("mousetrap"),f=a("lodash/isString"),g=a("lodash/extend"),h=function(a){var b,c;a.nodeType&&1===a.nodeType?b=new e(a):f(a)?(c=document.querySelector(a),c?b=new e(c):d.log.error("[Keyboard Events] the passed selector doesn't exist")):b=e;var h={bind:b.bind,unbind:b.unbind,trigger:b.trigger,stopCallback:b.stopCallback,reset:b.reset};return g(b,{bind:function(a,c,d){return h.bind.call(b,a,c,d)},unbind:function(a,c){return h.unbind.call(b,a,c)},trigger:function(a,c){return h.trigger.call(b,a,c)},stopCallback:function(a,c){return h.stopCallback.call(b,a,c)},reset:function(){return h.reset.call(b)}})},i={initialize:function(a){d=a.sandbox,a.sandbox.keyboard=function(a){return h(a)}},name:"Keyboard Events",optionKey:"keyboardevents"};b.exports=i},{"lodash/extend":"lodash/extend","lodash/isString":"lodash/isString",mousetrap:"mousetrap"}],157:[function(a,b,c){"use strict";var d=(a("lodash/defaults"),a("lodash/partial")),e=a("lodash/isString"),f=a("lodash/isObject"),g=a("lodash/isArray"),h=a("lodash/isEmpty"),i={},j=function(a,b,c){var d,e={};return g(c)||(c=[c]),c.forEach(function(c){g(a)&&a.length?a.forEach(function(a){d=c.getAttribute(a.attr),d&&(e[l(d,a.norm,a.repl)]=c.getAttribute(a.val))}):Array.prototype.slice.call(c.attributes,0).forEach(function(a){var c=b?l(a.name,b,""):a.name;e[c]=a.value})}),e},k=function(a,b,c){var g,i=[],k={},c=c||"",b=b||[],l=d(j,b,c);if(e(a))g=document.querySelectorAll(a);else{if(!f(a))return;g=a}return g&&(g.length&&(g=Array.prototype.slice.call(g,0)),g.length>1&&0==b.length?i=g.map(l):g.length>=1&&b.length||g.nodeName?k=l(g):1==g.length&&(k=l(g[0]))),h(k)?i:k},l=function(a,b,c){return a.replace(new RegExp(b),c)},m={initialize:function(a){i=a.sandbox,a.sandbox.util.parseTag||(a.sandbox.util.parseTag=function(a,b,c){return k(a,b,c)}),a.sandbox.util.parseTaxonomyTag||(a.sandbox.util.parseTaxonomyTag=d(k,"meta[name^='tax:']",[{attr:"name",norm:"tax:",repl:"",val:"content"}])),a.sandbox.util.parseOpenGraphTag||(a.sandbox.util.parseOpenGraphTag=d(k,"meta[property^='og:']",[{attr:"property",norm:"og:",repl:"",val:"content"}])),a.sandbox.util.parseNamespacedData||(a.sandbox.util.parseNamespacedData=function(a,b){var c;return c=e(a)?"[data-"+b+'-component="'+a+'"]':a,k(c,void 0,"data-"+b+"-")})},name:"Platform Utilities",optionKey:"platformutils"};b.exports=m},{"lodash/defaults":"lodash/defaults","lodash/isArray":"lodash/isArray","lodash/isEmpty":"lodash/isEmpty","lodash/isObject":"lodash/isObject","lodash/isString":"lodash/isString","lodash/partial":"lodash/partial"}],158:[function(a,b,c){"use strict";var d=a("jquery"),e=(a("velocity-animate"),a("lodash/debounce")),f=a("lodash/once"),g=d(window),h={bumperSectionHandler:function(a,b,c,d,f,h,i,j,k){function l(){s.addClass("disable-stickiness"),O=!0}function m(){return f&&"desktop"!==N?!1:(L=F.hasClass("bumper--add-margin")?K:0,M=E.hasClass("bumper--add-margin")?K:0,u=E.offset().top+M,v=F.offset().top-L,x=v-u,z=s.offset().left,w=H.offset().top,y=u-w,A=t.height(),void(!d&&A>x-15?l():(O&&(s.removeClass("disable-stickiness"),O=!1),s.css({height:x+"px",top:y+"px"}))))}function n(a){J||(J=!0,t.velocity("stop",!0).velocity({opacity:0},0)),E=a.top,F=a.bottom,m()}function o(a,b){function c(a){var b=0,c=0;a.bottom.hasClass("bumper--add-margin")&&(c=K),a.top.hasClass("bumper--add-margin")&&(b=K);var d=a.bottom.offset().top-c-(a.top.offset().top+b);return d>A?!0:!1}if(b=b||0,!G||!G.length)return!1;var d=I+b,e=void 0;if("up"===a)for(;--d>=0&&!e;)c(G[d])&&(I=d,n(G[I]),e=I);else for(;++d<G.length&&!e;)c(G[d])&&(I=d,n(G[I]),e=I)}function p(){if(f){var a=D.Base.coreArticleHelpers.getBreakpoint();if("desktop"===a&&(q(),m(),C=g.height()),N==a)return!1;"desktop"===N&&s.removeClass("sticky-component__active"),"desktop"!==N&&"desktop"===a&&(s.addClass("sticky-component__active"),m()),N=a}else m()}function q(){return f&&"desktop"!==N?!1:(B=g.scrollTop(),u=E.offset().top+M,v=F.offset().top-L,d&&I!==G.length&&B+h>v?o("down"):d&&0!==I&&u>B+C?o("up"):J&&(t.velocity("stop",!0).velocity({opacity:1}),J=!1),u-h>B?(s.removeClass("sticky"),t.removeClass("sticky").removeClass("below-sticky").addClass("above-sticky"),!1):(B>u-h&&(s.addClass("sticky"),t.removeClass("above-sticky").removeClass("below-sticky").addClass("sticky")),void(B>v-A-h&&(s.removeClass("sticky"),t.removeClass("sticky").removeClass("above-sticky").addClass("below-sticky")))))}function r(a,b){return f&&"desktop"!==N?!1:(B=a,u=E.offset().top+M,v=F.offset().top-L,d&&I!==G.length&&B+h>v?o("down"):d&&0!==I&&u>B+C?o("up"):J&&(t.velocity("stop",!0).velocity({opacity:1}),J=!1),u-h>B?(t.removeClass("sticky").removeClass("below-sticky").addClass("above-sticky"),!1):(B>u-h&&t.removeClass("above-sticky").removeClass("below-sticky").addClass("sticky"),B>v-A-h&&t.removeClass("sticky").removeClass("above-sticky").addClass("below-sticky"),void b()))}var s,t,u,v,w,x,y,z,A,B,C,D=this,E=a,F=b,G=k,H=j||E,I=0,J=!1,K=i||48,L=0,M=0,N=D.Base.coreArticleHelpers.getBreakpoint(),O=!1;f=f||!1,h=h||0,s=c.first(),t=s.children(":first"),C=g.height(),G&&G.length<2&&(d=!1),m(),setInterval(function(){m(),q()},3e3),g.resize(e(p,150)),g.scroll(e(q,2)),f&&s.addClass("sticky-component--desktop-only"),s.addClass("sticky-component__active"),t.addClass("sticky-component__section"),Pestle.on("stickyBehavior:simulateScrollEvent",function(a,b){r(a,b),m()}),o("down",-1)},handleRightRailPromos:function(a){var b;if(b=d(".right-rail-slot .relatedContentList, .right-rail-slot .ctaPromo").first(),b.length){var c=b.parents(".right-rail-slot");if(c.length&&(c.removeClass("bumper--bottom"),c.find("span.bumper--top").removeClass("bumper--top")),b.find(".related-content-list, .box-container-mobile").length){var e=a.children(":first");b.appendTo(e)}}},handleRightRailAddthis:f(function(a){a.length&&a.find(".right-rail-slot .bumper--bottom_addthis, .right-rail-slot .bumper--top_addthis").removeClass("bumper--bottom_addthis bumper--top_addthis")}),addToSectionHandler:function(a,b,c,e){var f=[];if(b.length&&c.length===b.length&&a.length){for(var g=0;g<b.length;g++){var h={top:d(b[g]),bottom:d(c[g])};f.push(h)}this.bumperSectionHandler(f[0].top,f[0].bottom,a,!0,!0,20,48,e,f)}},stickyInteractiveStrategies:{interactiveNav:function(){var a=d(".bumper--top.bumper--top-sticky-nav"),b=d(".bumper--bottom.bumper--bottom-sticky-nav"),c=d(".interactive-sticky-nav__wrap");return a.length&&b.length&&c.length?(this.bumperSectionHandler(a,b,c,!1,!1,0,20),!0):!1}},initInteractiveStickiness:function(a){"function"==typeof this.stickyInteractiveStrategies[a]&&this.stickyInteractiveStrategies[a].call(this)},stickyArticleStrategies:{leaderboard:function a(b){var c=".bumper--bottom.bumper--leaderboard"+("desktop"===b?"-desktop":""),e=d(".bumper--top.bumper--leaderboard"),f=d(c),a=d(".sticky-leaderboard__wrap");return e.length&&f.length&&a.length?(this.bumperSectionHandler(e,f,a,!1,!1,0,20),!0):!1},boxad:function(){var a=d(".paragraphs"),b=d(".sticky-component.sticky-box-ad");this.Base.aem.isEditMode()||this.handleRightRailPromos(b);var c=a.find(".bumper--top"),e=a.find(".bumper--bottom");this.addToSectionHandler(b,c,e,a)},mlpBoxAd:function(){var a=d(".multiLayout .hub-box-ad .sticky-component"),b=d(".multiLayout .hub-box-ad .bumper--top"),c=d(".multiLayout .bumper--bottom-of-box-ad");a.length&&b.length&&c.length&&this.bumperSectionHandler(b,c,a,!1,!0,20,20)},commentsBoxAd:function a(){var a=d(".livefyre-comments .hub-box-ad .sticky-component"),b=d(".livefyre-comments .bumper--top"),c=d(".bumper--bottom-of-comments-ad ");a.length&&b.length&&c.length&&this.bumperSectionHandler(b,c,a,!1,!0,20,20)},addthis:function(){var a=d(".paragraphs"),b=d(".addthis_toolbox"),c=a.find(".bumper--bottom_addthis"),e=a.find(".bumper--top_addthis");this.addToSectionHandler(b,e,c,a)}},initArticleStickiness:function(a){var b=this.Base.ads.globalAdConfig?this.Base.ads.globalAdConfig.breakpoint:"none",c=d(".paragraphs");if(this.handleRightRailAddthis(c),"desktop"===b){if(("boxad"===a||"addthis"===a)&&!c.length)return console.log("Sticky Behavior Failed: smartbody not found"),!1}else if("boxad"===a||"mlpBoxAd"===a)return!1;"function"==typeof this.stickyArticleStrategies[a]&&this.stickyArticleStrategies[a].call(this,b)},initHubStickiness:function(){var a=this,b=this.Base.ads.globalAdConfig?"desktop"===this.Base.ads.globalAdConfig.breakpoint:!1,c=d(".bumper--top, .bumper--bottom, .sticky-component");if(c.length>=3)for(var e=0;e<c.length;e++){var f=d(c[e]);if(f.hasClass("bumper--top"))for(var g=f,h=null,i=null,j=e+1;j<c.length;j++){var k=d(c[j])||null;if(k&&!k.hasClass("bumper--top"))if(i||!k.hasClass("sticky-component")||k.hasClass("disable-stickiness")){if(i&&k.hasClass("bumper--bottom")){h=k;var l=!1,m=0;i.data("desktopOnly")?b&&(l=!0,m=20,a.bumperSectionHandler(g,h,i,!1,l,m,20)):a.bumperSectionHandler(g,h,i,!1,l,m,20),j=c.length}}else i=k,i.data("desktopOnly")&&b&&(this.Base.aem.isEditMode()||this.handleRightRailPromos(i))}}},initialize:function(a){var b=this;a.sandbox.stickyBehavior=a.sandbox.stickyBehavior||{},a.sandbox.stickyBehavior.simulateScrollEvent=function(a,b){Pestle.emit("stickyBehavior:simulateScrollEvent",a,b)},a.sandbox.stickyBehavior.initStickiness=function(a,c,d){b.Base=c,"hub"===a?b.initHubStickiness():"article"===a?b.initArticleStickiness(d):"interactive"===a&&b.initInteractiveStickiness(d)}},name:"stickyBehavior",optionKey:"stickyBehavior"};b.exports=h},{jquery:"jquery","lodash/debounce":"lodash/debounce","lodash/once":"lodash/once","velocity-animate":"velocity-animate"}],159:[function(a,b,c){"use strict";var d={initialize:function(a){var b={arrayValues:["adKeywords","otherSubjects","locations","series","genres","people","organizations","events","concepts","audiences"]};a.sandbox.taxonomy=a.sandbox.taxonomy||{},a.sandbox.taxonomy.getData=function(c){var d=a.sandbox.util.extend(b.arrayValues,c),e=a.sandbox.util.parseTaxonomyTag();return d.forEach(function(a){var b=[];e[a]&&(e[a].split(",").forEach(function(a){b.push(a.trim())}),e[a]=b)}),e}},name:"Taxonomy",optionKey:"taxonomy"};b.exports=d},{}],160:[function(a,b,c){"use strict";!function(a){a.idleTimer=function(b,c){var d;"object"==typeof b?(d=b,b=null):"number"==typeof b&&(d={timeout:b},b=null),c=c||document,d=a.extend({idle:!1,timeout:3e4,events:"mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove"},d);var e=a(c),f=e.data("idleTimerObj")||{},g=function(b){var d=a.data(c,"idleTimerObj")||{};d.idle=!d.idle,d.olddate=+new Date;var e=a.Event((d.idle?"idle":"active")+".idleTimer");a(c).trigger(e,[c,a.extend({},d),b])},h=function(b){var d=a.data(c,"idleTimerObj")||{};if(null==d.remaining){if("mousemove"===b.type){if(b.pageX===d.pageX&&b.pageY===d.pageY)return;if("undefined"==typeof b.pageX&&"undefined"==typeof b.pageY)return;var e=+new Date-d.olddate;if(200>e)return}clearTimeout(d.tId),d.idle&&g(b),d.lastActive=+new Date,d.pageX=b.pageX,d.pageY=b.pageY,d.tId=setTimeout(g,d.timeout)}},i=function(){var b=a.data(c,"idleTimerObj")||{};b.idle=b.idleBackup,b.olddate=+new Date,b.lastActive=b.olddate,b.remaining=null,clearTimeout(b.tId),b.idle||(b.tId=setTimeout(g,b.timeout))},j=function(){var b=a.data(c,"idleTimerObj")||{};null==b.remaining&&(b.remaining=b.timeout-(+new Date-b.olddate),clearTimeout(b.tId))},k=function(){var b=a.data(c,"idleTimerObj")||{};null!=b.remaining&&(b.idle||(b.tId=setTimeout(g,b.remaining)),b.remaining=null)},l=function(){var b=a.data(c,"idleTimerObj")||{};clearTimeout(b.tId),e.removeData("idleTimerObj"),e.off("._idleTimer")},m=function(){var b=a.data(c,"idleTimerObj")||{};if(b.idle)return 0;if(null!=b.remaining)return b.remaining;var d=b.timeout-(+new Date-b.lastActive);return 0>d&&(d=0),d};if(null===b&&"undefined"!=typeof f.idle)return i(),e;if(null===b);else{if(null!==b&&"undefined"==typeof f.idle)return!1;if("destroy"===b)return l(),e;if("pause"===b)return j(),e;if("resume"===b)return k(),e;if("reset"===b)return i(),e;if("getRemainingTime"===b)return m();if("getElapsedTime"===b)return+new Date-f.olddate;if("getLastActiveTime"===b)return f.lastActive;if("isIdle"===b)return f.idle}return e.on(a.trim((d.events+" ").split(" ").join("._idleTimer ")),function(a){h(a)}),f=a.extend({},{olddate:+new Date,lastActive:+new Date,idle:d.idle,idleBackup:d.idle,timeout:d.timeout,remaining:null,tId:null,pageX:null,pageY:null}),f.idle||(f.tId=setTimeout(g,f.timeout)),a.data(c,"idleTimerObj",f),e},a.fn.idleTimer=function(b){return this[0]?a.idleTimer(b,this[0]):this}}(jQuery)},{}],161:[function(a,b,c){"use strict";a("jquery"),function(a,b){function c(a,b,c){var d=a.children(),e=!1;a.empty();for(var g=0,h=d.length;h>g;g++){var i=d.eq(g);if(a.append(i),c&&a.append(c),f(a,b)){i.remove(),e=!0;break}c&&c.detach()}return e}function d(b,c,g,h,i){var j=!1,k="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",l="script, .dotdotdot-keep";return b.contents().detach().each(function(){var m=this,n=a(m);if("undefined"==typeof m||3==m.nodeType&&0==a.trim(m.data).length)return!0;if(n.is(l))b.append(n);else{if(j)return!0;b.append(n),i&&b[b.is(k)?"after":"append"](i),f(g,h)&&(j=3==m.nodeType?e(n,c,g,h,i):d(n,c,g,h,i),j||(n.detach(),j=!0)),j||i&&i.detach()}}),j}function e(b,c,d,e,h){var k=b[0];if(!k)return!1;var m=j(k),n=-1!==m.indexOf(" ")?" ":"　",o="letter"==e.wrap?"":n,p=m.split(o),q=-1,r=-1,s=0,t=p.length-1;for(e.fallbackToLetter&&0==s&&0==t&&(o="",p=m.split(o),t=p.length-1);t>=s&&(0!=s||0!=t);){var u=Math.floor((s+t)/2);if(u==r)break;r=u,i(k,p.slice(0,r+1).join(o)+e.ellipsis),f(d,e)?(t=r,e.fallbackToLetter&&0==s&&0==t&&(o="",p=p[0].split(o),q=-1,r=-1,s=0,t=p.length-1)):(q=r,s=r)}if(-1==q||1==p.length&&0==p[0].length){var v=b.parent();b.detach();var w=h&&h.closest(v).length?h.length:0;v.contents().length>w?k=l(v.contents().eq(-1-w),c):(k=l(v,c,!0),w||v.detach()),k&&(m=g(j(k),e),i(k,m),w&&h&&a(k).parent().append(h))}else m=g(p.slice(0,q+1).join(o),e),i(k,m);return!0}function f(a,b){return a.innerHeight()>b.maxHeight}function g(b,c){for(;a.inArray(b.slice(-1),c.lastCharacter.remove)>-1;)b=b.slice(0,-1);return a.inArray(b.slice(-1),c.lastCharacter.noEllipsis)<0&&(b+=c.ellipsis),b}function h(a){return{width:a.innerWidth(),height:a.innerHeight()}}function i(a,b){a.innerText?a.innerText=b:a.nodeValue?a.nodeValue=b:a.textContent&&(a.textContent=b)}function j(a){return a.innerText?a.innerText:a.nodeValue?a.nodeValue:a.textContent?a.textContent:""}function k(a){do a=a.previousSibling;while(a&&1!==a.nodeType&&3!==a.nodeType);return a}function l(b,c,d){var e=!0;a:for(;e;){var f=b,g=c,h=d;e=!1;var i,j=f&&f[0];if(j){if(!h){if(3===j.nodeType)return j;if(a.trim(f.text())){b=f.contents().last(),c=g,d=void 0,e=!0,j=i=void 0;continue a}}for(i=k(j);!i;){if(f=f.parent(),f.is(g)||!f.length)return!1;i=k(f[0])}if(i){b=a(i),c=g,d=void 0,e=!0,j=i=void 0;continue a}}return!1}}function m(b,c){return b?"string"==typeof b?(b=a(b,c),b.length?b:!1):b.jquery?b:!1:!1}function n(a){for(var b=a.innerHeight(),c=["paddingTop","paddingBottom"],d=0,e=c.length;e>d;d++){var f=parseInt(a.css(c[d]),10);isNaN(f)&&(f=0),b-=f}return b}if(!a.fn.dotdotdot){a.fn.dotdotdot=function(b){if(0==this.length)return a.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){a(this).dotdotdot(b)});var e=this;e.data("dotdotdot")&&e.trigger("destroy.dot"),e.data("dotdotdot-style",e.attr("style")||""),e.css("word-wrap","break-word"),"nowrap"===e.css("white-space")&&e.css("white-space","normal"),e.bind_events=function(){return e.bind("update.dot",function(b,h){b.preventDefault(),b.stopPropagation(),i.maxHeight="number"==typeof i.height?i.height:n(e),i.maxHeight+=i.tolerance,"undefined"!=typeof h&&(("string"==typeof h||h instanceof HTMLElement)&&(h=a("<div />").append(h).contents()),h instanceof a&&(g=h)),p=e.wrapInner('<div class="dotdotdot" />').children(),p.contents().detach().end().append(g.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var k=!1,l=!1;return j.afterElement&&(k=j.afterElement.clone(!0),k.show(),j.afterElement.detach()),f(p,i)&&(l="children"==i.wrap?c(p,i,k):d(p,e,p,i,k)),p.replaceWith(p.contents()),p=null,a.isFunction(i.callback)&&i.callback.call(e[0],l,g),j.isTruncated=l,l}).bind("isTruncated.dot",function(a,b){return a.preventDefault(),a.stopPropagation(),"function"==typeof b&&b.call(e[0],j.isTruncated),j.isTruncated}).bind("originalContent.dot",function(a,b){return a.preventDefault(),a.stopPropagation(),"function"==typeof b&&b.call(e[0],g),g}).bind("destroy.dot",function(a){a.preventDefault(),a.stopPropagation(),e.unwatch().unbind_events().contents().detach().end().append(g).attr("style",e.data("dotdotdot-style")||"").data("dotdotdot",!1)}),e},e.unbind_events=function(){return e.unbind(".dot"),e},e.watch=function(){if(e.unwatch(),"window"==i.watch){var b=a(window),c=b.width(),d=b.height();b.bind("resize.dot"+j.dotId,function(){c==b.width()&&d==b.height()&&i.windowResizeFix||(c=b.width(),d=b.height(),l&&clearInterval(l),l=setTimeout(function(){e.trigger("update.dot")},100))})}else k=h(e),l=setInterval(function(){if(e.is(":visible")){var a=h(e);(k.width!=a.width||k.height!=a.height)&&(e.trigger("update.dot"),k=a)}},500);return e},e.unwatch=function(){return a(window).unbind("resize.dot"+j.dotId),l&&clearInterval(l),e};var g=e.contents(),i=a.extend(!0,{},a.fn.dotdotdot.defaults,b),j={},k={},l=null,p=null;return i.lastCharacter.remove instanceof Array||(i.lastCharacter.remove=a.fn.dotdotdot.defaultArrays.lastCharacter.remove),i.lastCharacter.noEllipsis instanceof Array||(i.lastCharacter.noEllipsis=a.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),j.afterElement=m(i.after,e),j.isTruncated=!1,j.dotId=o++,e.data("dotdotdot",!0).bind_events().trigger("update.dot"),i.watch&&e.watch(),e},a.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},a.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","　",",",";",".","!","?"],noEllipsis:[]}},a.fn.dotdotdot.debug=function(a){};var o=1,p=a.fn.html;a.fn.html=function(c){return c!=b&&!a.isFunction(c)&&this.data("dotdotdot")?this.trigger("update",[c]):p.apply(this,arguments)};var q=a.fn.text;a.fn.text=function(c){return c!=b&&!a.isFunction(c)&&this.data("dotdotdot")?(c=a("<div />").text(c).html(),this.trigger("update",[c])):q.apply(this,arguments)}}}(jQuery)},{jquery:"jquery"}],162:[function(a,b,c){"use strict";var d=a("jquery"),e=a("lodash/debounce"),f=function(){var a=d(".cinematic-element"),b=e(function(){var b=d(window).width();a.each(function(){var a=d(this),c=a.parent().offset().left,e=a.offset().left,f=parseInt(a.css("margin-left"),10),g={};800>=b?(e=0,g={left:"0px",width:"auto",position:"inherit"}):0!==e&&(g={left:"-"+(c-f)+"px",width:b+"px",position:"relative"}),a.css(g)})},60);return a.length<1?!1:(b(),void window.addEventListener("resize",b,!1))};d(function(){f()}),b.exports=f},{jquery:"jquery","lodash/debounce":"lodash/debounce"}],163:[function(a,b,c){"use strict";a("jquery"),a("lodash/debounce");c.init=function(){NGS.platform.kicker.init()}},{jquery:"jquery","lodash/debounce":"lodash/debounce"}],164:[function(require,module,exports){(function(process){var jquery=require("jquery"),handlebarsruntime=require("handlebars/runtime").default;require("matchmedia-polyfill");var matchMediaaddListener=require("matchmedia-polyfill/matchMedia.addListener"),handlebars,templates,variables,text,json,json_datajson,globalFooter,main;(function(){handlebars=function(a){return a.registerHelper("current_year",function(){var a;return a=new Date,a.getFullYear()}),a}(handlebarsruntime)}).call(this),templates=function(a){return this.GlobalFooterTemplates=this.GlobalFooterTemplates||{},a.registerPartial("logo.svg",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<svg xmlns="http://www.w3.org/2000/svg" width="209" height="38" viewBox="8 867.225 990 180.775" enable-background="new 8 867.225 990 180.775"><path fill="#F6DB00" d="M8 1046.975v-179.75h125.5v179.75H8zm107.125-18.375V885.225h-89.25V1028.6h89.25z"/><path d="M216.625 988.85h-7.875c-10-14.375-20.125-28.375-30.125-44.625v44.625h-8.75v-62.5h7.875c10 14.375 20.125 28.375 30.125 44.625V926.35h8.75v62.5zM236.75 963.85c2.625-8.25 4.75-15.75 7.375-25.375 2.625 9.625 4.75 17 7 25.375H236.75zm4.375-37.625l-21.375 62.5h9.125l5.25-17h18.75l4.75 17h11.75l-19.625-62.5h-8.625zM280 988.85V934.6h-16.625v-8.25h43.25v8.25H290v54.25h-10zM310.125 988.85v-62.5h10.5v62.5h-10.5zM353.875 980.975c-10.875 0-14.875-12.25-14.875-24 0-11.375 4.375-22.25 14.875-22.25s14.875 10.875 14.875 22.25c.5 11.75-3.5 24-14.875 24zm0 8.75c16.125 0 26.625-14.375 26.625-33.25 0-17.5-11.375-31.5-26.625-31.5s-26.625 14-26.625 31.5c.375 18.75 10.5 33.25 26.625 33.25zM433.5 988.85h-7.875c-10-14.375-20.125-28.375-30.125-44.625v44.625h-8.75v-62.5h7.875c10 14.375 20.125 28.375 30.125 44.625V926.35h8.75v62.5zM454 963.85c2.625-8.25 4.75-15.75 7.375-25.375 2.625 9.625 4.75 17 7 25.375H454zm4-37.625l-21.375 62.5h9.125l5.25-17h18.75l4.75 17h11.75l-19.25-62.5h-9zM489.875 926.225h10.5v54.25h21v8.25H489.5v-62.5h.375zM589.125 959.975v25.75c-5.625 2.125-11.75 3.875-17.875 3.875-18.375 0-30.125-14.375-30.125-32.75 0-17 11.75-31.875 30.125-31.875 5.625 0 11.75 2.125 15.25 4.75L583 937.1c-3-1.75-7.375-3.5-11.375-3.5-11.375 0-19.25 9.125-19.25 23.125 0 14.875 8.75 23.625 17.875 23.625 3 0 5.25-.375 7.375-1.25v-19.25h11.5v.125zM627.625 934.6H609.75v17h17.5v8.25h-17.5v20.125h21v8.25h-31.875V926.1h28.375v8.25h.375v.25zM660.375 980.475c-10.875 0-14.875-12.25-14.875-24 0-11.375 4.375-22.25 14.875-22.25s14.875 10.875 14.875 22.25c.5 11.75-3.5 24-14.875 24zm0 9.25c16.125 0 26.625-14.375 26.625-33.25 0-17.5-11.375-31.5-26.625-31.5s-26.625 14-26.625 31.5c.375 18.375 10.5 33.25 26.625 33.25zM738.25 959.975v25.75c-5.625 2.125-11.75 3.875-17.875 3.875-18.375 0-30.125-14.375-30.125-32.75 0-17 11.75-31.875 30.125-31.875 5.625 0 11.75 2.125 15.25 4.75l-3.5 7.375c-3-1.75-7.375-3.5-11.375-3.5-11.375 0-19.25 9.125-19.25 23.125 0 14.875 8.75 23.625 17.875 23.625 3 0 5.25-.375 7.375-1.25v-19.25h11.5v.125zM758.75 934.6h4.75c6.125 0 10 3.5 10 10 0 8.25-5.25 12.25-10 12.25-.875 0-3.5 0-4.375.375V934.6h-.375zm27.125 53.75L773.25 962.6c7-3.5 10.875-10.875 10.875-18.375 0-12.25-7.375-17.875-19.25-17.875H748.25v62.5h10.5v-23.625h4.75l10 23.625h12.25v-.5h.125zM803.375 963.85c2.625-8.25 4.75-15.75 7.375-25.375 2.625 9.625 4.75 17 7 25.375h-14.375zm4.375-37.625l-21.375 62.5h9.125l5.25-17h18.75l4.75 17H836l-19.625-62.5h-8.625zM856.375 926.225H839.75v62.5h10.5V965.1H855c12.625 0 20.5-10.5 20.5-21 .5-12.125-6.875-17.875-19.125-17.875zM855 956.85c-1.25 0-3.5 0-4.375.375V934.6h4.75c6.125 0 9.625 3.5 9.625 10 .125 8.375-4.75 11.875-10 12.25zM925.375 988.35h-10.5v-30.125h-22.25v30.125h-10.5v-62.125h10.5v24h22.25V926.6h10.5v61.75zM935.5 988.35v-62.125H946v62.5h-10.5v-.375zM994.5 937.225c-2.625-1.75-7-3.5-10.875-3.5-10.875 0-18.75 9.125-18.75 23.125 0 14.875 8.75 23.625 19.25 23.625 3.875 0 7.875-1.25 10.5-3l3 7.875c-3 2.125-8.75 4.375-14 4.375-18.375 0-30.125-14.375-30.125-32.75 0-17 11.375-31.875 30.125-31.875 5.625 0 10.5 2.125 14.375 4.75l-3.5 7.375z"/></svg>\n'},useData:!0})),this.GlobalFooterTemplates.layout_base=a.template({1:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'                <li data-submenu="submenu-'+h((e=null!=(e=b.slug||(null!=a?a.slug:a))?e:f,typeof e===g?e.call(a,{name:"slug",hash:{},data:d}):e))+'" class="gf_nav-tab gf_JS_nav-tab">\n                    <a href="#" class="gf_nav-title">'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:f,typeof e===g?e.call(a,{name:"title",hash:{},data:d}):e))+"</a>\n                </li>\n"},3:function(a,b,c,d){var e,f;return'            <ul class="gf_nav-ul gf_nav-submenu" id="submenu-'+this.escapeExpression((f=null!=(f=b.slug||(null!=a?a.slug:a))?f:b.helperMissing,"function"==typeof f?f.call(a,{name:"slug",hash:{},data:d}):f))+'">\n'+(null!=(e=b.each.call(a,null!=a?a.items:a,{name:"each",hash:{},fn:this.program(4,d,0),inverse:this.noop,data:d}))?e:"")+"            </ul>\n"},4:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'                <li>\n                    <a href="'+h((e=null!=(e=b.href||(null!=a?a.href:a))?e:f,typeof e===g?e.call(a,{name:"href",hash:{},data:d}):e))+'" title="'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:f,typeof e===g?e.call(a,{name:"title",hash:{},data:d}):e))+'" class="gf_nav-link">'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:f,typeof e===g?e.call(a,{name:"title",hash:{},data:d}):e))+"</a>\n                </li>\n"},6:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'                <li class="gf_nav-follow-li">\n                    <a href="'+h((e=null!=(e=b.href||(null!=a?a.href:a))?e:f,typeof e===g?e.call(a,{name:"href",hash:{},data:d}):e))+'" title="'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:f,typeof e===g?e.call(a,{name:"title",hash:{},data:d}):e))+'" class="gf_nav-link">'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:f,typeof e===g?e.call(a,{name:"title",hash:{},data:d}):e))+"</a>\n                </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression;return'    <div class="gf_content">\n        <div class="gf_logo">\n            <a class="gf_iso" href="http://www.nationalgeographic.com/">\n'+(null!=(e=this.invokePartial(c["logo.svg"],a,{name:"logo.svg",data:d,indent:"                ",helpers:b,partials:c}))?e:"")+'                <h1 class="gf_visuallyhidden">'+i((f=null!=(f=b.logoTitle||(null!=a?a.logoTitle:a))?f:g,typeof f===h?f.call(a,{name:"logoTitle",hash:{},data:d}):f))+'</h1>\n            </a>\n        </div>\n\n        <nav class="gf_nav">\n            <ul class="gf_nav-ul gf_nav-mainlinks">\n'+(null!=(e=b.each.call(a,null!=a?a.sections:a,{name:"each",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+"            </ul>\n"+(null!=(e=b.each.call(a,null!=a?a.sections:a,{name:"each",hash:{},fn:this.program(3,d,0),inverse:this.noop,data:d}))?e:"")+'\n            <ul class="gf_nav-ul gf_nav-follow">\n                <li class="gf_nav-follow-li">\n                    <a href="#" class="gf_nav-title">Follow Nat Geo</a>\n                </li>\n\n                <li class="gf_nav-follow-li gf_nav-follow-icons">\n                    <a href="https://www.facebook.com/natgeo" class="gf_nav-link"><i class="icongs icongs-facebook"></i></a>\n                    <a href="http://instagram.com/natgeo" class="gf_nav-link"><i class="icongs icongs-instagram"></i></a>\n                    <a href="https://twitter.com/NatGeo" class="gf_nav-link"><i class="icongs icongs-twitter"></i></a>\n                    <!--<a href="http://nationalgeographic.com/social" class="gf_nav-link">More</a>-->\n                </li>\n\n'+(null!=(e=b.each.call(a,null!=(e=null!=a?a.follow:a)?e.items:e,{name:"each",hash:{},fn:this.program(6,d,0),inverse:this.noop,data:d}))?e:"")+'            </ul>\n        </nav>\n\n        <p class="gf-copy">Copyright &copy; 1996-2015 National Geographic Society.<br>Copyright &copy; 2015-'+i((f=null!=(f=b.current_year||(null!=a?a.current_year:a))?f:g,typeof f===h?f.call(a,{name:"current_year",hash:{},data:d}):f))+' National Geographic Partners, LLC.<br>All rights reserved</p>\n        <p class="gf-copy">Learn about our nonprofit work at <br><a href="http://www.nationalgeographic.org/">NationalGeographic.org</a></p>\n    </div>\n'},usePartial:!0,useData:!0}),this.GlobalFooterTemplates}(handlebars),function(){"use strict";variables=function(a){var b;return b='{"mqs":{"med":""screen and (min-width: 586px)"","until_big":""screen and (max-width: 984px)"","big":""screen and (min-width: 985px)""},"options":{"responsive":"true","wrapper_class":"gf_wrapper","include_font_face":"true"}}',b=a.parseJSON(b.replace(/\""/g,'"'))}(jquery)}.call(this),text=function(a){var b,c,d=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],e=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,f=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,g="undefined"!=typeof location&&location.href,h=g&&location.protocol&&location.protocol.replace(/\:/,""),i=g&&location.hostname,j=g&&(location.port||void 0),k=[],l=a.config&&a.config()||{};return b={version:"2.0.5",strip:function(a){if(a){a=a.replace(e,"");var b=a.match(f);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:l.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;3>b;b+=1){c=d[b];try{a=new ActiveXObject(c)}catch(a){}if(a){d=[c];break}}return a},parseName:function(a){var b,c,d,e=!1,f=a.indexOf("."),g=0===a.indexOf("./")||0===a.indexOf("../");return-1!==f&&(!g||f>1)?(b=a.substring(0,f),c=a.substring(f+1,a.length)):b=a,d=c||b,f=d.indexOf("!"),-1!==f&&(e="strip"===d.substring(f+1),d=d.substring(0,f),c?c=d:b=d),{moduleName:b,ext:c,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,c,d,e){var f,g,h,i=b.xdRegExp.exec(a);return i?(f=i[2],g=i[3],g=g.split(":"),h=g[1],g=g[0],!(f&&f!==c||g&&g.toLowerCase()!==d.toLowerCase()||(h||g)&&h!==e)):!0},finishLoad:function(a,c,d,e){d=c?b.strip(d):d,l.isBuild&&(k[a]=d),e(d)},load:function(a,c,d,e){if(e.isBuild&&!e.inlineText)return void d();l.isBuild=e.isBuild;var f=b.parseName(a),k=f.moduleName+(f.ext?"."+f.ext:""),m=c.toUrl(k),n=l.useXhr||b.useXhr;!g||n(m,h,i,j)?b.get(m,function(c){b.finishLoad(a,f.strip,c,d)},function(a){d.error&&d.error(a)}):c([k],function(a){b.finishLoad(f.moduleName+"."+f.ext,f.strip,a,d)})},write:function(a,c,d,e){if(k.hasOwnProperty(c)){var f=b.jsEscape(k[c]);d.asModule(a+"!"+c,"define(function () { return '"+f+"';});\n")}},writeFile:function(a,c,d,e,f){var g=b.parseName(c),h=g.ext?"."+g.ext:"",i=g.moduleName+h,j=d.toUrl(g.moduleName+h)+".js";b.load(i,d,function(c){var d=function(a){return e(j,a)};d.asModule=function(a,b){return e.asModule(a,j,b)},b.write(a,i,d,f)},f)}},"node"===l.env||!l.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(c=require.nodeRequire("fs"),b.get=function(a,b){var d=c.readFileSync(a,"utf8");0===d.indexOf("\ufeff")&&(d=d.substring(1)),b(d)}):"xhr"===l.env||!l.env&&b.createXhr()?b.get=function(a,c,d,e){var f,g=b.createXhr();if(g.open("GET",a,!0),e)for(f in e)e.hasOwnProperty(f)&&g.setRequestHeader(f.toLowerCase(),e[f]);l.onXhr&&l.onXhr(g,a),g.onreadystatechange=function(b){var e,f;4===g.readyState&&(e=g.status,e>399&&600>e?(f=new Error(a+" HTTP status: "+e),f.xhr=g,d(f)):c(g.responseText))},g.send(null)}:("rhino"===l.env||!l.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java)&&(b.get=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{for(c=new java.lang.StringBuffer,d=h.readLine(),d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1)),c.append(d);null!==(d=h.readLine());)c.append(g),c.append(d);i=String(c.toString())}finally{h.close()}b(i)}),b}({}),json=function(text){function cacheBust(a){return a=a.replace(CACHE_BUST_FLAG,""),a+=a.indexOf("?")<0?"?":"&",a+CACHE_BUST_QUERY_PARAM+"="+Math.round(2147483647*Math.random())}var CACHE_BUST_QUERY_PARAM="bust",CACHE_BUST_FLAG="!bust",jsonParse="undefined"!=typeof JSON&&"function"==typeof JSON.parse?JSON.parse:function(val){return eval("("+val+")")},buildMap={};return{load:function(a,b,c,d){d.isBuild&&(d.inlineJSON===!1||-1!==a.indexOf(CACHE_BUST_QUERY_PARAM+"="))||0===b.toUrl(a).indexOf("empty:")?c(null):text.get(b.toUrl(a),function(b){d.isBuild?(buildMap[a]=b,c(b)):c(jsonParse(b))},c.error,{accept:"application/json"})},normalize:function(a,b){return-1!==a.indexOf(CACHE_BUST_FLAG)&&(a=cacheBust(a)),b(a)},write:function(a,b,c){if(b in buildMap){var d=buildMap[b];c('define("'+a+"!"+b+'", function(){ return '+d+";});\n")}}}}(text),json_datajson={logoTitle:"National Geographic",sections:[{title:"General",slug:"general",items:[{title:"About",href:"http://www.nationalgeographic.com/about/"},{title:"Jobs",href:"http://www.nationalgeographic.com/jobs/"},{title:"Newsletter",href:"http://www.nationalgeographic.com/newsletter/"},{title:"Global Sites",href:"http://www.nationalgeographic.com/siteindex/international/"},{title:"Press Room",href:"http://press.nationalgeographic.com/"},{title:"Advertise",href:"http://www.nationalgeographic.com/mediakit/"}]},{title:"Shop",slug:"shop",items:[{title:"Store",href:"http://shop.nationalgeographic.com/ngs/index.jsp?code=NG94281"},{title:"Subscribe",href:"http://www.nationalgeographic.com/magazines/"},{title:"Trips",href:"http://www.nationalgeographicexpeditions.com/home?utm_source=travel.nationalgeographic.com&utm_medium=Link&utm_content=Footer_link_Our_Trips&utm_campaign=NGdotcom"},{title:"Our Lodges",href:"http://www.nationalgeographiclodges.com/?utm_source=NGdotcom&utm_medium=Footer&utm_content=20150106_NGMainFooter_NGLodges&utm_campaign=NGdotcom"},{title:"Events",href:"http://events.nationalgeographic.com/"},{title:"Exhibits",href:"http://events.nationalgeographic.com/events/exhibits/"}]},{title:"Contact",slug:"contact",items:[{title:"Customer Service",href:"http://www.nationalgeographic.com/contact/"}]}],follow:{items:[{title:"Terms Of Service",href:"http://www.nationalgeographic.com/community/terms/"},{title:"Privacy Policy",href:"http://www.nationalgeographic.com/community/privacy/"}]}},function(){"use strict";var a=function(a,b){return function(){return a.apply(b,arguments)}};globalFooter=function(b,c,d,e){var f,g;return g={autoInit:!0,responsive:!0,renderBase:!0,baseContainer:"footer",template:"layout_base",data:e},f=function(){function e(d){this.toggleNav=a(this.toggleNav,this),this.options=b.extend(!0,{},g,d),this.template=c[this.options.template],this.baseContainer=b(this.options.baseContainer),this.options.autoInit&&this.init()}return e.prototype.init=function(){return 0===this.baseContainer.length?void console.error("GlobalFooter couldn't find DOM element \""+this.options.baseContainer+'". Check GF params, buddy!'):this.options.renderBase?this.render():void 0},e.prototype.render=function(){return this.baseContainer.addClass(d.options.wrapper_class),this.baseContainer.html(this.template(this.options.data)),this.bindEvents()},e.prototype.bindEvents=function(){return b(this.options.baseContainer).on("click",".gf_JS_nav-tab",this.toggleNav)},e.prototype.toggleNav=function(a){var c,d;return this.isMobileView()?(a.preventDefault(),d=b(a.currentTarget),c=b("#"+d.data("submenu")),d.toggleClass("active"),d.siblings().toggleClass("active",!1),d.hasClass("active")?c.slideDown():c.slideUp(),c.siblings(".gf_nav-submenu:visible").slideUp()):void 0},e.prototype.isMobileView=function(){return window.matchMedia(d.mqs.until_big).matches},e}()}(jquery,templates,variables,json_datajson)}.call(this),function(){"use strict";!function(a){return"object"==typeof exports?module.exports=a:window.GF instanceof a?void 0:window.GF=new a(window.GF)}(globalFooter)}.call(this),main=void 0}).call(this,require("_process"))},{_process:166,"handlebars/runtime":"handlebars/runtime",jquery:"jquery","matchmedia-polyfill":"matchmedia-polyfill","matchmedia-polyfill/matchMedia.addListener":"matchmedia-polyfill/matchMedia.addListener"}],165:[function(a,b,c){(function(d){!function(a){if("object"==typeof c&&"undefined"!=typeof b)b.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof d?d:"undefined"!=typeof self?self:this,e.GlobalNav=a()}}(function(){var b;return function b(c,d,e){function f(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof a&&a;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=d[h]={exports:{}};c[h][0].call(l.exports,function(a){var b=c[h][1][a];return f(b?b:a)},l,l.exports,b,c,d,e)}return d[h].exports}for(var g="function"==typeof a&&a,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b,c){"use strict";b.exports={autoInit:!0,baseContainer:"header",cbContainer:[],data:null,display:"biggie",drawer:"#gn_JS_global-nav",endPoint:"https://www-s.nationalgeographic.com/global-nav-content/content-by-region/",localization:!0,localISOCode:"",localSection:null,loadRegistration:!0,logoTargetUrl:null,loadTypeKit:!0,navContainer:"#gn_JS_panelcontainer",nav_template:"layout_navigation",renderBase:!0,registrationOptions:{},responsive:!0,searchUrl:"https://www-s.nationalgeographic.com/search",searchPlaceholder:"Search",showSearch:!0,template:"layout_base",toggleDrawerButton:".gn_JS_toggle-drawer-button",typeKitOptions:{kitId:"wdv5zcl",scriptTimeout:3e3}}},{}],2:[function(a,b,c){"use strict";var d,e,f,g,h,i,j,k,l=function(a,b){return function(){return a.apply(b,arguments)}};d=window.$||window.jQuery||a("jquery"),g=a("./defaults.coffee"),h=a("./utils/handlebars.helpers.coffee"),j=a("./templates.js"),f=a("./registration.coffee"),k=a("./variables.coffee"),i=a("./utils/polyfills.coffee"),e=function(){function a(a){this.loadTypeKit=l(this.loadTypeKit,this),this.toggleDrawer=l(this.toggleDrawer,this),this.toggleScrollLock=l(this.toggleScrollLock,this),this.toggleSearch=l(this.toggleSearch,this),this.toggleNavList=l(this.toggleNavList,this),this.toggleClickNavList=l(this.toggleClickNavList,this),this.toggleHoverNavList=l(this.toggleHoverNavList,this),this.switchToBiggie=l(this.switchToBiggie,this),this.closeSubnav=l(this.closeSubnav,this),this.openLocalSection=l(this.openLocalSection,this);var b;this.default_options=g,this.options=d.extend(!0,{},g,a),this.template=j(h)[this.options.template],this.nav_template=j(h)[this.options.nav_template],this.data=this.options.data,this.registration=new f(this),null==(b=this.options).logoTargetUrl&&(b.logoTargetUrl=this.options.logoURL),this.localISOCode=this.options.localISOCode,this.navContent=this.options.navContent,this.options.autoInit&&this.init()}return a.prototype.init=function(){return this.loadTypeKit(),this.render(),this.loadRegistrationPackage()},a.prototype.setLocalISOCode=function(){return new Promise(function(a){return function(b,c){var e;return null==a.options.localization&&(a.localISOCode=sessionStorage.getItem("localISOCode"),null==a.localISOCode)?(e="https:"===window.location.protocol?"https://www-s.":"http://www.",e+="nationalgeographic.com/geolocalization/country.js",d.getScript(e).done(function(){return geoip2.country(function(d){var e;a.localISOCode=d.country.iso_code;try{return sessionStorage.setItem("localISOCode",a.localISOCode),b(a.localISOCode)}catch(a){throw e=a,c("sessionStorage could not be used: "+e),new Error("sessionStorage could not be used: "+e)}})}).fail(c)):b(a.localISOCode)}}(this))},a.prototype.loadRegistrationPackage=function(){return this.options.loadRegistration&&!this.registration.loaded?this.registration.loadRegistration():void 0},a.prototype.loadNavData=function(){return new Promise(function(a){return function(b,c){var d;try{a.data=a.data||JSON.parse(sessionStorage.getItem("navData"))}catch(a){d=a,console.warn("navData is not an object - "+d)}return null!=a.data?b(a.data):a.fetch().catch(function(a){return c(a)}).then(function(c){var d;a.data=c;try{sessionStorage.setItem("navData",JSON.stringify(c))}catch(a){d=a,console.warn("sessionStorage could not be used: "+d)}return b(a.data)})}}(this))},a.prototype.render=function(){return this.options.renderBase&&this.renderBase(),this.loadNavData().then(function(a){return function(b){return a.renderNavigation(),a.openLocalSection()}}(this)),this.bindEvents()},a.prototype.renderBase=function(){return this.$base=d(this.template(this.options)).replaceAll(this.options.baseContainer)},a.prototype.renderNavigation=function(){var a;return a=d.extend(!0,{},this.data,{options:this.options}),this.$nav=d(this.options.navContainer).html(this.nav_template(a))},a.prototype.fetch=function(){return this.setLocalISOCode().then(function(a){return function(){if("withCredentials"in new XMLHttpRequest)return a.stdFetch();if(null!=window.XDomainRequest)return a.xdrFetch();throw new Error("No CORS support!")}}(this))},a.prototype.stdFetch=function(){return this.options.localization?d.getJSON(this.options.endPoint+this.localISOCode):d.getJSON(this.options.endPoint)},a.prototype.xdrFetch=function(){var a,b;return a=new d.Deferred,b=new XDomainRequest,b.open("get",this.options.endPoint+this.localISOCode),b.onload=function(){var c;return c=d.parseJSON(b.responseText),a.resolve(c)},b.onerror=function(){return a.reject("error")},b.onprogress=b.ontimeout=function(){},window.setTimeout(function(){return b.send()},200),a},a.prototype.getElement=function(){return null!=this.$base?this.$base:this.$base=d(this.options.baseContainer)},a.prototype.bindEvents=function(){return null==window.dataLayer&&(window.dataLayer=[]),this.$drawer=d(this.options.drawer),this.getElement().on("click",this.options.toggleDrawerButton,this.toggleDrawer).on("click",".gn_JS_search-button",this.toggleSearch).on("click",".gn_JS_sub-nav-button",!0,this.toggleClickNavList).on("click",".gn_JS_closesubnav",!1,this.toggleClickNavList).on("mouseenter mouseleave",".gn_navlist--primary > .gn_JS_navlist-item",this.toggleHoverNavList).on("click",".gn_navlist--primary > .gn_JS_navlist-item, .gn_drawerfooter-item",this.trackClick),this.options.responsive?window.matchMedia(k.mqs.biggie).addListener(this.switchToBiggie):void 0},a.prototype.trackClick=function(a){return window.dataLayer.push({event:"main-nav",parent:d.trim(d(".gn_navlist-link:first",this).text()),link:d.trim(d(a.target).text())}),!0},a.prototype.openLocalSection=function(){return null==this._$localSectionButton&&(this._$localSectionButton=this.getElement().find("[data-local-section] .gn_JS_sub-nav-button")),this.isTopHat()?this.closeSubnav():this.toggleNavList(this._$localSectionButton,!0)},a.prototype.closeSubnav=function(){var a;return a=this.getElement().find('[data-state="open"]'),this.toggleNavList(a,!1)},a.prototype.switchToBiggie=function(){return("biggie"===this.options.display||"open"!==this.$drawer.data("drawer"))&&this.openLocalSection(),"biggie"===this.options.display&&"open"===this.$drawer.data("drawer")?this.toggleState(this.$drawer,"drawer"):void 0},a.prototype.isLargeViewport=function(){return this.options.responsive?window.matchMedia(k.mqs.biggie).matches:!0},a.prototype.isTopHat=function(){return this.isLargeViewport()&&"biggie"===this.options.display},a.prototype.toggleState=function(a,b,c){var d;return null==c&&(c="open"!==a.data(b)),d=c?"open":"closed",a.attr("data-"+b,d),a.data(b,d)},a.prototype.toggleHoverNavList=function(a){return this.isTopHat()?this.toggleState(d(a.currentTarget),"state","mouseenter"===a.type):void 0},a.prototype.toggleClickNavList=function(a){return this.toggleNavList(d(a.currentTarget),a.data)},a.prototype.toggleNavList=function(a,b){var c,e;return c=a.closest(".gn_JS_navlist-item"),e=c.closest(".gn_panel"),this.toggleState(e,"child-state",b),setTimeout(function(a){return function(){return a.toggleState(c,"state",b),c.siblings('[data-state="open"]').each(function(c,e){return a.toggleState(d(e),"state",!b)}),0!==e.scrollTop()?e.animate({scrollTop:0},"fast"):void 0}}(this),50)},a.prototype.toggleSearch=function(a){var b,c,e;return c=d.trim(d(".gn_search-input").val()),b=d(".gn_JS_global-search"),e=b.attr("data-search"),this.isLargeViewport()||""!==c&&"open"===e?void 0:(a.preventDefault(),this.toggleState(b,"search"))},a.prototype.toggleScrollLock=function(a){return a?d("body").addClass("NGS_GN_scroll_lock"):d("body").removeClass("NGS_GN_scroll_lock")},a.prototype.toggleDrawer=function(){return"open"===this.$drawer.data("drawer")?(this.toggleScrollLock(!1),this.openLocalSection()):this.toggleScrollLock(!0),this.toggleState(this.$drawer,"drawer")},a.prototype.loadTypeKit=function(){var a,b,c,d,e,f;if(this.options.loadTypeKit)return a=this.options.typeKitOptions,c=document.documentElement,c.className+=" wf-loading",e=setTimeout(function(){return c.className=c.className.replace(/\bwf-loading\b/g,"")+" wf-inactive"},a.scriptTimeout),d=!1,f=document.createElement("script"),f.src="//fonts.ngeo.com/"+a.kitId+".js",f.async=!0,f.onload=f.onreadystatechange=function(){var b;if(!d&&"complete"!==(b=this.readyState)&&"loaded"!==b){d=!0,clearTimeout(e);try{return Typekit.load(a)}catch(a){}}},b=document.getElementsByTagName("script")[0],b.parentNode.insertBefore(f,b)},a}(),b.exports=e},{"./defaults.coffee":1,"./registration.coffee":4,"./templates.js":5,"./utils/handlebars.helpers.coffee":6,"./utils/polyfills.coffee":7,"./variables.coffee":8,jquery:"jquery"}],3:[function(a,b,c){"use strict";var d;d=a("./globalNav.coffee"),!window.GN||window.GN instanceof d||(window.GN=new d(window.GN)),b.exports=d},{"./globalNav.coffee":2}],4:[function(a,b,c){"use strict";var d,e,f,g;d=window.$||window.jQuery||a("jquery"),g=a("./variables.coffee"),f={show_user_ui:!1,headerContainer:".identity_bar",mmdbHost:"https://mmdb.nationalgeographic.com",memcenHost:"https://members.nationalgeographic.com",notificationsHost:"https://notifications.nationalgeographic.com",notificationsKey:"e6c4b4af844c454fc2110a4d09828559489837313bd2e519cf",crossDomain:!0,refreshOnLogin:!0,refreshOnLogout:!0,serverSideLogin:!1,debug:!1,debug_lvl:0,whitelist:{origins:["*.nationalgeographic.com","*.natgeo.vm"],targets:["mmdb","mc","geodata"]},gigyaKey:"3_LOaUF9fHrs7lFHW7YFFA22qD6MhVsbO_bpqkn6nnKj9-AbGRsec864eKWqmR2Jdu",gigyaConfig:{enabledProviders:"facebook",autoLogin:!0},userbox_selector:"#gn_JS_userbox",notifications_selector:".gn_JS_notifications",notificationsRefreshRate:5e3},e=function(){function b(a){var b,c;this.globalnav=a,this.options=d.extend(!0,{},f,null!=(b=this.globalnav)&&null!=(c=b.options)?c.registrationOptions:void 0),this.loaded=!1,this.notificationsRefreshRate=this.options.notificationsRefreshRate}return b.prototype.loadRegistration=function(){var b,c,d,e,f;return null==window._M||this.loaded?(this.loaded=!0,window.memFragConfig=this.options,window.__gigyaConf=this.options.gigyaConfig,f=!!document.location.protocol.match("https:"),c="http://cdn.gigya.com",d="https://cdns.gigya.com",b=f?d:c,e=this.options.gigyaKey,a("@natgeo/packages-registration"),this.loadScript(b+"/JS/socialize.js?apikey="+e)):void 0},b.prototype.loadScript=function(a,b){var c;return c=document.createElement("script"),c.setAttribute("type","text/javascript"),d("head").append(c),c.readyState&&(c.onreadystatechange=function(){var a;return"loaded"!==(a=c.readyState)&&"complete"!==a||(c.onreadystatechange=null,"function"!=typeof b)?void 0:b(c.readyState)}),c.setAttribute("src",a)},b}(),b.exports=e},{"./variables.coffee":8,"@natgeo/packages-registration":9,jquery:"jquery"}],5:[function(a,b,c){b.exports=function(a){return this.GlobalNavTemplates=this.GlobalNavTemplates||{},a.registerPartial("component_navlist",a.template({1:function(a,b,c,d){var e;return" gn_navlist--"+this.escapeExpression((e=null!=(e=b.type||(null!=a?a.type:a))?e:b.helperMissing,"function"==typeof e?e.call(a,{name:"type",hash:{},data:d}):e))},3:function(a,b,c,d){var e;return null!=(e=b.if.call(a,null!=a?a.subnav:a,{name:"if",hash:{},fn:this.program(4,d,0),inverse:this.program(11,d,0),data:d}))?e:""},4:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression;return'\n    <li class="gn_JS_navlist-item gn_navlist-item" '+(null!=(e=(b.if_equal||a&&a.if_equal||g).call(a,null!=a?a.id:a,(e=d&&d.options)&&e.localSection,{name:"if_equal",hash:{},fn:this.program(5,d,0),inverse:this.noop,data:d}))?e:"")+' data-state="closed">\n        <div class="gn_navlist-linkcontainer">\n            <a href="'+i((f=null!=(f=b.url||(null!=a?a.url:a))?f:g,typeof f===h?f.call(a,{name:"url",hash:{},data:d}):f))+'"\n               class="gn_navlist-link\n               '+(null!=(e=b.if.call(a,null!=a?a.highlight:a,{name:"if",hash:{},fn:this.program(7,d,0),inverse:this.noop,data:d}))?e:"")+"\n               "+(null!=(e=b.if.call(a,null!=a?a.highlight_plus:a,{name:"if",hash:{},fn:this.program(9,d,0),inverse:this.noop,data:d}))?e:"")+'\n               gn_h4">'+i((f=null!=(f=b.title||(null!=a?a.title:a))?f:g,typeof f===h?f.call(a,{name:"title",hash:{},data:d}):f))+'</a>\n\n            <button class="gn_JS_sub-nav-button gn_navlist-subnavbutton gn_button--naked gn_hidebiggie">\n                <i class="icongs icongs-directionright"></i>\n            </button>\n        </div>\n\n'+(null!=(e=this.invokePartial(c.panel_subnav,a,{name:"panel_subnav",data:d,indent:"        ",helpers:b,partials:c}))?e:"")+"\n    </li>\n\n"},5:function(a,b,c,d){return'data-local-section="true"'},7:function(a,b,c,d){return"gn_navlist-link--highlight"},9:function(a,b,c,d){return"gn_navlist-link--highlight-plus"},11:function(a,b,c,d){var e,f,g=b.helperMissing,h="function",i=this.escapeExpression;return'    <li class="gn_JS_navlist-item gn_navlist-item">\n        <a href="'+i((f=null!=(f=b.url||(null!=a?a.url:a))?f:g,typeof f===h?f.call(a,{name:"url",hash:{},data:d}):f))+'" class="gn_navlist-link'+(null!=(e=b.if.call(a,null!=a?a.highlight:a,{name:"if",hash:{},fn:this.program(12,d,0),inverse:this.noop,data:d}))?e:"")+' gn_h4">'+i((f=null!=(f=b.title||(null!=a?a.title:a))?f:g,typeof f===h?f.call(a,{name:"title",hash:{},data:d}):f))+"</a>\n    </li>\n\n"},12:function(a,b,c,d){return" gn_navlist-link--highlight"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e;return'<ul class="gn_navlist'+(null!=(e=b.if.call(a,null!=a?a.type:a,{name:"if",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+'">\n'+(null!=(e=b.each.call(a,null!=a?a.nav_items:a,{name:"each",hash:{},fn:this.program(3,d,0),inverse:this.noop,data:d}))?e:"")+"</ul>\n"},usePartial:!0,useData:!0})),a.registerPartial("component_spotlight",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'<section class="gn_spotlight">\n    <h2 class="gn_spotlight-title">'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:f,typeof e===g?e.call(a,{name:"title",hash:{},data:d}):e))+'</h2>\n    <figure class="gn_spotlight-content">\n        <a href="'+h((e=null!=(e=b.url||(null!=a?a.url:a))?e:f,typeof e===g?e.call(a,{name:"url",hash:{},data:d}):e))+'">\n            <img src="'+h((e=null!=(e=b.image||(null!=a?a.image:a))?e:f,typeof e===g?e.call(a,{name:"image",hash:{},data:d}):e))+'" title="'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:f,typeof e===g?e.call(a,{name:"title",hash:{},data:d}):e))+'" class="gn_spotlight-image">\n        </a>\n        <figcaption class="gn_spotlight-caption">\n            <a href="'+h((e=null!=(e=b.url||(null!=a?a.url:a))?e:f,typeof e===g?e.call(a,{name:"url",hash:{},data:d}):e))+'">'+h((e=null!=(e=b.caption||(null!=a?a.caption:a))?e:f,typeof e===g?e.call(a,{name:"caption",hash:{},data:d}):e))+"</a>\n        </figcaption>\n    </figure>\n</section>\n"},useData:!0})),a.registerPartial("logo-biggie.svg",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<svg class="gn_logo--biggie" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n   width="180.667px" height="53px" viewBox="0 0 180.667 53" enable-background="new 0 0 180.667 53" xml:space="preserve">\n<g>\n  <path fill="#FFCC00" d="M0,53.05V0h37.024v53.05H0z M31.669,47.708V5.342H5.336v42.366H31.669z"/>\n</g>\n<g>\n  <path fill="#FFFFFF" d="M61.622,23.797h-2.297c-3.007-4.246-5.989-8.468-8.969-13.241h-0.026v13.241h-2.533V5.333h2.295\n    c3.008,4.221,5.988,8.413,8.942,13.16h0.054V5.333h2.534V23.797z"/>\n  <path fill="#FFFFFF" d="M67.635,16.491c0.737-2.427,1.477-4.67,2.135-7.519h0.053c0.738,2.849,1.4,5.092,2.085,7.519H67.635z\n     M68.849,5.333l-6.385,18.464h2.745l1.607-5.039h5.567l1.449,5.039h3.538L71.483,5.333H68.849z"/>\n  <path fill="#FFFFFF" d="M80.35,23.797V7.812h-4.855V5.333h12.873v2.479h-4.853v15.985H80.35z"/>\n  <path fill="#FFFFFF" d="M89.396,23.797V5.333h3.14v18.464H89.396z"/>\n  <path fill="#FFFFFF" d="M102.296,21.477c-3.299,0-4.459-3.643-4.459-7.175c0-3.404,1.32-6.649,4.459-6.649\n    c3.137,0,4.457,3.245,4.457,6.649C106.753,17.834,105.593,21.477,102.296,21.477z M102.296,24.113c4.826,0,7.833-4.297,7.833-9.811\n    c0-5.173-3.322-9.287-7.833-9.287c-4.512,0-7.835,4.114-7.835,9.287C94.461,19.816,97.468,24.113,102.296,24.113z"/>\n  <path fill="#FFFFFF" d="M125.878,23.797h-2.295c-3.008-4.246-5.987-8.468-8.968-13.241h-0.03v13.241h-2.53V5.333h2.297\n    c3.007,4.221,5.989,8.413,8.94,13.16h0.055V5.333h2.531V23.797z"/>\n  <path fill="#FFFFFF" d="M131.893,16.491c0.738-2.427,1.477-4.67,2.136-7.519h0.054c0.738,2.849,1.396,5.092,2.084,7.519H131.893z\n     M133.105,5.333l-6.384,18.464h2.744l1.609-5.039h5.562l1.454,5.039h3.535l-5.883-18.464H133.105z"/>\n  <path fill="#FFFFFF" d="M142.549,5.333h3.139v15.984h6.251v2.479h-9.39V5.333z"/>\n  <path fill="#FFFFFF" d="M59.672,39.245v7.622c-1.688,0.663-3.456,1.135-5.25,1.135c-5.433,0-8.863-4.219-8.863-9.654\n    c0-5.037,3.43-9.445,8.97-9.445c1.714,0,3.429,0.636,4.486,1.428l-1.03,2.189c-0.846-0.529-2.165-0.978-3.375-0.978\n    c-3.377,0-5.673,2.665-5.673,6.859c0,4.378,2.639,6.964,5.356,6.964c0.845,0,1.557-0.105,2.216-0.444v-5.676H59.672z"/>\n  <path fill="#FFFFFF" d="M70.987,31.702H65.71v5.063h5.171v2.479H65.71v5.961h6.228v2.482h-9.393V29.222h8.441V31.702z"/>\n  <path fill="#FFFFFF" d="M80.747,45.365c-3.297,0-4.457-3.639-4.457-7.175c0-3.402,1.318-6.648,4.457-6.648\n    c3.139,0,4.46,3.246,4.46,6.648C85.207,41.727,84.046,45.365,80.747,45.365z M80.747,48.002c4.83,0,7.836-4.3,7.836-9.812\n    c0-5.171-3.325-9.288-7.836-9.288c-4.511,0-7.833,4.117-7.833,9.288C72.914,43.702,75.92,48.002,80.747,48.002z"/>\n  <path fill="#FFFFFF" d="M103.778,39.245v7.622c-1.689,0.663-3.458,1.135-5.251,1.135c-5.434,0-8.862-4.219-8.862-9.654\n    c0-5.037,3.429-9.445,8.968-9.445c1.718,0,3.431,0.636,4.485,1.428l-1.029,2.189c-0.844-0.529-2.163-0.978-3.376-0.978\n    c-3.377,0-5.673,2.665-5.673,6.859c0,4.378,2.638,6.964,5.354,6.964c0.844,0,1.559-0.105,2.218-0.444v-5.676H103.778z"/>\n  <path fill="#FFFFFF" d="M109.842,31.702h1.401c1.873,0,2.924,1.083,2.924,2.979c0,2.478-1.5,3.588-3.006,3.666\n    c-0.314,0.026-1.052,0.054-1.319,0.082V31.702z M117.862,47.688l-3.718-7.651c2.03-1.081,3.193-3.271,3.193-5.484\n    c0-3.591-2.191-5.331-5.728-5.331h-4.932v18.467h3.163v-6.964h1.372h0.053l2.982,6.964H117.862z"/>\n  <path fill="#FFFFFF" d="M123.086,40.378c0.735-2.424,1.475-4.665,2.135-7.514h0.055c0.739,2.849,1.398,5.09,2.085,7.514H123.086z\n     M124.297,29.222l-6.382,18.467h2.743l1.611-5.04h5.565l1.451,5.04h3.535l-5.884-18.467H124.297z"/>\n  <path fill="#FFFFFF" d="M138.755,29.222h-4.934v18.467h3.164v-6.964h1.426c3.772,0,6.069-3.062,6.069-6.172\n    C144.48,30.962,142.288,29.222,138.755,29.222z M138.309,38.348c-0.327,0.026-1.099,0.051-1.323,0.077v-6.723h1.426\n    c1.851,0,2.902,1.083,2.902,2.979C141.313,37.159,139.811,38.27,138.309,38.348z"/>\n  <path fill="#FFFFFF" d="M159.148,47.688h-3.169v-8.893h-6.569v8.893h-3.136V29.222h3.136v7.098h6.569v-7.046h3.169V47.688z"/>\n  <path fill="#FFFFFF" d="M162.182,47.688V29.222h3.136v18.467H162.182z"/>\n  <path fill="#FFFFFF" d="M179.562,32.572c-0.765-0.477-2.03-1.03-3.244-1.03c-3.219,0-5.564,2.665-5.564,6.859\n    c0,4.378,2.584,6.964,5.644,6.964c1.213,0,2.35-0.396,3.165-0.924l0.873,2.297c-0.952,0.656-2.64,1.264-4.17,1.264\n    c-5.436,0-8.864-4.219-8.864-9.654c0-5.037,3.403-9.445,8.917-9.445c1.635,0,3.165,0.69,4.246,1.428L179.562,32.572z"/>\n</g>\n</svg>\n'},useData:!0})),a.registerPartial("logo-custom.svg",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<svg class="gn_logo--custom" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 37 53" preserveAspectRatio="xMinYMin meet" xml:space="preserve">\n    <g>\n        <path fill="#FFCC00" d="M0,53.05V0h37.024v53.05H0z M31.669,47.708V5.342H5.336v42.366H31.669z"></path>\n    </g>\n</svg>\n'},useData:!0})),a.registerPartial("logo-skinny.svg",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<svg class="gn_logo--inline" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 width="225.354px" height="41.077px" viewBox="0 0 225.354 41.077" enable-background="new 0 0 225.354 41.077" preserveAspectRatio="xMinYMin meet"\n	 xml:space="preserve">\n<g>\n	<g>\n		<g>\n			<g>\n				<path fill="#FFD800" d="M0,41.077V0h28.667v41.077H0z M24.521,36.938V4.137H4.131v32.801H24.521z"/>\n			</g>\n		</g>\n	</g>\n	<g>\n		<g>\n			<path fill="#FFFFFF" d="M47.684,27.767h-1.775c-2.322-3.281-4.627-6.542-6.93-10.232h-0.021v10.232h-1.957v-14.27h1.772\n				c2.324,3.262,4.629,6.503,6.912,10.172h0.04V13.497h1.958V27.767z"/>\n			<path fill="#FFFFFF" d="M52.33,22.122c0.571-1.877,1.141-3.609,1.65-5.811h0.042c0.57,2.202,1.079,3.934,1.61,5.811H52.33z\n				 M53.268,13.497l-4.934,14.27h2.121l1.243-3.893h4.301l1.122,3.893h2.731l-4.546-14.27H53.268z"/>\n			<path fill="#FFFFFF" d="M62.156,27.767V15.414h-3.752v-1.917h9.949v1.917h-3.752v12.353H62.156z"/>\n			<path fill="#FFFFFF" d="M69.146,27.767v-14.27h2.427v14.27H69.146z"/>\n			<path fill="#FFFFFF" d="M79.115,25.972c-2.547,0-3.444-2.811-3.444-5.543c0-2.631,1.019-5.138,3.444-5.138\n				s3.445,2.507,3.445,5.138C82.561,23.161,81.663,25.972,79.115,25.972z M79.115,28.011c3.73,0,6.055-3.322,6.055-7.582\n				c0-3.996-2.568-7.175-6.055-7.175s-6.054,3.179-6.054,7.175C73.062,24.688,75.385,28.011,79.115,28.011z"/>\n			<path fill="#FFFFFF" d="M97.34,27.767h-1.773c-2.324-3.281-4.628-6.542-6.931-10.232h-0.021v10.232h-1.957v-14.27h1.773\n				c2.324,3.262,4.627,6.503,6.91,10.172h0.041V13.497h1.957V27.767z"/>\n			<path fill="#FFFFFF" d="M101.987,22.122c0.57-1.877,1.142-3.609,1.651-5.811h0.041c0.57,2.202,1.08,3.934,1.611,5.811H101.987z\n				 M102.926,13.497l-4.934,14.27h2.119l1.244-3.893h4.302l1.121,3.893h2.731l-4.547-14.27H102.926z"/>\n			<path fill="#FFFFFF" d="M110.223,13.497h2.426v12.354h4.832v1.916h-7.258V13.497z"/>\n		</g>\n		<g>\n			<path fill="#FFFFFF" d="M132.928,21.2v5.892c-1.305,0.511-2.67,0.876-4.056,0.876c-4.2,0-6.851-3.262-6.851-7.46\n				c0-3.894,2.65-7.298,6.932-7.298c1.325,0,2.65,0.488,3.465,1.1l-0.795,1.693c-0.651-0.409-1.672-0.754-2.609-0.754\n				c-2.608,0-4.383,2.057-4.383,5.299c0,3.385,2.039,5.382,4.139,5.382c0.652,0,1.203-0.081,1.713-0.346V21.2H132.928z"/>\n			<path fill="#FFFFFF" d="M141.674,15.37h-4.078v3.915h3.996V21.2h-3.996v4.607h4.812v1.916h-7.257V13.455h6.523V15.37z"/>\n			<path fill="#FFFFFF" d="M149.216,25.93c-2.548,0-3.445-2.813-3.445-5.544c0-2.631,1.02-5.137,3.445-5.137\n				c2.427,0,3.445,2.506,3.445,5.137C152.661,23.116,151.764,25.93,149.216,25.93z M149.216,27.968c3.73,0,6.055-3.322,6.055-7.582\n				c0-3.998-2.568-7.176-6.055-7.176c-3.485,0-6.054,3.179-6.054,7.176C143.162,24.646,145.486,27.968,149.216,27.968z"/>\n			<path fill="#FFFFFF" d="M167.013,21.2v5.892c-1.306,0.511-2.671,0.876-4.057,0.876c-4.2,0-6.851-3.262-6.851-7.46\n				c0-3.894,2.65-7.298,6.932-7.298c1.325,0,2.65,0.488,3.465,1.1l-0.795,1.693c-0.651-0.409-1.67-0.754-2.608-0.754\n				c-2.609,0-4.384,2.057-4.384,5.299c0,3.385,2.039,5.382,4.139,5.382c0.652,0,1.203-0.081,1.713-0.346V21.2H167.013z"/>\n			<path fill="#FFFFFF" d="M171.701,15.37h1.08c1.447,0,2.264,0.837,2.264,2.304c0,1.917-1.163,2.772-2.324,2.834\n				c-0.246,0.02-0.816,0.04-1.02,0.06V15.37z M177.897,27.724l-2.874-5.911c1.57-0.838,2.467-2.528,2.467-4.241\n				c0-2.773-1.691-4.117-4.423-4.117h-3.813v14.269h2.447v-5.382h1.06h0.041l2.304,5.382H177.897z"/>\n			<path fill="#FFFFFF" d="M181.935,22.077c0.569-1.875,1.141-3.608,1.651-5.811h0.041c0.57,2.202,1.08,3.936,1.61,5.811H181.935z\n				 M182.872,13.455l-4.935,14.269h2.121l1.244-3.894h4.301l1.122,3.894h2.731l-4.547-14.269H182.872z"/>\n			<path fill="#FFFFFF" d="M194.043,13.455h-3.812v14.269h2.446v-5.382h1.101c2.916,0,4.689-2.365,4.689-4.771\n				C198.467,14.798,196.775,13.455,194.043,13.455z M193.697,20.508c-0.251,0.019-0.85,0.038-1.021,0.057V15.37h1.101\n				c1.428,0,2.243,0.837,2.243,2.304C196.021,19.591,194.858,20.446,193.697,20.508z"/>\n			<path fill="#FFFFFF" d="M209.801,27.724h-2.446v-6.869h-5.075v6.869h-2.427V13.455h2.427v5.482h5.075v-5.442h2.446V27.724z"/>\n			<path fill="#FFFFFF" d="M212.145,27.724V13.455h2.428v14.269H212.145z"/>\n			<path fill="#FFFFFF" d="M225.578,16.042c-0.59-0.366-1.569-0.794-2.506-0.794c-2.487,0-4.303,2.057-4.303,5.299\n				c0,3.385,1.998,5.382,4.362,5.382c0.938,0,1.814-0.306,2.446-0.714l0.674,1.775c-0.734,0.51-2.039,0.977-3.221,0.977\n				c-4.199,0-6.851-3.262-6.851-7.46c0-3.894,2.63-7.298,6.892-7.298c1.263,0,2.445,0.531,3.281,1.1L225.578,16.042z"/>\n		</g>\n	</g>\n</g>\n</svg>\n'},useData:!0})),a.registerPartial("panel_navigation",a.template({1:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'    <li class="gn_component gn_component--'+h((e=null!=(e=b.type||d&&d.type)?e:f,typeof e===g?e.call(a,{name:"type",hash:{},data:d}):e))+'">\n        '+h((e=null!=(e=b.component||d&&d.component)?e:f,typeof e===g?e.call(a,{name:"component",hash:{},data:d}):e))+"\n    </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e;return'<ul class="gn_panel gn_background--basic">\n'+(null!=(e=(b.component_list||a&&a.component_list||b.helperMissing).call(a,null!=a?a.components:a,{name:"component_list",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+"</ul>\n"},useData:!0})),a.registerPartial("panel_search",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'<form action="'+h((e=null!=(e=b.searchUrl||(null!=a?a.searchUrl:a))?e:f,typeof e===g?e.call(a,{name:"searchUrl",hash:{},data:d}):e))+'" method="get">\n    <fieldset data-search="closed" class="gn_JS_global-search gn_search-container">\n        <span class="gn_visuallyhidden">Search</span>\n        <div class="gn_search-inputcontainer">\n            <input type="search" placeholder="'+h((e=null!=(e=b.searchPlaceholder||(null!=a?a.searchPlaceholder:a))?e:f,typeof e===g?e.call(a,{name:"searchPlaceholder",hash:{},data:d}):e))+'" name="q" class="gn_search-input" required>\n        </div>\n        <button class="gn_JS_search-button gn_search-button gn_button--naked">\n            <i class="icongs icongs-search"></i>\n        </button>\n    </fieldset>\n</form>\n'},useData:!0})),a.registerPartial("panel_social",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<span class="gn_social-container">\n    <span class="gn_showbiggie gn_social-label">Connect:</span>\n    <a href="https://www.facebook.com/natgeo" class="gn_social-button gn_social-button--facebook">\n        <i class="gn_showbiggie icongs icongs-facebook"></i>\n    </a>\n    <a href="https://twitter.com/NatGeo" class="gn_social-button gn_social-button--twitter">\n        <i class="gn_showbiggie icongs icongs-twitter"></i>\n    </a>\n</span>\n'},useData:!0})),a.registerPartial("panel_subnav",a.template({1:function(a,b,c,d){var e,f=b.helperMissing,g="function",h=this.escapeExpression;return'    <li class="gn_component gn_component--'+h((e=null!=(e=b.type||d&&d.type)?e:f,typeof e===g?e.call(a,{name:"type",hash:{},data:d}):e))+'">\n        '+h((e=null!=(e=b.component||d&&d.component)?e:f,typeof e===g?e.call(a,{name:"component",hash:{},data:d}):e))+"\n    </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f,g=b.helperMissing;return'<ul class="gn_JS_subnav gn_panel gn_panel--sub gn_background--basic">\n    <button class="gn_panel-closebutton gn_button--naked gn_JS_closesubnav gn_hidebiggie">\n        <i class="icongs icongs-directionleft gn_navlist-subnavbutton"></i>\n        <span>Main Menu</span>\n    </button>\n\n    <li class="gn_component gn_component--label gn_navlist-link">'+this.escapeExpression((f=null!=(f=b.title||(null!=a?a.title:a))?f:g,"function"==typeof f?f.call(a,{name:"title",hash:{},data:d}):f))+"</li>\n\n"+(null!=(e=(b.component_list||a&&a.component_list||g).call(a,null!=(e=null!=a?a.subnav:a)?e.components:e,{name:"component_list",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+"\n</ul>\n"},useData:!0})),a.registerPartial("panel_user",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e;return'<div class="NGS_regpkg">\n    <div class="rp_userbox-container" id="gn_JS_userbox">\n        <div class="rp_userbox-wrapper rp_waitspinner-wrapper">\n'+(null!=(e=this.invokePartial(c.waitspinner,a,{name:"waitspinner",data:d,indent:"            ",helpers:b,partials:c}))?e:"")+'            <span class="rp_userbox-loading">Loading...</span>\n        </div>\n    </div>\n</div>\n'},usePartial:!0,useData:!0})),a.registerPartial("waitspinner",a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){return'<svg class="gn_waitspinner" viewBox="0 0 100 100" width="16" height="16">\n    <circle class="gn_waitspinner-bg" cx="50" cy="50" r="42" transform="rotate(-90,50,50)" />\n    <circle class="gn_waitspinner-fg" cx="50" cy="50" r="42" transform="rotate(-90,50,50)" />\n</svg>\n'},useData:!0})),this.GlobalNavTemplates.layout_base=a.template({1:function(a,b,c,d){return'data-responsive="false"'},3:function(a,b,c,d){return"data-show-userbox"},5:function(a,b,c,d){return"data-hide-userbox"},7:function(a,b,c,d){return"data-show-search"},9:function(a,b,c,d){return"data-hide-search"},11:function(a,b,c,d){var e;return this.escapeExpression((e=null!=(e=b.logoTargetUrl||(null!=a?a.logoTargetUrl:a))?e:b.helperMissing,"function"==typeof e?e.call(a,{name:"logoTargetUrl",hash:{},data:d}):e))},13:function(a,b,c,d){return"http://www.nationalgeographic.com/"},15:function(a,b,c,d){var e,f;return(null!=(e=this.invokePartial(c["logo-custom.svg"],a,{name:"logo-custom.svg",data:d,indent:"                ",helpers:b,partials:c}))?e:"")+'                <h1 class="gn_logo-title">\n                    '+this.escapeExpression((f=null!=(f=b.logoCustom||(null!=a?a.logoCustom:a))?f:b.helperMissing,"function"==typeof f?f.call(a,{name:"logoCustom",hash:{},data:d}):f))+"\n                </h1>\n"},17:function(a,b,c,d){var e;return null!=(e=this.invokePartial(c["logo-skinny.svg"],a,{name:"logo-skinny.svg",data:d,indent:"                ",helpers:b,partials:c}))?e:""},19:function(a,b,c,d){var e;return null!=(e=this.invokePartial(c.panel_search,a,{name:"panel_search",data:d,helpers:b,partials:c}))?e:""},21:function(a,b,c,d){var e;return null!=(e=this.invokePartial(c.panel_user,a,{name:"panel_user",data:d,helpers:b,partials:c}))?e:""},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f;return'<header id="gn_JS_global-nav" data-display="'+this.escapeExpression((f=null!=(f=b.display||(null!=a?a.display:a))?f:b.helperMissing,"function"==typeof f?f.call(a,{name:"display",hash:{},data:d}):f))+'" '+(null!=(e=b.unless.call(a,null!=a?a.responsive:a,{name:"unless",hash:{},fn:this.program(1,d,0),inverse:this.noop,data:d}))?e:"")+' data-drawer="closed" '+(null!=(e=b.if.call(a,null!=a?a.loadRegistration:a,{name:"if",hash:{},fn:this.program(3,d,0),inverse:this.program(5,d,0),data:d}))?e:"")+" "+(null!=(e=b.if.call(a,null!=a?a.showSearch:a,{name:"if",hash:{},fn:this.program(7,d,0),inverse:this.program(9,d,0),data:d}))?e:"")+' role="banner" class="gn_wrapper">\n\n    <div class="gn_biggierow">\n        <a class="gn_logo-container gn_logo-container--inline" href="'+(null!=(e=b.if.call(a,null!=a?a.logoTargetUrl:a,{name:"if",hash:{},fn:this.program(11,d,0),inverse:this.program(13,d,0),data:d}))?e:"")+'">\n'+(null!=(e=b.if.call(a,null!=a?a.logoCustom:a,{name:"if",hash:{},fn:this.program(15,d,0),inverse:this.program(17,d,0),data:d}))?e:"")+'        </a>\n        <a class="gn_logo-container gn_showbiggie" href="http://www.nationalgeographic.com/">\n'+(null!=(e=this.invokePartial(c["logo-biggie.svg"],a,{name:"logo-biggie.svg",data:d,indent:"            ",helpers:b,partials:c}))?e:"")+'            <h1 class="gn_visuallyhidden">The National Geographic Society</h1>\n        </a>\n'+(null!=(e=this.invokePartial(c.panel_social,a,{name:"panel_social",data:d,indent:"        ",helpers:b,partials:c}))?e:"")+"        "+(null!=(e=b.if.call(a,null!=a?a.showSearch:a,{name:"if",hash:{},fn:this.program(19,d,0),inverse:this.noop,data:d}))?e:"")+"\n        "+(null!=(e=b.if.call(a,null!=a?a.loadRegistration:a,{name:"if",hash:{},fn:this.program(21,d,0),inverse:this.noop,data:d}))?e:"")+'\n    </div>\n\n    <button class="gn_JS_toggle-drawer-button gn_drawerbutton gn_button--naked gn_hidebiggie">\n        <i class="gn_drawerbutton-icon icongs icongs-menu"></i>\n        <div class="gn_drawerbutton-label">Menu</div>\n        <span class="gn_JS_notifications gn_drawerbutton-notification visuallyhidden"></span>\n    </button>\n\n    <nav class="gn_nav-drawer" role="navigation">\n        <div class="gn_background--basic gn_drawerheader-container gn_hidebiggie">\n            <a class="gn_drawerheader-item" href="http://www.nationalgeographic.com/">\n                <i class="icongs icongs-border gn_text--highlight"></i>\n                <span>Home</span>\n            </a>\n        </div>\n\n        <div class="gn_drawer-panelcontainer" id="gn_JS_panelcontainer"></div>\n\n        <div class="gn_drawerfooter">\n            <a class="gn_drawerfooter-item" href="http://shop.nationalgeographic.com/ngs/index.jsp?code=NG94000&source=NavShopHome">Shop</a>\n            <a class="gn_drawerfooter-item" href="http://www.nationalgeographicexpeditions.com/?utm_source=NGdotcom-Home&utm_medium=Link&utm_content=TopNav_Trips&utm_campaign=NGdotcom">Trips</a>\n            <a class="gn_drawerfooter-item" href="http://www.nationalgeographic.com/magazines/lp/nav/">Subscribe</a>\n        </div>\n    </nav>\n</header>\n'},usePartial:!0,useData:!0}),this.GlobalNavTemplates.layout_navigation=a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e;return null!=(e=this.invokePartial(c.panel_navigation,a,{name:"panel_navigation",data:d,helpers:b,partials:c}))?e:""},usePartial:!0,useData:!0}),this.GlobalNavTemplates}},{}],6:[function(a,b,c){var d,e,f,g;d=a("handlebars/runtime"),f=d.helpers||{},e=d.Utils.escapeExpression,g=function(a){return new d.SafeString('<!-- Template for "'+e(a)+'" not found -->')},f.if_equal||d.registerHelper("if_equal",function(a,b,c){if(3!==arguments.length)throw new Error('Handlebars Helper "if_equal" needs 2 parameters');return c[a===b?"fn":"inverse"](this)}),f.debug||d.registerHelper("debug",function(){return console.log("Context:"),console.log(this)}),f.resized||d.registerHelper("resized",function(a,b,c,d){return null==c&&(c=b),"exposure/transcode/"+b+"/"+c+"/?url="+a}),f.getAvatar||d.registerHelper("getAvatar",function(a){var b,c,e,f,g;return c=d.createFrame(a.data||{}),b=localStorage.getItem("memFrag/User/avatarInUse"),g=localStorage.getItem("memFrag/User/uploadedAvatar"),e=localStorage.getItem("memFrag/User/facebookAvatar"),f=this.staticMedia+"/views/images/nationalGeographic_default_avatar.jpg","null"===b&&(b=null),"null"===e&&(e=null),"custom"===b&&g?f=g:"social"===b&&e&&(f=e),c.avatar=f.replace(/^\/\//,"http://"),a.fn(this,{data:c})}),f.getDisplayName||d.registerHelper("getDisplayName",function(){var a;return a=localStorage.getItem("memFrag/User/displayName")}),f.getVanityUrl||d.registerHelper("getVanityUrl",function(){var a;return a=localStorage.getItem("memFrag/User/vanityUrl")}),f.component_list||d.registerHelper("component_list",function(a,b){var c,e,f,h,i,j,k,l;if(!a)return b.inverse(this);for(j=d.createFrame(b.data||{}),j.options=this.options||{},l="",f=e=0,i=a.length;i>e;f=++e)h=a[f],j.index=f,j.type=h.component||"navlist",k=d.partials["component_"+j.type],k?(c={data:j},j.component=new d.SafeString(k.call(this,h,c)),l+=b.fn(this,c)):l+=g(j.type);return new d.SafeString(l)}),b.exports=d},{"handlebars/runtime":"handlebars/runtime"}],7:[function(a,b,c){"use strict";a("matchmedia-polyfill"),a("matchmedia-polyfill/matchMedia.addListener"),a("whatwg-fetch"),a("es6-promise")},{"es6-promise":"es6-promise","matchmedia-polyfill":"matchmedia-polyfill","matchmedia-polyfill/matchMedia.addListener":"matchmedia-polyfill/matchMedia.addListener","whatwg-fetch":"whatwg-fetch"}],8:[function(a,b,c){"use strict";var d,e;d=window.$||window.jQuery||a("jquery"),e='{"breakpoints":{"until-med":"34.99em","med":"35em","until-biggie":"989.9px","biggie":"990px"},"mqs":{"until-med":""screen and (max-width: 34.99em)"","med":""screen and (min-width: 35em)"","until-biggie":""screen and (max-width: 989.9px)"","biggie":""screen and (min-width: 990px)""},"options":{"responsive":"true"}}',e=d.parseJSON(e.replace(/\""/g,'"')),b.exports=e},{jquery:"jquery"}],9:[function(a,c,e){(function(d){!function(a){if("object"==typeof e&&"undefined"!=typeof c)c.exports=a();else if("function"==typeof b&&b.amd)b([],a);else{var f;f="undefined"!=typeof window?window:"undefined"!=typeof d?d:"undefined"!=typeof self?self:this,f.PackagesRegistration=a()}}(function(){return function b(c,d,e){function f(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof a&&a;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=d[h]={exports:{}};c[h][0].call(l.exports,function(a){var b=c[h][1][a];return f(b?b:a)},l,l.exports,b,c,d,e)}return d[h].exports}for(var g="function"==typeof a&&a,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b,c){b.exports=a("sassify")("@charset \"UTF-8\"; .NGS_regpkg {   border-collapse: separate;   border-spacing: 0;   caption-side: top;   color: #f2f2f2;   cursor: auto;   direction: ltr;   empty-cells: show;   font-family: \"Helvetica Neue\", Helvetica, \"nimbus sans\", Arial, sans-serif;   font-size: 16px;   font-style: normal;   font-variant: normal;   font-weight: 400;   letter-spacing: normal;   line-height: normal;   list-style: disc outside none;   orphans: 2;   quotes: '“' '”' '‘' '’';   text-align: left;   text-indent: 0;   text-transform: none;   visibility: visible;   white-space: normal;   widows: 2;   word-spacing: normal; }  .NGS_regpkg *, .NGS_regpkg *:before, .NGS_regpkg *:after {   box-sizing: inherit;   line-height: normal; }  .NGS_regpkg button::-moz-focus-inner {   border: 0;   padding: 0; }  .NGS_regpkg a, .NGS_regpkg a:link, .NGS_regpkg a:visited, .NGS_regpkg a:hover, .NGS_regpkg a:active {   border-bottom: 0 none;   color: inherit;   text-decoration: none; }  .rp_userbox-container {   display: block;   margin: 0;   min-height: 3em;   padding: 1em 1.5em; }  .rp_button--naked {   background-color: transparent;   border: 0;   color: inherit;   cursor: pointer;   font-family: inherit; }   .rp_button--naked:focus {     outline: 0; }  .rp_visuallyhidden {   border: 0;   clip: rect(0 0 0 0);   height: 1px;   margin: -1px;   overflow: hidden;   padding: 0;   position: absolute;   width: 1px; }  .NGS_regpkg {   -webkit-font-smoothing: antialiased;   box-sizing: border-box;   font-family: Arial, sans-serif;   height: auto;   left: 0;   position: static;   top: 0;   width: 100%;   z-index: 4000; }  .rp_navlist-subnavbutton {   background-color: white;   border-left: 1px solid white;   font-size: 1.25em;   line-height: 2.3;   margin: 0;   padding: 0 .7em;   position: relative;   right: 0;   top: 0; }  .rp_userbox-container {   background: none;   border: 0;   cursor: pointer;   left: auto;   max-width: 12em;   min-height: 0;   overflow: hidden;   padding: 0;   white-space: nowrap;   width: auto;   z-index: 4001; }   .rp_userbox-container .rp_userbox-wrapper {     background-color: black;     color: #282e5c;     display: block;     font-size: .8125em;     font-weight: 600;     line-height: 1.125;     margin: -.55em -1.5em 0 0;     max-width: 8em;     padding: 0; }   .rp_userbox-container .rp_userbox-link,   .rp_userbox-container .rp_userbox-button {     display: block;     font-weight: 500; }   .rp_userbox-container .rp_userbox-link, .rp_userbox-container .rp_userbox-link:link, .rp_userbox-container .rp_userbox-link:visited, .rp_userbox-container .rp_userbox-link:hover, .rp_userbox-container .rp_userbox-link:active {     border-bottom: 0 none;     color: #ababab;     text-decoration: none; }   .rp_userbox-container .rp_userbox-button {     background: black;     color: #ababab;     margin: .4em 0 0;     position: relative; }   .rp_userbox-container .NGS_regpkg-button {     border: 1px solid #333333;     border-radius: 4px;     color: #ababab;     display: block;     font-weight: 400;     margin: 0;     padding: .64em .7em;     text-transform: none; }     .rp_userbox-container .NGS_regpkg-button, .rp_userbox-container .NGS_regpkg-button:link, .rp_userbox-container .NGS_regpkg-button:visited, .rp_userbox-container .NGS_regpkg-button:hover, .rp_userbox-container .NGS_regpkg-button:active {       border-bottom: 1px solid #333333; }     .rp_userbox-container .NGS_regpkg-button:hover, .rp_userbox-container .NGS_regpkg-button:active {       background-color: #4d4d4d;       color: #c4c4c4; }     .rp_userbox-container .NGS_regpkg-button .rp_navlist-subnavbutton {       display: none; }   .rp_userbox-container .rp_waitspinner-wrapper {     border: 1px solid #333333;     border-radius: 4px;     color: #ababab;     display: block;     font-weight: 400;     margin: 0;     min-width: 8em;     padding: .64em .7em; }   .rp_userbox-container .rp_waitspinner {     left: .8em;     margin-right: .25em;     position: absolute;     vertical-align: text-top; }   .rp_userbox-container .rp_userbox-loading {     line-height: inherit; }  .rp_userbox-name {   display: inline-block;   font-size: 0.8125em;   max-width: 9em;   overflow: hidden;   text-overflow: ellipsis;   vertical-align: middle;   white-space: nowrap; }  .rp_userbox-subnavbutton {   background-color: transparent;   border-left: 0;   color: #f2f2f2;   float: right;   font-size: .6em;   padding: 0;   position: absolute; }  .rp_userbox-arrow {   margin-right: .8em;   transition: transform 0.25s linear; }   [data-userbox='open'] .rp_userbox-arrow,   .rp_userbox-container.open .rp_userbox-arrow {     transform: rotate(-180deg) translate(0.1em, 0.1em); }  .rp_userbox-avatar-wrapper {   background-image: url(\"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABQAAD/4QMtaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjMtYzAxMSA2Ni4xNDU2NjEsIDIwMTIvMDIvMDYtMTQ6NTY6MjcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzYgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODIxRTE5Nzk1OTRFMTFFNUFBODZFNjU2MDg0QThBODMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODIxRTE5N0E1OTRFMTFFNUFBODZFNjU2MDg0QThBODMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4MjFFMTk3NzU5NEUxMUU1QUE4NkU2NTYwODRBOEE4MyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4MjFFMTk3ODU5NEUxMUU1QUE4NkU2NTYwODRBOEE4MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv/uAA5BZG9iZQBkwAAAAAH/2wCEAAICAgICAgICAgIDAgICAwQDAgIDBAUEBAQEBAUGBQUFBQUFBgYHBwgHBwYJCQoKCQkMDAwMDAwMDAwMDAwMDAwBAwMDBQQFCQYGCQ0LCQsNDw4ODg4PDwwMDAwMDw8MDAwMDAwPDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDP/AABEIAFAAUAMBEQACEQEDEQH/xABzAAEAAgMBAQEAAAAAAAAAAAAAAgUBBgcEAwkBAQAAAAAAAAAAAAAAAAAAAAAQAAIBAgMFBwMACwAAAAAAAAECAAMEETESIXGRMgVBsSJSchMGUYGSYaHB0UJigiMzQxURAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AP0Nd31v425j2n6wI6387cTAa387cTA+FxeU7Si1e4r+1STNiTmcgBmSfoIGrV/lzhiLW2YqMnrOQT/SuXGBij8uq6gLm1Og5tSc4j7NnxgbRa31K9oivbVzUpk4HaQVP0YHaDA9Ot/O3EwGt/O3EwAd8R42z+pgH539R74EICBzz5DePc9QqUcf7Nkfbpp2asBrbeTsgUUBAtuiXj2fUKOBPtXLCjXTsIY4Kd4JgdKgIGRmN8CT87+o98CEBA5h1cKOqX5Rg6tWLBlII24E7R+mBXQED1WIU3tnrYKnv0yzMcAAGBOJMDq5zMDEDIzG+BJ+d/Ue+BCBFtRRwnOVYJ6sNn64HIcCvhYFWXY6nMEZgwEBAwcMDj2wOs2i1FtLRawIqrRpiqDnqCgHGB6IGRmN8CT87+o98CEBA035TahWtrxKYX3NVOuyjDFs1LYZkjHbA1GAgbP8YtVq3Ne5qUw6WyhaZYYj3GOOIx7QBA3mAgZGY3wJPzv6j3wIQECv6qiP0y+V1DgUWYA9jKMQd4MDl8BA6V0JETpNnoULrDO+HaxYgk8IFtAQMjMb4En539R74EMgSdgGZOQgUt31/ptriq1Dd1R/ro7R935eGMDVL/r17fK9IabW3cYNSp7SwPYzHafthApICBcWHW72wVaSla9uuVCp2D+VhtEDa7T5F065wWq5s6p/hq8v2cbOOEC8BDKGUhlblYHEHcRAkMxvgVXWuqp0tdlP3riszezTJwUAZsx+m3KBz+86heX5Juq7Opyojw0xuUbIHjgICAgICB6rS+u7FtVrXakMcTTG1DvU7DA3zovWB1MNTqUxSuqIDOF5WUnDUuOW3MQKD5YxPU6adiUQfydv3QNYgICAgICAgIF/8ZYr1amvY9KoD9gD+yB9vlSt/wBY+E/4Uw/JoGt6W8p4QGlvKeEBpbynhAaW8p4QGlvKeEBpbynhAaW8p4QGlvKeEC8+OK3/AGLbwnlqY/gYH//Z\");   background-repeat: no-repeat;   background-size: contain;   display: inline-block;   height: 25px;   margin-right: .5em;   vertical-align: middle;   width: 25px; }  .rp_userbox-avatar {   height: 100%;   width: 100%; }  .rp_userbox-notification {   background-color: #d10000;   border-radius: .3em;   color: #f2f2f2;   display: inline-block;   font-size: .9em;   font-weight: 400;   line-height: 1.5em;   margin: 0 1em 0 0;   padding: 0 .5em; }   .rp_userbox-notification:empty {     display: none; }  .rp_userbox-menu {   background-color: #000;   box-sizing: border-box;   line-height: 2em;   list-style-type: none;   margin: 0;   max-height: 0;   overflow: hidden;   padding: 0;   position: relative;   transition: max-height 0.5s linear;   z-index: 4010; }   [data-userbox='open'] .rp_userbox-menu,   .rp_userbox-container.open .rp_userbox-menu {     margin-top: 0;     max-height: 19em; }   .NGS_regpkg .rp_userbox-menu {     background-color: black; }   .rp_userbox-menu li:first-child {     padding-top: .5em; }   .rp_userbox-menu li:last-child {     padding-bottom: .5em; }   .rp_userbox-menu li a {     display: block;     font-size: 0.8125em;     padding: 0 2.1em 0 2.3em; }     .rp_userbox-menu li a:hover {       background: white; }       .NGS_regpkg .rp_userbox-menu li a:hover {         background-color: #333333; }   .rp_userbox-menu li, .rp_userbox-menu a {     line-height: inherit; }   .rp_userbox-container .rp_userbox-menu li:first-child {     margin-top: 0; }  [data-userbox='open'] .NGS_regpkg {   margin-top: 2.125em; }  [data-hide-userbox] .NGS_regpkg {   margin-top: 0; }  .userbox-menu-notification {   background-color: #d65f35;   border-radius: .3em;   color: #fff;   display: inline-block;   line-height: 1.5em;   margin: 0 .5em;   padding: 0 .5em; }   .userbox-menu-notification.hidden {     display: none; }  .rp_waitspinner-bg, .rp_waitspinner-fg {   fill: none;   opacity: .2;   stroke: currentcolor;   stroke-linecap: round;   stroke-width: 16; }  .rp_waitspinner-fg {   animation: rp_waitspinner-animation 1s infinite linear;   opacity: 1;   stroke-dasharray: 0, 0, 70, 194;   stroke-dashoffset: 0; }  @keyframes rp_waitspinner-animation {   to {     stroke-dashoffset: -264; } }  .rp_background--basic {   background-color: white; }  .rp_background--basiclighter {   background-color: white; }  .rp_background--inverse {   background-color: white; }  .rp_jewel {   background-color: #cc0000;   border-radius: .3em;   color: #fff;   display: inline-block;   font-size: 0.9em;   font-weight: 400;   line-height: 1.5em;   margin: 0 1em 0 0.3em;   padding: 0 0.5em; }   .rp_userbox-link .rp_jewel {     margin: -1.1em 0 0 .3em;     position: static; }  .rp_text--inverse {   color: #f2f2f2; }   .rp_text--inverse a {     color: #f2f2f2; }  .rp_text--highlight {   color: #ffcc00; }   .rp_text--highlight a {     color: #ffcc00; }  /*# sourceMappingURL=data:application/json;base64,ewoJInZlcnNpb24iOiAzLAoJImZpbGUiOiAiYXBwL19zY3NzL21haW4uc2NzcyIsCgkic291cmNlcyI6IFsKCQkiYXBwL19zY3NzL21haW4uc2NzcyIsCgkJImFwcC9fc2Nzcy9nbG9iYWwvdmFyaWFibGVzL19jb25maWcuc2NzcyIsCgkJImFwcC9fc2Nzcy9nbG9iYWwvdmFyaWFibGVzL19sYXlvdXQuc2NzcyIsCgkJImFwcC9fc2Nzcy9nbG9iYWwvdmFyaWFibGVzL190aGVtZS5zY3NzIiwKCQkiYm93ZXJfY29tcG9uZW50cy9tb3J0YXIvc2Nzcy9nbG9iYWwvdmFyaWFibGVzL19jb2xvcnMuc2NzcyIsCgkJImFwcC9fc2Nzcy9nbG9iYWwvdmFyaWFibGVzL196LWluZGV4LnNjc3MiLAoJCSJhcHAvX3Njc3MvZ2xvYmFsL21peGlucy9fZGVmZW5zaXZlLWVsZW1lbnRzLnNjc3MiLAoJCSJhcHAvX3Njc3MvZ2xvYmFsL2V4dGVuZHMvX2RlZmVuc2l2ZS5zY3NzIiwKCQkiYXBwL19zY3NzL2dsb2JhbC9leHRlbmRzL190b3VjaHRhcmdldC5zY3NzIiwKCQkiYXBwL19zY3NzL2hlbHBlci9fYnV0dG9uLnNjc3MiLAoJCSJhcHAvX3Njc3MvaGVscGVyL192aXN1YWxseWhpZGRlbi5zY3NzIiwKCQkiYXBwL19zY3NzL19iYXNlLnNjc3MiLAoJCSJhcHAvX3Njc3MvYmxvY2svX25hdmxpc3Quc2NzcyIsCgkJImFwcC9fc2Nzcy9ibG9jay9fdXNlcm1lbnUuc2NzcyIsCgkJImFwcC9fc2Nzcy9ibG9jay9fd2FpdHNwaW5uZXIuc2NzcyIsCgkJImFwcC9fc2Nzcy90aGVtZS9fYmFja2dyb3VuZHMuc2NzcyIsCgkJImFwcC9fc2Nzcy90aGVtZS9faWNvbmdzLnNjc3MiLAoJCSJhcHAvX3Njc3MvdGhlbWUvX2pld2VsLnNjc3MiLAoJCSJhcHAvX3Njc3MvdGhlbWUvX3RleHQuc2NzcyIKCV0sCgkic291cmNlc0NvbnRlbnQiOiBbCgkJIi8vIEltcG9ydCB2YXJpYWJsZXNcbkBpbXBvcnQgJ2dsb2JhbC92YXJpYWJsZXMvY29uZmlnJztcbkBpbXBvcnQgJ2dsb2JhbC92YXJpYWJsZXMvbGF5b3V0JztcbkBpbXBvcnQgJ2dsb2JhbC92YXJpYWJsZXMvdGhlbWUnO1xuQGltcG9ydCAnZ2xvYmFsL3ZhcmlhYmxlcy96LWluZGV4JztcbkBpbXBvcnQgJ2dsb2JhbC9taXhpbnMvZGVmZW5zaXZlLWVsZW1lbnRzJztcbkBpbXBvcnQgJ2dsb2JhbC9leHRlbmRzL2RlZmVuc2l2ZSc7XG5AaW1wb3J0ICdnbG9iYWwvZXh0ZW5kcy90b3VjaHRhcmdldCc7XG5cbi8vIFdoaWxlIHRoZSBwcm9qZWN0IGlzIGJ1aWx0IHdpdGggb2JqZWN0IG9yaWVudGVkIGNsYXNzZXMgd3JhcHBpbmcgYWxsIG9mXG4vLyB0aGVtIGluIHRoaXMgb25lIGNsYXNzIHdpbGwgaGVscCB0byBlbnN1cmUgdGhhdCB0aGUgaGVhZGVyIHN0eWxlcyBhcmVcbi8vIHByb3Blcmx5IHNjb3BlZC5cbi8vXG4vLyBBbGwgSURzIGFuZCBjbGFzc2VzIHNob3VsZCBiZSBwcmVmYWNlZCB3aXRoIHJwX2NsYXNzbmFtZSwgc2hvcnQgZm9yIFwicmVnaXN0cmF0aW9uIHBhY2thZ2VcIlxuLy8gVGhlIHRyYWlsaW5nIHVuZGVyc2NvcmUgaXMganVzdCBwbGF5aW5nIGl0IHNhZmUgaW4gdGVybXMgb2YgYXZvaWRpbmdcbi8vIGEgbmFtZXNwYWNlIGNvbGxpc2lvblxuLy8gQWxsIEpTIHRhcmdldCBpZHMgYW5kIGNsYXNzZXMgc2hvdWxkIGJlIHByZWZhY2VkIHdpdGggcnBfSlNfY2xhc3NuYW1lLFxuLy8gQ1NTIHNlbGVjdG9ycyBzaG91bGQgbm90IGJlIHVzZWQgYXMgSlMgdGFyZ2V0c1xuLy8gQ2xhc3NlcyBvbmx5IGZvciBDU1Ncbi8vIEFzIGZsYXQgYSBDU1Mgc3RydWN0dXJlIGFzIHBvc3NpYmxlIChhdm9pZCBuZXN0aW5nLCBzcGVjaWZpY2l0eSB3YXJzIGF0IGFsbCBjb3N0cylcblxuQGltcG9ydCAnaGVscGVyL2J1dHRvbic7XG5AaW1wb3J0ICdoZWxwZXIvdmlzdWFsbHloaWRkZW4nO1xuQGltcG9ydCAnYmFzZSc7XG5AaW1wb3J0ICdibG9jay9uYXZsaXN0JztcbkBpbXBvcnQgJ2Jsb2NrL3VzZXJtZW51JztcbkBpbXBvcnQgJ2Jsb2NrL3dhaXRzcGlubmVyJztcbkBpbXBvcnQgJ3RoZW1lL2JhY2tncm91bmRzJztcbkBpbXBvcnQgJ3RoZW1lL2ljb25ncyc7XG5AaW1wb3J0ICd0aGVtZS9qZXdlbCc7XG5AaW1wb3J0ICd0aGVtZS90ZXh0JztcbiIsCgkJIi8vIFJhbmRvbSB2YXJpYWJsZXMgdGhhdCBhcmUgbmVlZGVkIGFjcm9zcyB0aGUgcHJvamVjdFxuXG4kd3JhcHBlcjogJy5OR1NfcmVncGtnJztcbiRzaWRlYmFyLXdpZHRoOiAyNWVtO1xuXG4kZHJhd2VyLWFuaW1hdGlvbi1kdXJhdGlvbjogLjVzO1xuJGRyYXdlci1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBsaW5lYXI7XG5cbi8vIHN1Ym5hdmlnYXRpb25cbiRzdWJuYXYtYXJyb3ctd2lkdGg6IC40NWVtO1xuJGNvbG9yLW5hdmxpc3QtaGlnaGxpZ2h0OiBoc2woMCwgMCUsIDkzJSk7XG5cbiR1c2VyYm94LW1heC13aWR0aDogMTJlbTtcblxuLy8gTW9kaWZpZWQgYnkgZ3J1bnQtcmVwbGFjZVxuJGluY2x1ZGUtZm9udC1mYWNlOiBmYWxzZTtcbiIsCgkJIi8vIEdsb2JhbGx5IHJlcGVhdGVkIGxheW91dCB2YXJpYWJsZXNcblxuJHRhcmdldC1oZWlnaHQ6IDNlbTtcbiR1c2VyYm94LWhlaWdodDogM2VtO1xuIiwKCQkiLy8gR2xvYmFsbHkgcmVwZWF0ZWQgdGhlbWUgdmFyaWFibGVzXG5cbi8vIEtlZXAgY29sb3JzIGluIHN5bmMgd2l0aCBNb3J0YXJcbi8vIFF1aWNrIHJlZmVyZW5jZTogaHR0cDovL2dvby5nbC9xT1R4U1dcblxuQGltcG9ydCAnLi4vLi4vLi4vLi4vYm93ZXJfY29tcG9uZW50cy9tb3J0YXIvc2Nzcy9nbG9iYWwvdmFyaWFibGVzL2NvbG9ycyc7XG5cbiRkYXJrLWdyZXk6ICAgICAgICAgICAgICAgaHNsKDAsIDAlLCA0MCUpO1xuJGNvbG9yLXJlZDogICAgICAgICAgICAgICBoc2woMCwgMTAwJSwgNDAlKTtcblxuJGNvbG9yLWF0dGVudGlvbjogICAgICAgICAkY29sb3ItcmVkO1xuJGNvbG9yLWJhc2ljOiAgICAgICAgICAgICAjMDAwO1xuJGNvbG9yLWJhc2ljLWxpZ2h0OiAgICAgICBtaXgoI2ZmZiwgJG10LWNvbG9yLWJhc2ljLCAxMCUpO1xuJGNvbG9yLWJhc2ljLWxpZ2h0ZXI6ICAgICBtaXgoI2ZmZiwgJG10LWNvbG9yLWJhc2ljLCAyMCUpO1xuJGNvbG9yLWludmVyc2U6ICAgICAgICAgICAkb2ZmLXdoaXRlO1xuJGNvbG9yLWhpZ2hsaWdodDogICAgICAgICAkYnJhbmQtZ29sZDtcbiRjb2xvci1sb3dsaWdodDogICAgICAgICAgJGxpZ2h0LWdyZXk7XG4kY29sb3ItdGV4dDogICAgICAgICAgICAgICRvZmYtd2hpdGU7XG4kY29sb3ItdGV4dC1hdHRlbnRpb246ICAgICNmZmY7XG4kY29sb3Itc2hhZG93OiAgICAgICAgICAgICRkYXJrLWdyZXk7XG5cbi8vIFJlZ2lzdHJhdGlvbiBQYWNrYWdlIGNvbG9yc1xuJGNvbG9yLXJwLWZnOiAgICAgICAgICRtdF9jb2xvci1wcmltYXJ5O1xuJGNvbG9yLXJwLWJnOiAgICAgICAgICRtdF9jb2xvci1pbnZlcnNlO1xuJGNvbG9yLXJwLWhpZ2hsaWdodDogIGhzbCgwLCAwJSwgNjclKTtcbiRjb2xvci1ycC1taWRsaWdodDogICBoc2woMCwgMCUsIDIwJSk7XG4kY29sb3ItcnAtbG93bGlnaHQ6ICAgaHNsKDAsIDAlLCAxMyUpO1xuJGNvbG9yLXJwLW9mZjogICAgICAgIGhzbCgwLCAwJSwgODclKTtcblxuLy8gdHlwb2dyYXBoeVxuJHR5cGUtZGVmYXVsdDogJ0hlbHZldGljYSBOZXVlJywgSGVsdmV0aWNhLCAnbmltYnVzIHNhbnMnLCBBcmlhbCwgc2Fucy1zZXJpZjtcbiRiYXNlLWZvbnQtc2l6ZTogMTZweDtcblxuJGZvbnQtc206IC43NWVtO1xuJGZvbnQtbWQ6IC44MTI1ZW07XG4kZm9udC1qdzogLjllbTtcbiRmb250LXJlZzogMWVtO1xuJGZvbnQtbHJnOiAxLjI1ZW07XG4iLAoJCSIvLyBzY3NzLWxpbnQ6ZGlzYWJsZSBDb2xvclZhcmlhYmxlIENvbG9yS2V5d29yZFxuXG4vLyBDb2xvciBWYXJpYWJsZXNcbi8vID09PT09PT09PT09PT09PVxuLy9cbi8vIFRoZXNlIHNob3VsZCBub3QgYmUgcmVmZXJlbmNlZCBvdXRzaWRlIG9mIHRoaXMgcGFydGlhbFxuXG4kbWVkaXVtLWJsdWU6ICAgaHNsKDIzMywgMzklLCAyNiUpO1xuJGJyaWdodC1ibHVlOiAgIGhzbCgyMzYsIDgxJSwgNjElKTtcbiRkYXJrLWdyZXk6ICAgICBoc2woMCwgMCUsIDQwJSk7XG4kbWVkaXVtLWdyZXk6ICAgaHNsKDAsIDAlLCA2MCUpO1xuJGxpZ2h0LWdyZXk6ICAgIGhzbCgwLCAwJSwgODglKTtcbiRvZmYtd2hpdGU6ICAgICBoc2woMCwgMCUsIDk1JSk7XG4kYnJhbmQtZ29sZDogICAgaHNsKDQ4LCAxMDAlLCA1MCUpO1xuJGZhY2Vib29rLWJsdWU6IGhzbCgyMjAsIDQzJSwgNDElKTtcbiRyZWQ6ICAgICAgICAgICBoc2woMCwgMTAwJSwgNDElKTtcbiRsaWdodC1yZWQ6ICAgICBoc2woMCwgNDMlLCA5MSUpO1xuJGdyZWVuOiAgICAgICAgIGhzbCg5OCwgODclLCAzNyUpO1xuJGxpZ2h0LWdyZWVuOiAgIGhzbCgxMTMsIDUwJSwgOTQlKTtcblxuXG4vLyBTZW1hbnRpYyBWYXJpYWJsZXNcbi8vID09PT09PT09PT09PT09PT09PVxuLy9cbi8vIFRoZXNlIHZhcmlhYmxlcyBhcmUgZm9yIHVzZSB0aHJvdWdob3V0IHRoZSBwcm9qZWN0XG5cbiRtdF9jb2xvci1iYXNpYzogICAgICAgICAgIHdoaXRlO1xuJG10X2NvbG9yLWJhc2ljLWFsdDogICAgICAgJG9mZi13aGl0ZTtcbiRtdF9jb2xvci1pbnZlcnNlOiAgICAgICAgIGJsYWNrO1xuJG10X2NvbG9yLXByaW1hcnk6ICAgICAgICAgJG1lZGl1bS1ibHVlO1xuJG10X2NvbG9yLWhpZ2hsaWdodDogICAgICAgJGJyYW5kLWdvbGQ7XG4kbXRfY29sb3ItbG93bGlnaHQ6ICAgICAgICAkbGlnaHQtZ3JleTtcbiRtdF9jb2xvci1kYW5nZXI6ICAgICAgICAgICRyZWQ7XG4kbXRfY29sb3ItZGFuZ2VyLWJnOiAgICAgICAkbGlnaHQtcmVkO1xuJG10X2NvbG9yLXN1Y2Nlc3M6ICAgICAgICAgJGdyZWVuO1xuJG10X2NvbG9yLXN1Y2Nlc3MtYmc6ICAgICAgJGxpZ2h0LWdyZWVuO1xuJG10X2NvbG9yLXRleHQ6ICAgICAgICAgICAgYmxhY2s7XG4kbXRfY29sb3ItdGV4dC1pbnZlcnNlOiAgICAkb2ZmLXdoaXRlO1xuJG10X2NvbG9yLWxpbms6ICAgICAgICAgICAgJGJyaWdodC1ibHVlO1xuJG10X2NvbG9yLWxpbmstaW52ZXJzZTogICAgbGlnaHRlbigkYnJpZ2h0LWJsdWUsIDEwKTtcbiRtdF9jb2xvci1iZXRhOiAgICAgICAgICAgICRtZWRpdW0tZ3JleTtcbiRtdF9jb2xvci1nYW1tYTogICAgICAgICAgICRkYXJrLWdyZXk7XG4kbXRfY29sb3ItaW1hZ2UtbWFzazogICAgICB0cmFuc3BhcmVudGl6ZShibGFjaywgLjIpO1xuJG10X2NvbG9yLWZhY2Vib29rOiAgICAgICAgJGZhY2Vib29rLWJsdWU7XG4iLAoJCSIvLyBBbGwgei1pbmRleCB2YWx1ZXMgc2hvdWxkIGNvbWUgZnJvbSB0aGlzIGxpc3RcblxuLy8gVmFsdWVzIHNob3VsZCBjb25mb3JtIHdpdGggZG9jdW1lbnRhdGlvbiBoZXJlOlxuLy8gaHR0cHM6Ly9jb25mbHVlbmNlLm5hdGlvbmFsZ2VvZ3JhcGhpYy5jb20vcGFnZXMvdmlld3BhZ2UuYWN0aW9uP3RpdGxlPVotaW5kZXgrR3VpZGVsaW5lcyZzcGFjZUtleT1EU1xuXG4kei1ib3R0b206IDQwMDA7XG4kei1taWRkbGU6ICR6LWJvdHRvbSArIDEwO1xuJHotdG9wOiAgICAkei1ib3R0b20gKyAyMDtcbiIsCgkJIi8vIE1peGluKHMpIHRvIGRlZmVuZCBzcGVjaWZpYyBlbGVtZW50cyAobWF5IGdyb3cpLlxuQG1peGluIGRlZmVuc2l2ZS1hKCRjb2xvcjogaW5oZXJpdCwgJHRleHQtZGVjb3JhdGlvbjogbm9uZSwgJGJvcmRlci1ib3R0b206IDAgbm9uZSkge1xuICAgICYsXG4gICAgJjpsaW5rLFxuICAgICY6dmlzaXRlZCxcbiAgICAmOmhvdmVyLFxuICAgICY6YWN0aXZlIHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogJGJvcmRlci1ib3R0b207XG4gICAgICAgIGNvbG9yOiAkY29sb3I7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogJHRleHQtZGVjb3JhdGlvbjtcbiAgICB9XG59XG4iLAoJCSIvLyBUaGlzIHBsYWNlaG9sZGVyIGlzb2xhdGVzIG1hdGNoaW5nIGVsZW1lbnRzIGZyb20gaW5oZXJpdGFibGUgcHJvcGVydGllc1xuLy8gZGVmaW5lZCBhdCBhbnkgYW5jZXN0b3IuIE9ubHkgdmlzdWFsIChub3QgYXVyYWwpIHByb3BlcnRpZXMgYXJlIGFmZmVjdGVkLlxuLy8gU291cmNlOiBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9wcm9waWR4Lmh0bWxcblxuJWRlZmVuc2l2ZS1pbmhlcml0YW5jZSB7XG4gICAgYm9yZGVyLWNvbGxhcHNlOiBzZXBhcmF0ZTtcbiAgICBib3JkZXItc3BhY2luZzogMDtcbiAgICBjYXB0aW9uLXNpZGU6IHRvcDtcbiAgICBjb2xvcjogJGNvbG9yLXRleHQ7XG4gICAgY3Vyc29yOiBhdXRvO1xuICAgIGRpcmVjdGlvbjogbHRyO1xuICAgIGVtcHR5LWNlbGxzOiBzaG93O1xuICAgIGZvbnQtZmFtaWx5OiAkdHlwZS1kZWZhdWx0O1xuICAgIGZvbnQtc2l6ZTogJGJhc2UtZm9udC1zaXplO1xuICAgIGZvbnQtc3R5bGU6IG5vcm1hbDtcbiAgICBmb250LXZhcmlhbnQ6IG5vcm1hbDtcbiAgICBmb250LXdlaWdodDogNDAwO1xuICAgIGxldHRlci1zcGFjaW5nOiBub3JtYWw7XG4gICAgbGluZS1oZWlnaHQ6IG5vcm1hbDtcbiAgICBsaXN0LXN0eWxlOiBkaXNjIG91dHNpZGUgbm9uZTtcbiAgICBvcnBoYW5zOiAyO1xuICAgIHF1b3RlczogJ+KAnCcgJ+KAnScgJ+KAmCcgJ+KAmSc7XG4gICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICB0ZXh0LWluZGVudDogMDtcbiAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcbiAgICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xuICAgIHdoaXRlLXNwYWNlOiBub3JtYWw7XG4gICAgd2lkb3dzOiAyO1xuICAgIHdvcmQtc3BhY2luZzogbm9ybWFsO1xufVxuXG4vLyBBbGwgdG9nZXRoZXIgbm93OlxuJWRlZmVuZCB7XG4gICAgQGV4dGVuZCAlZGVmZW5zaXZlLWluaGVyaXRhbmNlO1xuXG4gICAgLy8gcmVzZXRzXG4gICAgKixcbiAgICAqOmJlZm9yZSxcbiAgICAqOmFmdGVyIHtcbiAgICAgICAgYm94LXNpemluZzogaW5oZXJpdDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IG5vcm1hbDtcbiAgICB9XG5cbiAgICBidXR0b246Oi1tb3otZm9jdXMtaW5uZXIge1xuICAgICAgICBib3JkZXI6IDA7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgfVxuXG4gICAgYSB7XG4gICAgICAgIEBpbmNsdWRlIGRlZmVuc2l2ZS1hO1xuICAgIH1cbn1cbiIsCgkJIi8vIERlZmF1bHQgdG91Y2gtdGFyZ2V0IHNpemUgZm9yIGl0ZW1zIGluIHRoZSBkcmF3ZXJcblxuJXRvdWNoLXRhcmdldCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luOiAwO1xuICAgIG1pbi1oZWlnaHQ6ICR0YXJnZXQtaGVpZ2h0O1xuICAgIHBhZGRpbmc6ICR0YXJnZXQtaGVpZ2h0LzMgJHRhcmdldC1oZWlnaHQvMjtcbn1cbiIsCgkJIi8vIEdldCByaWQgb2YgZGVmYXVsdCBidXR0b24gc3R5bGVzIHdpdGggdGhpcyBjbGFzc1xuXG4ucnBfYnV0dG9uLS1uYWtlZCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgYm9yZGVyOiAwO1xuICAgIGNvbG9yOiBpbmhlcml0O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBmb250LWZhbWlseTogaW5oZXJpdDtcblxuICAgICY6Zm9jdXMge1xuICAgICAgICBvdXRsaW5lOiAwO1xuICAgIH1cbn1cbiIsCgkJIi8vIEFjY2Vzc2libGUgdmlzdWFsbHloaWRkZW4gY2xhc3MsIGdyYWJiZWQgZnJvbSBoNWJwXG4vLyByZWZlcmVuY2U6IGh0dHA6Ly9nb28uZ2wvRTNmUlJ4XG5cbi5ycF92aXN1YWxseWhpZGRlbiB7XG4gICAgYm9yZGVyOiAwO1xuICAgIGNsaXA6IHJlY3QoMCAwIDAgMCk7XG4gICAgaGVpZ2h0OiAxcHg7XG4gICAgbWFyZ2luOiAtMXB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgcGFkZGluZzogMDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgd2lkdGg6IDFweDtcbn1cbiIsCgkJIi8vIFdoaWxlIHRoZSBtYWluIGVuZGVhdm9yIG9mIHRoZSBDU1Mgc3R5bGUgaGVyZSBpcyB0byBhdm9pZCByZWx5aW5nIG9uIHRoZVxuLy8gY2FzY2FkZSB3aGF0c29ldmVyLCBpdCBtYWtlcyBzZW5zZSBmb3IgdGhlc2UgdmVyeSBmZXcgcnVsZXMgc28gdGhhdFxuLy8gY2xhc3NlcyBkb24ndCBoYXZlIHRvIGJlIHJlcGVhdGVkIG92ZXIgYW5kIG92ZXIuXG4vL1xuLy8gVGhlIHdyYXBwZXIgZm9yIFJlZ2lzdHJhdGlvbiBQYWNrYWdlIGlzIGxvY2F0ZWQgaW4gZ2xvYmFsL3ZhcmlhYmxlcy9fY29uZmlnLnNjc3Ncbi8vIGFuZCB1c2VzIHRoZSBjbGFzcyBcIk5HU19yZWdwa2dcIi5cblxuI3skd3JhcHBlcn0ge1xuICAgIEBleHRlbmQgJWRlZmVuZDtcblxuICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgIGhlaWdodDogYXV0bztcbiAgICBsZWZ0OiAwO1xuICAgIHBvc2l0aW9uOiBzdGF0aWM7XG4gICAgdG9wOiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHotaW5kZXg6ICR6LWJvdHRvbTtcbn1cbiIsCgkJIi8vIEZvciBSZWdpc3RyYXRpb24gUGFja2FnZSwgd2Ugb25seSB1c2UgbmF2bGlzdC1zdWJuYXZidXR0b24uXG4vLyBTbyB0aGF0J3MgYWxsIHdlJ3JlIHN0eWxpbmcgaGVyZS5cblxuLnJwX25hdmxpc3Qtc3VibmF2YnV0dG9uIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3ItYmFzaWMtbGlnaHRlcjtcbiAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICRjb2xvci1iYXNpYy1saWdodDtcbiAgICBmb250LXNpemU6IDEuMjVlbTtcbiAgICBsaW5lLWhlaWdodDogMi4zO1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwIC43ZW07XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHJpZ2h0OiAwO1xuICAgIHRvcDogMDtcbn1cbiIsCgkJIi5ycF91c2VyYm94LWNvbnRhaW5lciB7XG4gICAgQGV4dGVuZCAldG91Y2gtdGFyZ2V0O1xuXG4gICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICBib3JkZXI6IDA7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGxlZnQ6IGF1dG87XG4gICAgbWF4LXdpZHRoOiAkdXNlcmJveC1tYXgtd2lkdGg7XG4gICAgbWluLWhlaWdodDogMDtcbiAgICBvdmVyZmxvdzogaGlkZGVuOyAvLyBtYWtlcyBpdCB2aXNpYmxlIGluIElFXG4gICAgcGFkZGluZzogMDtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIHdpZHRoOiBhdXRvO1xuICAgIHotaW5kZXg6ICR6LWJvdHRvbSArIDE7XG5cbiAgICAucnBfdXNlcmJveC13cmFwcGVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yLXJwLWJnO1xuICAgICAgICBjb2xvcjogJGNvbG9yLXJwLWZnO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgZm9udC1zaXplOiAuODEyNWVtO1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBsaW5lLWhlaWdodDogMS4xMjU7XG4gICAgICAgIG1hcmdpbjogLS41NWVtIC0xLjVlbSAwIDA7XG4gICAgICAgIG1heC13aWR0aDogOGVtO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgIH1cblxuICAgIC5ycF91c2VyYm94LWxpbmssXG4gICAgLnJwX3VzZXJib3gtYnV0dG9uIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgfVxuXG4gICAgLnJwX3VzZXJib3gtbGluayB7XG4gICAgICAgIEBpbmNsdWRlIGRlZmVuc2l2ZS1hKCRjb2xvcjogJGNvbG9yLXJwLWhpZ2hsaWdodCk7XG4gICAgfVxuXG4gICAgLnJwX3VzZXJib3gtYnV0dG9uIHtcbiAgICAgICAgYmFja2dyb3VuZDogJGNvbG9yLXJwLWJnO1xuICAgICAgICBjb2xvcjogJGNvbG9yLXJwLWhpZ2hsaWdodDtcbiAgICAgICAgbWFyZ2luOiAuNGVtIDAgMDtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIH1cblxuICAgIC5OR1NfcmVncGtnLWJ1dHRvbiB7XG4gICAgICAgICRib3JkZXI6IDFweCBzb2xpZCAkY29sb3ItcnAtbWlkbGlnaHQ7XG5cbiAgICAgICAgYm9yZGVyOiAkYm9yZGVyO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGNvbG9yOiAkY29sb3ItcnAtaGlnaGxpZ2h0O1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBwYWRkaW5nOiAuNjRlbSAuN2VtO1xuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcblxuICAgICAgICAvLyBvdmVycmlkZSBkZWZlbnNpdmUgYm9yZGVyLWJvdHRvbTpcbiAgICAgICAgQGluY2x1ZGUgZGVmZW5zaXZlLWEoJGNvbG9yOiBudWxsLCAkdGV4dC1kZWNvcmF0aW9uOiBudWxsLCAkYm9yZGVyLWJvdHRvbTogJGJvcmRlcik7XG5cbiAgICAgICAgJjpob3ZlcixcbiAgICAgICAgJjphY3RpdmUge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRlbigkY29sb3ItcnAtbWlkbGlnaHQsIDEwKTtcbiAgICAgICAgICAgIGNvbG9yOiBsaWdodGVuKCRjb2xvci1ycC1oaWdobGlnaHQsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5ycF9uYXZsaXN0LXN1Ym5hdmJ1dHRvbiB7XG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLnJwX3dhaXRzcGlubmVyLXdyYXBwZXIge1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAkY29sb3ItcnAtbWlkbGlnaHQ7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgY29sb3I6ICRjb2xvci1ycC1oaWdobGlnaHQ7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIG1pbi13aWR0aDogOGVtO1xuICAgICAgICBwYWRkaW5nOiAuNjRlbSAuN2VtO1xuICAgIH1cblxuICAgIC5ycF93YWl0c3Bpbm5lciB7XG4gICAgICAgIGxlZnQ6IC44ZW07XG4gICAgICAgIG1hcmdpbi1yaWdodDogLjI1ZW07XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdmVydGljYWwtYWxpZ246IHRleHQtdG9wO1xuICAgIH1cblxuICAgIC5ycF91c2VyYm94LWxvYWRpbmcge1xuICAgICAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcbiAgICB9XG59XG5cbi5ycF91c2VyYm94LW5hbWUge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBmb250LXNpemU6ICRmb250LW1kO1xuICAgIG1heC13aWR0aDogOWVtO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xufVxuXG4ucnBfdXNlcmJveC1zdWJuYXZidXR0b24ge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIGJvcmRlci1sZWZ0OiAwO1xuICAgIGNvbG9yOiAkY29sb3ItaW52ZXJzZTtcbiAgICBmbG9hdDogcmlnaHQ7XG4gICAgZm9udC1zaXplOiAuNmVtO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xufVxuXG4ucnBfdXNlcmJveC1hcnJvdyB7XG4gICAgbWFyZ2luLXJpZ2h0OiAuOGVtO1xuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAkZHJhd2VyLWFuaW1hdGlvbi1kdXJhdGlvbiAvIDIgbGluZWFyO1xuXG4gICAgW2RhdGEtdXNlcmJveD0nb3BlbiddICYsXG4gICAgLnJwX3VzZXJib3gtY29udGFpbmVyLm9wZW4gJiB7XG4gICAgICAgIHRyYW5zZm9ybTogcm90YXRlKC0xODBkZWcpIHRyYW5zbGF0ZSguMWVtLCAuMWVtKTtcbiAgICB9XG59XG5cbi5ycF91c2VyYm94LWF2YXRhci13cmFwcGVyIHtcbiAgICAvLyBkZWZhdWx0IGF2YXRhciBpbWFnZSAoc21hbGwgMTAweDEwMCBweClcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsLzlqLzRRQVlSWGhwWmdBQVNVa3FBQWdBQUFBQUFBQUFBQUFBQVAvc0FCRkVkV05yZVFBQkFBUUFBQUJRQUFELzRRTXRhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdk1TNHdMd0E4UDNod1lXTnJaWFFnWW1WbmFXNDlJdSs3dnlJZ2FXUTlJbGMxVFRCTmNFTmxhR2xJZW5KbFUzcE9WR042YTJNNVpDSS9QaUE4ZURwNGJYQnRaWFJoSUhodGJHNXpPbmc5SW1Ga2IySmxPbTV6T20xbGRHRXZJaUI0T25odGNIUnJQU0pCWkc5aVpTQllUVkFnUTI5eVpTQTFMak10WXpBeE1TQTJOaTR4TkRVMk5qRXNJREl3TVRJdk1ESXZNRFl0TVRRNk5UWTZNamNnSUNBZ0lDQWdJQ0krSUR4eVpHWTZVa1JHSUhodGJHNXpPbkprWmowaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1UazVPUzh3TWk4eU1pMXlaR1l0YzNsdWRHRjRMVzV6SXlJK0lEeHlaR1k2UkdWelkzSnBjSFJwYjI0Z2NtUm1PbUZpYjNWMFBTSWlJSGh0Ykc1ek9uaHRjRDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3THlJZ2VHMXNibk02ZUcxd1RVMDlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl0YlM4aUlIaHRiRzV6T25OMFVtVm1QU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2YzFSNWNHVXZVbVZ6YjNWeVkyVlNaV1lqSWlCNGJYQTZRM0psWVhSdmNsUnZiMnc5SWtGa2IySmxJRkJvYjNSdmMyaHZjQ0JEVXpZZ0tFMWhZMmx1ZEc5emFDa2lJSGh0Y0UxTk9rbHVjM1JoYm1ObFNVUTlJbmh0Y0M1cGFXUTZPREl4UlRFNU56azFPVFJGTVRGRk5VRkJPRFpGTmpVMk1EZzBRVGhCT0RNaUlIaHRjRTFOT2tSdlkzVnRaVzUwU1VROUluaHRjQzVrYVdRNk9ESXhSVEU1TjBFMU9UUkZNVEZGTlVGQk9EWkZOalUyTURnMFFUaEJPRE1pUGlBOGVHMXdUVTA2UkdWeWFYWmxaRVp5YjIwZ2MzUlNaV1k2YVc1emRHRnVZMlZKUkQwaWVHMXdMbWxwWkRvNE1qRkZNVGszTnpVNU5FVXhNVVUxUVVFNE5rVTJOVFl3T0RSQk9FRTRNeUlnYzNSU1pXWTZaRzlqZFcxbGJuUkpSRDBpZUcxd0xtUnBaRG80TWpGRk1UazNPRFU1TkVVeE1VVTFRVUU0TmtVMk5UWXdPRFJCT0VFNE15SXZQaUE4TDNKa1pqcEVaWE5qY21sd2RHbHZiajRnUEM5eVpHWTZVa1JHUGlBOEwzZzZlRzF3YldWMFlUNGdQRDk0Y0dGamEyVjBJR1Z1WkQwaWNpSS9Qdi91QUE1QlpHOWlaUUJrd0FBQUFBSC8yd0NFQUFJQ0FnSUNBZ0lDQWdJREFnSUNBd1FEQWdJREJBVUVCQVFFQkFVR0JRVUZCUVVGQmdZSEJ3Z0hCd1lKQ1FvS0NRa01EQXdNREF3TURBd01EQXdNREF3QkF3TURCUVFGQ1FZR0NRMExDUXNORHc0T0RnNFBEd3dNREF3TUR3OE1EQXdNREF3UERBd01EQXdNREF3TURBd01EQXdNREF3TURBd01EQXdNREF3TURQL0FBQkVJQUZBQVVBTUJFUUFDRVFFREVRSC94QUJ6QUFFQUFnTUJBUUVBQUFBQUFBQUFBQUFBQWdVQkJnY0VBd2tCQVFBQUFBQUFBQUFBQUFBQUFBQUFBQUFRQUFJQkFnTUZCd01BQ3dBQUFBQUFBQUVDQUFNRUVURVNJWEdSTWdWQnNTSlNjaE1HVVlHU1lhSEIwVUppZ2lNelF4VVJBUUFBQUFBQUFBQUFBQUFBQUFBQUFBRC8yZ0FNQXdFQUFoRURFUUEvQVAwTmQzMXY0MjVqMm42d0k2Mzg3Y1RBYTM4N2NUQStGeGVVN1NpMWU0cisxU1ROaVRtY2dCbVNmb0lHclYvbHpoaUxXMllxTW5yT1FUL1N1WEdCaWo4dXE2Z0xtMU9nNXRTYzRqN05ueGdiUmEzMUs5b2l2YlZ6VXBrNEhhUVZQMFlIYURBOU90L08zRXdHdC9PM0V3QWQ4UjQyeitwZ0g1MzlSNzRFSUNCeno1RGVQYzlRcVVjZjdOa2ZicHAyYXNCcmJlVHNnVVVCQXR1aVhqMmZVS09CUHRYTENqWFRzSVk0S2Q0SmdkS2dJR1JtTjhDVDg3K285OENFQkE1aDFjS09xWDVSZzZ0V0xCbElJMjRFN1IrbUJYUUVEMVdJVTN0bnJZS252MHl6TWNBQUdCT0pNRHE1ek1ERURJekcrQkorZC9VZStCQ0JGdFJSd25PVllKNnNObjY0SEljQ3ZoWUZXWFk2bk1FWmd3RUJBd2NNRGoyd09zMmkxRnRMUmF3SXFyUnBpcURucUNnSEdCNklHUm1OOENUODcrbzk4Q0VCQTAzNVRhaFd0cnhLWVgzTlZPdXlqREZzMUxZWmtqSGJBMUdBZ2JQOFl0VnEzTmU1cVV3Nld5aGFaWVlqM0dPT0l4N1FCQTNtQWdaR1kzd0pQenY2ajN3SVFFQ3Y2cWlQMHkrVjFEZ1VXWUE5aktNUWQ0TURsOEJBNlYwSkVUcE5ub1VMckRPK0hheFlnazhJRnRBUU1qTWI0RW41MzlSNzRFTWdTZGdHWk9RZ1V0MzEvcHRyaXExRGQxUi9ybzdSOTM1ZUdNRFZML3IxN2ZLOUlhYlczY1lOU3A3U3dQWXpIYWZ0aEFwSUNCY1dIVzcyd1ZhU2xhOXV1VkNwMkQrVmh0RURhN1Q1RjA2NXdXcTVzNnAvaHE4djJjYk9PRUM4QkRLR1VobGJsWUhFSGNSQWtNeHZnVlhXdXFwMHRkbFAzcmlzemV6VEp3VUFac3grbTNLQnorODZoZVg1SnVxN09weW9qdzB4dVViSUhqZ0lDQWdJQ0I2clMrdTdGdFZyWGFrTWNUVEcxRHZVN0RBM3pvdldCMU1OVHFVeFN1cUlET0Y1V1VuRFV1T1czTVFLRDVZeFBVNmFkaVVRZnlkdjNRTllnSUNBZ0lDQWdJRi84WllyMWFtdlk5S29EOWdEK3lCOXZsU3Qvd0JZK0UvNFV3L0pvR3Q2VzhwNFFHbHZLZUVCcGJ5bmhBYVc4cDRRR2x2S2VFQnBieW5oQWFXOHA0UUdsdktlRUM4K09LMy9BR0xid25scVkvZ1lILy9aJyk7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGhlaWdodDogMjVweDtcbiAgICBtYXJnaW4tcmlnaHQ6IC41ZW07XG4gICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICB3aWR0aDogMjVweDtcbn1cblxuLnJwX3VzZXJib3gtYXZhdGFyIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG59XG5cbi5ycF91c2VyYm94LW5vdGlmaWNhdGlvbiB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHJlZDtcbiAgICBib3JkZXItcmFkaXVzOiAuM2VtO1xuICAgIGNvbG9yOiAkY29sb3ItaW52ZXJzZTtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgZm9udC1zaXplOiAuOWVtO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgbGluZS1oZWlnaHQ6IDEuNWVtO1xuICAgIG1hcmdpbjogMCAxZW0gMCAwO1xuICAgIHBhZGRpbmc6IDAgLjVlbTtcblxuICAgICY6ZW1wdHkge1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbn1cblxuLnJwX3VzZXJib3gtbWVudSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yLWJhc2ljO1xuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgbGluZS1oZWlnaHQ6IDJlbTtcbiAgICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XG4gICAgbWFyZ2luOiAwO1xuICAgIG1heC1oZWlnaHQ6IDA7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBwYWRkaW5nOiAwO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB0cmFuc2l0aW9uOlxuICAgIG1heC1oZWlnaHRcbiAgICAkZHJhd2VyLWFuaW1hdGlvbi1kdXJhdGlvblxuICAgICRkcmF3ZXItYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvblxuICAgIDtcblxuICAgIHotaW5kZXg6ICR6LW1pZGRsZTtcblxuICAgIFtkYXRhLXVzZXJib3g9J29wZW4nXSAmLFxuICAgIC5ycF91c2VyYm94LWNvbnRhaW5lci5vcGVuICYge1xuICAgICAgICBtYXJnaW4tdG9wOiAwO1xuICAgICAgICBtYXgtaGVpZ2h0OiAxOWVtO1xuICAgIH1cblxuICAgICN7JHdyYXBwZXJ9ICYge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkY29sb3ItcnAtYmc7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGNvcnJlY3QgcGFkZGluZyB3aXRob3V0IG92ZXJmbG93IG9yIGp1bXB5IHRyYW5zaXRpb25cbiAgICBsaSB7XG4gICAgICAgICY6Zmlyc3QtY2hpbGQge1xuICAgICAgICAgICAgcGFkZGluZy10b3A6IC41ZW07XG4gICAgICAgIH1cblxuICAgICAgICAmOmxhc3QtY2hpbGQge1xuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IC41ZW07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsaSBhIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIGZvbnQtc2l6ZTogJGZvbnQtbWQ7XG4gICAgICAgIHBhZGRpbmc6IDAgMi4xZW0gMCAyLjNlbTtcblxuICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICRjb2xvci1iYXNpYy1saWdodDtcblxuICAgICAgICAgICAgI3skd3JhcHBlcn0gJiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yLXJwLW1pZGxpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGksIGEge1xuICAgICAgICBsaW5lLWhlaWdodDogaW5oZXJpdDtcbiAgICB9XG5cbiAgICAucnBfdXNlcmJveC1jb250YWluZXIgJiBsaTpmaXJzdC1jaGlsZCB7XG4gICAgICAgIG1hcmdpbi10b3A6IDA7XG4gICAgfVxufVxuXG4jeyR3cmFwcGVyfSB7XG4gICAgW2RhdGEtdXNlcmJveD0nb3BlbiddICYge1xuICAgICAgICAvLyBDdXJyZW50IGhlaWdodCBvZiB0aGUgdXNlcmJveFxuICAgICAgICAvLyBUT0RPOiBtYWtlIGl0IGEgc2hhcmVkIHZhcmlhYmxlLCBpZGVhbGx5IGNvbXB1dGVkIGZyb20gdGhlIGFjdHVhbFxuICAgICAgICAvLyBudW1iZXIgb2YgaXRlbXMgdGFrZW4gZnJvbSBhIGpzb24gdmFyaWFibGVcbiAgICAgICAgbWFyZ2luLXRvcDogMi4xMjVlbTtcbiAgICB9XG5cbiAgICBbZGF0YS1oaWRlLXVzZXJib3hdICYge1xuICAgICAgICBtYXJnaW4tdG9wOiAwO1xuICAgIH1cbn1cblxuLnVzZXJib3gtbWVudS1ub3RpZmljYXRpb24ge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNkNjVmMzU7XG4gICAgYm9yZGVyLXJhZGl1czogLjNlbTtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgbGluZS1oZWlnaHQ6IDEuNWVtO1xuICAgIG1hcmdpbjogMCAuNWVtO1xuICAgIHBhZGRpbmc6IDAgLjVlbTtcblxuICAgICYuaGlkZGVuIHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG59XG4iLAoJCSIucnBfd2FpdHNwaW5uZXItYmcge1xuICAgIGZpbGw6IG5vbmU7XG4gICAgb3BhY2l0eTogLjI7XG4gICAgc3Ryb2tlOiBjdXJyZW50Y29sb3I7XG4gICAgc3Ryb2tlLWxpbmVjYXA6IHJvdW5kO1xuICAgIHN0cm9rZS13aWR0aDogMTY7XG59XG5cbi5ycF93YWl0c3Bpbm5lci1mZyB7XG4gICAgQGV4dGVuZCAucnBfd2FpdHNwaW5uZXItYmc7XG5cbiAgICBhbmltYXRpb246IHJwX3dhaXRzcGlubmVyLWFuaW1hdGlvbiAxcyBpbmZpbml0ZSBsaW5lYXI7XG4gICAgb3BhY2l0eTogMTtcbiAgICBzdHJva2UtZGFzaGFycmF5OiAwLCAwLCA3MCwgMTk0O1xuICAgIHN0cm9rZS1kYXNob2Zmc2V0OiAwO1xufVxuXG5Aa2V5ZnJhbWVzIHJwX3dhaXRzcGlubmVyLWFuaW1hdGlvbiB7XG4gICAgdG8ge1xuICAgICAgICBzdHJva2UtZGFzaG9mZnNldDogLTI2NDtcbiAgICB9XG59XG4iLAoJCSIgLy8gTG9vcCBvdmVyIGNvbG9ycyB0byBjcmVhdGUgYmFja2dyb3VuZCBjb2xvciBjbGFzc2VzXG5cbiRiYWNrZ3JvdW5kLWNvbG9yczogKFxuICAgIGJhc2ljOiAkbXRfY29sb3ItYmFzaWMsXG4gICAgYmFzaWNsaWdodGVyOiAkbXRfY29sb3ItYmFzaWMtYWx0LFxuICAgIGludmVyc2U6ICRtdF9jb2xvci1pbnZlcnNlXG4pO1xuXG5AZWFjaCAkbmFtZSwgJGNvbG9yIGluICRiYWNrZ3JvdW5kLWNvbG9ycyB7XG4gICAgLnJwX2JhY2tncm91bmQtLSN7JG5hbWV9IHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJG10X2NvbG9yLWJhc2ljO1xuICAgIH1cbn1cbiIsCgkJIkBpZiAkaW5jbHVkZS1mb250LWZhY2Uge1xuICAgIEBmb250LWZhY2Uge1xuICAgICAgZm9udC1mYW1pbHk6ICdpY29uZ3MnO1xuICAgICAgc3JjOiB1cmwoJy8vYXNzZXRzLm5hdGlvbmFsZ2VvZ3JhcGhpYy5jb20vaWNvbmdzXzAtMTEtMS9mb250cy9pY29uZ3MuZW90Jyk7IC8qIElFOSBDb21wYXQgTW9kZXMgKi9cbiAgICAgIHNyYzogdXJsKCcvL2Fzc2V0cy5uYXRpb25hbGdlb2dyYXBoaWMuY29tL2ljb25nc18wLTExLTEvZm9udHMvaWNvbmdzLmVvdD8jaWVmaXgnKSBmb3JtYXQoJ2VtYmVkZGVkLW9wZW50eXBlJyksIC8qIElFNi1JRTggKi9cbiAgICAgICAgICAgdXJsKCcvL2Fzc2V0cy5uYXRpb25hbGdlb2dyYXBoaWMuY29tL2ljb25nc18wLTExLTEvZm9udHMvaWNvbmdzLndvZmYnKSBmb3JtYXQoJ3dvZmYnKSwgLyogTW9kZXJuIEJyb3dzZXJzICovXG4gICAgICAgICAgIHVybCgnLy9hc3NldHMubmF0aW9uYWxnZW9ncmFwaGljLmNvbS9pY29uZ3NfMC0xMS0xL2ZvbnRzL2ljb25ncy50dGYnKSAgZm9ybWF0KCd0cnVldHlwZScpLCAvKiBTYWZhcmksIEFuZHJvaWQsIGlPUyAqL1xuICAgICAgICAgICB1cmwoJy8vYXNzZXRzLm5hdGlvbmFsZ2VvZ3JhcGhpYy5jb20vaWNvbmdzXzAtMTEtMS9mb250cy9pY29uZ3Muc3ZnI3N2Z0ZvbnROYW1lJykgZm9ybWF0KCdzdmcnKTsgLyogTGVnYWN5IGlPUyAqL1xuICAgIH1cbn1cbiIsCgkJIi5ycF9qZXdlbCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJGNvbG9yLWF0dGVudGlvbjtcbiAgICBib3JkZXItcmFkaXVzOiAuM2VtO1xuICAgIGNvbG9yOiAkY29sb3ItdGV4dC1hdHRlbnRpb247XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIGZvbnQtc2l6ZTogJGZvbnQtanc7XG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICBsaW5lLWhlaWdodDogMS41ZW07XG4gICAgbWFyZ2luOiAwIDFlbSAwIDAuM2VtO1xuICAgIHBhZGRpbmc6IDAgMC41ZW07XG5cbiAgICAucnBfdXNlcmJveC1saW5rICYge1xuICAgICAgICBtYXJnaW46IC0xLjFlbSAwIDAgLjNlbTtcbiAgICAgICAgcG9zaXRpb246IHN0YXRpYztcbiAgICB9XG59XG4iLAoJCSIvLyBMb29wIG92ZXIgY29sb3JzIHRvIGNyZWF0ZSB0ZXh0IGNvbG9yIGNsYXNzZXNcblxuJGJhY2tncm91bmQtY29sb3JzOiAoXG4gICAgaW52ZXJzZTogJG10X2NvbG9yLXRleHQtaW52ZXJzZSxcbiAgICBoaWdobGlnaHQ6ICRtdF9jb2xvci1oaWdobGlnaHRcbik7XG5cbkBlYWNoICRuYW1lLCAkY29sb3IgaW4gJGJhY2tncm91bmQtY29sb3JzIHtcbiAgICAucnBfdGV4dC0tI3skbmFtZX0ge1xuICAgICAgICBjb2xvcjogJGNvbG9yO1xuXG4gICAgICAgIGEge1xuICAgICAgICAgICAgY29sb3I6ICRjb2xvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIKCV0sCgkibWFwcGluZ3MiOiAiO0FXT0EsV0FBVyxDSkhZO0VBQ25CLGVBQWUsRUFBRSxRQUFTO0VBQzFCLGNBQWMsRUFBRSxDQUFFO0VBQ2xCLFlBQVksRUFBRSxHQUFJO0VBQ2xCLEtBQUssRUhJTyxPQUFHO0VHSGYsTUFBTSxFQUFFLElBQUs7RUFDYixTQUFTLEVBQUUsR0FBSTtFQUNmLFdBQVcsRUFBRSxJQUFLO0VBQ2xCLFdBQVcsRUprQkEsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsVUFBVTtFSWpCeEUsU0FBUyxFSmtCSSxJQUFJO0VJakJqQixVQUFVLEVBQUUsTUFBTztFQUNuQixZQUFZLEVBQUUsTUFBTztFQUNyQixXQUFXLEVBQUUsR0FBSTtFQUNqQixjQUFjLEVBQUUsTUFBTztFQUN2QixXQUFXLEVBQUUsTUFBTztFQUNwQixVQUFVLEVBQUUsaUJBQWtCO0VBQzlCLE9BQU8sRUFBRSxDQUFFO0VBQ1gsTUFBTSxFQUFFLHVCQUF3QjtFQUNoQyxVQUFVLEVBQUUsSUFBSztFQUNqQixXQUFXLEVBQUUsQ0FBRTtFQUNmLGNBQWMsRUFBRSxJQUFLO0VBQ3JCLFVBQVUsRUFBRSxPQUFRO0VBQ3BCLFdBQVcsRUFBRSxNQUFPO0VBQ3BCLE1BQU0sRUFBRSxDQUFFO0VBQ1YsWUFBWSxFQUFFLE1BQU8sR0FDeEI7O0FJdEJELFdBQVcsQ0o2QlAsQ0FBQyxFSTdCTCxXQUFXLENKOEJQLENBQUMsQUFBQSxPQUFPLEVJOUJaLFdBQVcsQ0orQlAsQ0FBQyxBQUFBLE1BQU0sQ0FBQztFQUNKLFVBQVUsRUFBRSxPQUFRO0VBQ3BCLFdBQVcsRUFBRSxNQUFPLEdBQ3ZCOztBSWxDTCxXQUFXLENKb0NQLE1BQU0sQUFBQSxrQkFBa0IsQ0FBQztFQUNyQixNQUFNLEVBQUUsQ0FBRTtFQUNWLE9BQU8sRUFBRSxDQUFFLEdBQ2Q7O0FJdkNMLFdBQVcsQ0p5Q1AsQ0FBQyxFSXpDTCxXQUFXLENKeUNQLENBQUMsQUQ3Q0EsS0FBSyxFS0lWLFdBQVcsQ0p5Q1AsQ0FBQyxBRDVDQSxRQUFRLEVLR2IsV0FBVyxDSnlDUCxDQUFDLEFEM0NBLE1BQU0sRUtFWCxXQUFXLENKeUNQLENBQUMsQUQxQ0EsT0FBTyxDQUFDO0VBQ0wsYUFBYSxFQU51RCxDQUFDLENBQUMsSUFBSTtFQU8xRSxLQUFLLEVBUGMsT0FBTztFQVExQixlQUFlLEVBUitCLElBQUksR0FTckQ7O0FPVkwscUJBQXFCLENMRVA7RUFDVixPQUFPLEVBQUUsS0FBTTtFQUNmLE1BQU0sRUFBRSxDQUFFO0VBQ1YsVUFBVSxFTkhFLEdBQUc7RU1JZixPQUFPLEVBQUUsR0FBYyxDQUFHLEtBQWMsR0FDM0M7O0FDTEQsaUJBQWlCLENBQUM7RUFDZCxnQkFBZ0IsRUFBRSxXQUFZO0VBQzlCLE1BQU0sRUFBRSxDQUFFO0VBQ1YsS0FBSyxFQUFFLE9BQVE7RUFDZixNQUFNLEVBQUUsT0FBUTtFQUNoQixXQUFXLEVBQUUsT0FBUSxHQUt4QjtFQVZELGlCQUFpQixBQU9aLE1BQU0sQ0FBQztJQUNKLE9BQU8sRUFBRSxDQUFFLEdBQ2Q7O0FDUkwsa0JBQWtCLENBQUM7RUFDZixNQUFNLEVBQUUsQ0FBRTtFQUNWLElBQUksRUFBRSxhQUFJO0VBQ1YsTUFBTSxFQUFFLEdBQUk7RUFDWixNQUFNLEVBQUUsSUFBSztFQUNiLFFBQVEsRUFBRSxNQUFPO0VBQ2pCLE9BQU8sRUFBRSxDQUFFO0VBQ1gsUUFBUSxFQUFFLFFBQVM7RUFDbkIsS0FBSyxFQUFFLEdBQUksR0FDZDs7QUNMRCxXQUFXLENBQVg7RUFHSSxzQkFBc0IsRUFBRSxXQUFZO0VBQ3BDLFVBQVUsRUFBRSxVQUFXO0VBQ3ZCLFdBQVcsRUFBRSxpQkFBa0I7RUFDL0IsTUFBTSxFQUFFLElBQUs7RUFDYixJQUFJLEVBQUUsQ0FBRTtFQUNSLFFBQVEsRUFBRSxNQUFPO0VBQ2pCLEdBQUcsRUFBRSxDQUFFO0VBQ1AsS0FBSyxFQUFFLElBQUs7RUFDWixPQUFPLEVOYkEsSUFBSSxHTWNkOztBQ2hCRCx3QkFBd0IsQ0FBQztFQUNyQixnQkFBZ0IsRVRTTSxLQUFHO0VTUnpCLFdBQVcsRUFBRSxHQUFHLENBQUMsS0FBSyxDVE9BLEtBQUc7RVNOekIsU0FBUyxFQUFFLE1BQU87RUFDbEIsV0FBVyxFQUFFLEdBQUk7RUFDakIsTUFBTSxFQUFFLENBQUU7RUFDVixPQUFPLEVBQUUsTUFBTztFQUNoQixRQUFRLEVBQUUsUUFBUztFQUNuQixLQUFLLEVBQUUsQ0FBRTtFQUNULEdBQUcsRUFBRSxDQUFFLEdBQ1Y7O0FDYkQscUJBQXFCLENBQUM7RUFHbEIsVUFBVSxFQUFFLElBQUs7RUFDakIsTUFBTSxFQUFFLENBQUU7RUFDVixNQUFNLEVBQUUsT0FBUTtFQUNoQixJQUFJLEVBQUUsSUFBSztFQUNYLFNBQVMsRVpLTyxJQUFJO0VZSnBCLFVBQVUsRUFBRSxDQUFFO0VBQ2QsUUFBUSxFQUFFLE1BQU87RUFDakIsT0FBTyxFQUFFLENBQUU7RUFDWCxXQUFXLEVBQUUsTUFBTztFQUNwQixLQUFLLEVBQUUsSUFBSztFQUNaLE9BQU8sRUFBRSxJQUFTLEdBOEVyQjtFQTNGRCxxQkFBcUIsQ0FlakIsbUJBQW1CLENBQUM7SUFDaEIsZ0JBQWdCLEVUWUcsS0FBSztJU1h4QixLQUFLLEVUVkcsT0FBRztJU1dYLE9BQU8sRUFBRSxLQUFNO0lBQ2YsU0FBUyxFQUFFLE9BQVE7SUFDbkIsV0FBVyxFQUFFLEdBQUk7SUFDakIsV0FBVyxFQUFFLEtBQU07SUFDbkIsTUFBTSxFQUFFLGlCQUFrQjtJQUMxQixTQUFTLEVBQUUsR0FBSTtJQUNmLE9BQU8sRUFBRSxDQUFFLEdBQ2Q7RUF6QkwscUJBQXFCLENBMkJqQixnQkFBZ0I7RUEzQnBCLHFCQUFxQixDQTRCakIsa0JBQWtCLENBQUM7SUFDZixPQUFPLEVBQUUsS0FBTTtJQUNmLFdBQVcsRUFBRSxHQUFJLEdBQ3BCO0VBL0JMLHFCQUFxQixDQWlDakIsZ0JBQWdCLEVBakNwQixxQkFBcUIsQ0FpQ2pCLGdCQUFnQixBUDlCZixLQUFLLEVPSFYscUJBQXFCLENBaUNqQixnQkFBZ0IsQVA3QmYsUUFBUSxFT0piLHFCQUFxQixDQWlDakIsZ0JBQWdCLEFQNUJmLE1BQU0sRU9MWCxxQkFBcUIsQ0FpQ2pCLGdCQUFnQixBUDNCZixPQUFPLENBQUM7SUFDTCxhQUFhLEVBTnVELENBQUMsQ0FBQyxJQUFJO0lBTzFFLEtBQUssRUhnQlMsT0FBRztJR2ZqQixlQUFlLEVBUitCLElBQUksR0FTckQ7RU9WTCxxQkFBcUIsQ0FxQ2pCLGtCQUFrQixDQUFDO0lBQ2YsVUFBVSxFVFZTLEtBQUs7SVNXeEIsS0FBSyxFVmZTLE9BQUc7SVVnQmpCLE1BQU0sRUFBRSxRQUFTO0lBQ2pCLFFBQVEsRUFBRSxRQUFTLEdBQ3RCO0VBMUNMLHFCQUFxQixDQTRDakIsa0JBQWtCLENBQUM7SUFHZixNQUFNLEVBRkcsR0FBRyxDQUFDLEtBQUssQ1ZwQkosT0FBRztJVXVCakIsYUFBYSxFQUFFLEdBQUk7SUFDbkIsS0FBSyxFVnpCUyxPQUFHO0lVMEJqQixPQUFPLEVBQUUsS0FBTTtJQUNmLFdBQVcsRUFBRSxHQUFJO0lBQ2pCLE1BQU0sRUFBRSxDQUFFO0lBQ1YsT0FBTyxFQUFFLFVBQVc7SUFDcEIsY0FBYyxFQUFFLElBQUssR0FjeEI7SUFwRUwscUJBQXFCLENBNENqQixrQkFBa0IsRUE1Q3RCLHFCQUFxQixDQTRDakIsa0JBQWtCLEFQekNqQixLQUFLLEVPSFYscUJBQXFCLENBNENqQixrQkFBa0IsQVB4Q2pCLFFBQVEsRU9KYixxQkFBcUIsQ0E0Q2pCLGtCQUFrQixBUHZDakIsTUFBTSxFT0xYLHFCQUFxQixDQTRDakIsa0JBQWtCLEFQdENqQixPQUFPLENBQUM7TUFDTCxhQUFhLEVPc0NKLEdBQUcsQ0FBQyxLQUFLLENWcEJKLE9BQUcsR0dmcEI7SU9WTCxxQkFBcUIsQ0E0Q2pCLGtCQUFrQixBQWViLE1BQU0sRUEzRGYscUJBQXFCLENBNENqQixrQkFBa0IsQUFnQmIsT0FBTyxDQUFDO01BQ0wsZ0JBQWdCLEVBQUUsT0FBTztNQUN6QixLQUFLLEVBQUUsT0FBTyxHQUNqQjtJQS9EVCxxQkFBcUIsQ0E0Q2pCLGtCQUFrQixDQXFCZCx3QkFBd0IsQ0FBQztNQUNyQixPQUFPLEVBQUUsSUFBSyxHQUNqQjtFQW5FVCxxQkFBcUIsQ0FzRWpCLHVCQUF1QixDQUFDO0lBQ3BCLE1BQU0sRUFBRSxHQUFHLENBQUMsS0FBSyxDVjlDSCxPQUFHO0lVK0NqQixhQUFhLEVBQUUsR0FBSTtJQUNuQixLQUFLLEVWakRTLE9BQUc7SVVrRGpCLE9BQU8sRUFBRSxLQUFNO0lBQ2YsV0FBVyxFQUFFLEdBQUk7SUFDakIsTUFBTSxFQUFFLENBQUU7SUFDVixTQUFTLEVBQUUsR0FBSTtJQUNmLE9BQU8sRUFBRSxVQUFXLEdBQ3ZCO0VBL0VMLHFCQUFxQixDQWlGakIsZUFBZSxDQUFDO0lBQ1osSUFBSSxFQUFFLElBQUs7SUFDWCxZQUFZLEVBQUUsS0FBTTtJQUNwQixRQUFRLEVBQUUsUUFBUztJQUNuQixjQUFjLEVBQUUsUUFBUyxHQUM1QjtFQXRGTCxxQkFBcUIsQ0F3RmpCLG1CQUFtQixDQUFDO0lBQ2hCLFdBQVcsRUFBRSxPQUFRLEdBQ3hCOztBQUdMLGdCQUFnQixDQUFDO0VBQ2IsT0FBTyxFQUFFLFlBQWE7RUFDdEIsU0FBUyxFVjdESCxRQUFPO0VVOERiLFNBQVMsRUFBRSxHQUFJO0VBQ2YsUUFBUSxFQUFFLE1BQU87RUFDakIsYUFBYSxFQUFFLFFBQVM7RUFDeEIsY0FBYyxFQUFFLE1BQU87RUFDdkIsV0FBVyxFQUFFLE1BQU8sR0FDdkI7O0FBRUQsd0JBQXdCLENBQUM7RUFDckIsZ0JBQWdCLEVBQUUsV0FBWTtFQUM5QixXQUFXLEVBQUUsQ0FBRTtFQUNmLEtBQUssRVQ5Rk8sT0FBRztFUytGZixLQUFLLEVBQUUsS0FBTTtFQUNiLFNBQVMsRUFBRSxJQUFLO0VBQ2hCLE9BQU8sRUFBRSxDQUFFO0VBQ1gsUUFBUSxFQUFFLFFBQVMsR0FDdEI7O0FBRUQsaUJBQWlCLENBQUM7RUFDZCxZQUFZLEVBQUUsSUFBSztFQUNuQixVQUFVLEVBQUUsU0FBUyxDQUFDLEtBQTBCLENBQUssTUFBTSxHQU05RDtHQUpHLEFBQUEsWUFBQyxDQUFhLE1BQU0sQUFBbkIsRUFKTCxpQkFBaUI7RUFLYixxQkFBcUIsQUFBQSxLQUFLLENBTDlCLGlCQUFpQixDQUtnQjtJQUN6QixTQUFTLEVBQUUsZUFBTSxDQUFVLHVCQUFTLEdBQ3ZDOztBQUdMLDBCQUEwQixDQUFDO0VBRXZCLGdCQUFnQixFQUFFLDhnRkFBRztFQUNyQixpQkFBaUIsRUFBRSxTQUFVO0VBQzdCLGVBQWUsRUFBRSxPQUFRO0VBQ3pCLE9BQU8sRUFBRSxZQUFhO0VBQ3RCLE1BQU0sRUFBRSxJQUFLO0VBQ2IsWUFBWSxFQUFFLElBQUs7RUFDbkIsY0FBYyxFQUFFLE1BQU87RUFDdkIsS0FBSyxFQUFFLElBQUssR0FDZjs7QUFFRCxrQkFBa0IsQ0FBQztFQUNmLE1BQU0sRUFBRSxJQUFLO0VBQ2IsS0FBSyxFQUFFLElBQUssR0FDZjs7QUFFRCx3QkFBd0IsQ0FBQztFQUNyQixnQkFBZ0IsRVQ5SEosT0FBRztFUytIZixhQUFhLEVBQUUsSUFBSztFQUNwQixLQUFLLEVUbklPLE9BQUc7RVNvSWYsT0FBTyxFQUFFLFlBQWE7RUFDdEIsU0FBUyxFQUFFLElBQUs7RUFDaEIsV0FBVyxFQUFFLEdBQUk7RUFDakIsV0FBVyxFQUFFLEtBQU07RUFDbkIsTUFBTSxFQUFFLFNBQVU7RUFDbEIsT0FBTyxFQUFFLE1BQU8sR0FLbkI7RUFkRCx3QkFBd0IsQUFXbkIsTUFBTSxDQUFDO0lBQ0osT0FBTyxFQUFFLElBQUssR0FDakI7O0FBR0wsZ0JBQWdCLENBQUM7RUFDYixnQkFBZ0IsRVZsSk0sSUFBSTtFVW1KMUIsVUFBVSxFQUFFLFVBQVc7RUFDdkIsV0FBVyxFQUFFLEdBQUk7RUFDakIsZUFBZSxFQUFFLElBQUs7RUFDdEIsTUFBTSxFQUFFLENBQUU7RUFDVixVQUFVLEVBQUUsQ0FBRTtFQUNkLFFBQVEsRUFBRSxNQUFPO0VBQ2pCLE9BQU8sRUFBRSxDQUFFO0VBQ1gsUUFBUSxFQUFFLFFBQVM7RUFDbkIsVUFBVSxFQUNWLFVBQVUsQ1psS2MsSUFBRyxDQUNJLE1BQU07RVlzS3JDLE9BQU8sRVJ0S0EsSUFBUyxHUWtObkI7R0ExQ0csQUFBQSxZQUFDLENBQWEsTUFBTSxBQUFuQixFQWxCTCxnQkFBZ0I7RUFtQloscUJBQXFCLEFBQUEsS0FBSyxDQW5COUIsZ0JBQWdCLENBbUJpQjtJQUN6QixVQUFVLEVBQUUsQ0FBRTtJQUNkLFVBQVUsRUFBRSxJQUFLLEdBQ3BCO0VBRUQsV0FBVyxDQXhCZixnQkFBZ0IsQ0F3Qlo7SUFDSSxnQkFBZ0IsRVR6SkcsS0FBSyxHUzBKM0I7RUExQkwsZ0JBQWdCLENBNkJaLEVBQUUsQUFDRyxZQUFZLENBQUM7SUFDVixXQUFXLEVBQUUsSUFBSyxHQUNyQjtFQWhDVCxnQkFBZ0IsQ0E2QlosRUFBRSxBQUtHLFdBQVcsQ0FBQztJQUNULGNBQWMsRUFBRSxJQUFLLEdBQ3hCO0VBcENULGdCQUFnQixDQXVDWixFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ0QsT0FBTyxFQUFFLEtBQU07SUFDZixTQUFTLEVWbktQLFFBQU87SVVvS1QsT0FBTyxFQUFFLGVBQWdCLEdBUzVCO0lBbkRMLGdCQUFnQixDQXVDWixFQUFFLENBQUMsQ0FBQyxBQUtDLE1BQU0sQ0FBQztNQUNKLFVBQVUsRVY3TEksS0FBRyxHVWtNcEI7TUFIRyxXQUFXLENBL0N2QixnQkFBZ0IsQ0F1Q1osRUFBRSxDQUFDLENBQUMsQUFLQyxNQUFNLENBR0g7UUFDSSxnQkFBZ0IsRVZuTFYsT0FBRyxHVW9MWjtFQWpEYixnQkFBZ0IsQ0FxRFosRUFBRSxFQXJETixnQkFBZ0IsQ0FxRFIsQ0FBQyxDQUFDO0lBQ0YsV0FBVyxFQUFFLE9BQVEsR0FDeEI7RUFFRCxxQkFBcUIsQ0F6RHpCLGdCQUFnQixDQXlEWSxFQUFFLEFBQUEsWUFBWSxDQUFDO0lBQ25DLFVBQVUsRUFBRSxDQUFFLEdBQ2pCOztDQUlELEFBQUEsWUFBQyxDQUFhLE1BQU0sQUFBbkIsRUFETCxXQUFXLENBQ2lCO0VBSXBCLFVBQVUsRUFBRSxPQUFRLEdBQ3ZCOztDQUVELEFBQUEsaUJBQUMsQUFBQSxFQVJMLFdBQVcsQ0FRZTtFQUNsQixVQUFVLEVBQUUsQ0FBRSxHQUNqQjs7QUFHTCwwQkFBMEIsQ0FBQztFQUN2QixnQkFBZ0IsRUFBRSxPQUFRO0VBQzFCLGFBQWEsRUFBRSxJQUFLO0VBQ3BCLEtBQUssRUFBRSxJQUFLO0VBQ1osT0FBTyxFQUFFLFlBQWE7RUFDdEIsV0FBVyxFQUFFLEtBQU07RUFDbkIsTUFBTSxFQUFFLE1BQU87RUFDZixPQUFPLEVBQUUsTUFBTyxHQUtuQjtFQVpELDBCQUEwQixBQVNyQixPQUFPLENBQUM7SUFDTCxPQUFPLEVBQUUsSUFBSyxHQUNqQjs7QUNsUEwsa0JBQWtCLEVBUWxCLGtCQUFrQixDQVJDO0VBQ2YsSUFBSSxFQUFFLElBQUs7RUFDWCxPQUFPLEVBQUUsRUFBRztFQUNaLE1BQU0sRUFBRSxZQUFhO0VBQ3JCLGNBQWMsRUFBRSxLQUFNO0VBQ3RCLFlBQVksRUFBRSxFQUFHLEdBQ3BCOztBQUVELGtCQUFrQixDQUFDO0VBR2YsU0FBUyxFQUFFLDJDQUE0QztFQUN2RCxPQUFPLEVBQUUsQ0FBRTtFQUNYLGdCQUFnQixFQUFFLGFBQWM7RUFDaEMsaUJBQWlCLEVBQUUsQ0FBRSxHQUN4Qjs7QUFFRCxVQUFVLENBQUMsd0JBQXdCO0VBQy9CLEVBQUU7SUFDRSxpQkFBaUIsRUFBRSxJQUFLOztBQ1Y1QixxQkFBcUIsQ0FBckI7RUFDSSxnQkFBZ0IsRVhnQkcsS0FBSyxHV2YzQjs7QUFGRCw0QkFBNEIsQ0FBNUI7RUFDSSxnQkFBZ0IsRVhnQkcsS0FBSyxHV2YzQjs7QUFGRCx1QkFBdUIsQ0FBdkI7RUFDSSxnQkFBZ0IsRVhnQkcsS0FBSyxHV2YzQjs7QUVYTCxTQUFTLENBQUM7RUFDTixnQkFBZ0IsRWRPTSxPQUFHO0VjTnpCLGFBQWEsRUFBRSxJQUFLO0VBQ3BCLEtBQUssRWRlaUIsSUFBSTtFY2QxQixPQUFPLEVBQUUsWUFBYTtFQUN0QixTQUFTLEVkOEJILEtBQUk7RWM3QlYsV0FBVyxFQUFFLEdBQUk7RUFDakIsV0FBVyxFQUFFLEtBQU07RUFDbkIsTUFBTSxFQUFFLGFBQWM7RUFDdEIsT0FBTyxFQUFFLE9BQVEsR0FNcEI7RUFKRyxnQkFBZ0IsQ0FYcEIsU0FBUyxDQVdjO0lBQ2YsTUFBTSxFQUFFLGVBQWdCO0lBQ3hCLFFBQVEsRUFBRSxNQUFPLEdBQ3BCOztBQ05ELGlCQUFpQixDQUFqQjtFQUNJLEtBQUssRWRHRyxPQUFHLEdjRWQ7RUFORCxpQkFBaUIsQ0FHYixDQUFDLENBQUM7SUFDRSxLQUFLLEVkQUQsT0FBRyxHY0NWOztBQUxMLG1CQUFtQixDQUFuQjtFQUNJLEtBQUssRWRJRyxPQUFHLEdjQ2Q7RUFORCxtQkFBbUIsQ0FHZixDQUFDLENBQUM7SUFDRSxLQUFLLEVkQ0QsT0FBRyxHY0FWIiwKCSJuYW1lcyI6IFtdCn0= */");},{sassify:11}],2:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}var e=a("react"),f=d(e),g=a("react-dom"),h=d(g),i=a("./member"),j=d(i),k=document.getElementsByClassName("NGS_regpkg");if(k.length<1)throw new Error("There is no element on the page to render Registration Package");[].map.call(k,function(a){return h.default.render(f.default.createElement(j.default,null),a)})},{"./member":4,react:"react","react-dom":"react-dom"}],3:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0}),c.notificationsKey=c.endpoints=void 0;var e=a("lodash/merge"),f=d(e);window.NGS=(0,f.default)({modules:{rp:{pageConfig:{endpoints:{members:"https://members.nationalgeographic.com",mmdb:"https://mmdb.nationalgeographic.com",notifications:"https://notifications.nationalgeographic.com"},notificationsKey:"e6c4b4af844c454fc2110a4d09828559489837313bd2e519cf"}}}},window.NGS);c.endpoints=window.NGS.modules.rp.pageConfig.endpoints,c.notificationsKey=window.NGS.modules.rp.pageConfig.notificationsKey},{"lodash/merge":"lodash/merge"}],4:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("react"),f=d(e),g=a("./menu"),h=d(g),i=(a("es6-promise"),a("./defaults")),j=a("./request"),k=a("./storage"),l=d(k),m=a("./polyfills"),n=d(m),o=new n.default("ngsLoggedIn"),p=new n.default("ngsLoggedOut"),q="memFrag/User/",r=(a("./_scss/main.scss"),f.default.createClass({displayName:"Member",propTypes:{originUrl:f.default.PropTypes.string},getDefaultProps:function(){return{originUrl:document.URL}},getInitialState:function(){var a={status:"true"===l.default.getStorage(q+"status"),display_name:l.default.getStorage(q+"display_name"),avatar_in_use:l.default.getStorage(q+"avatar_in_use"),social_avatar:{url:l.default.getStorage(q+"social_avatar/url")},custom_avatar:{url:l.default.getStorage(q+"custom_avatar/url")},public_profile_url:l.default.getStorage(q+"public_profile_url")};return{onGettingUser:!a.status,user:a,signedIn:a.status}},componentWillMount:function(){var a=this;l.default.setStorage({originUrl:this.props.originUrl}),this.state.signedIn?window.dispatchEvent(o):(this.setState({onGettingUser:!0}),(0,j.requestMMDB)("getUser").then(function(b){return b&&200===b.status&&b.user?(l.default.setStorage(b.user),a.setState({signedIn:!0,user:b.user,onGettingUser:!1})):void a.setState({onGettingUser:!1,signedIn:!1})},function(b){a.setState({onGettingUser:!1,signedIn:!1})}))},componentDidUpdate:function(a,b){this.state.onGettingUser||(this.state.signedIn?(l.default.setStorage({status:"true"}),window.dispatchEvent(o)):b.signedIn&&(l.default.setStorage({status:"false"}),window.dispatchEvent(p)))},handleLogoutClick:function(){(0,j.requestMMDB)("logout"),l.default.clearStorage(),this.setState({signedIn:!1})},render:function(){return f.default.createElement("div",{className:"rp_userbox-container","data-userbox":"closed"},this.state.signedIn?null:f.default.createElement("a",{href:i.endpoints.members+"/account/?url="+this.props.originUrl,className:"rp_userbox-wrapper NGS_regpkg-button "+(this.state.onGettingUser?"NGS_regpkg--loading":"")},"Sign In or Join"),this.state.signedIn?f.default.createElement(h.default,{logoutClick:this.handleLogoutClick,user:this.state.user}):null)}}));c.default=r,b.exports=c.default},{"./_scss/main.scss":1,"./defaults":3,"./menu":5,"./polyfills":7,"./request":8,"./storage":9,"es6-promise":"es6-promise",react:"react"}],5:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./defaults"),f=a("react"),g=d(f),h=a("./request"),i=a("./notifications"),j=d(i),k=a("./storage"),l=(d(k),void 0),m=g.default.createClass({displayName:"Menu",propTypes:{user:g.default.PropTypes.object,logoutClick:g.default.PropTypes.func.isRequired},getInitialState:function(){return{notifications:0}},componentDidMount:function(){this.updateNotifications(),l=setInterval(this.updateNotifications,5e4)},componentWillUnmount:function(){window.clearInterval(l)},handleMenuClick:function(){var a=document.querySelector(".rp_userbox-container");a.setAttribute("data-userbox","closed"===a.getAttribute("data-userbox")?"open":"closed")},render:function(){var a=this.props.user,b=null,c=null;return b="social"===a.avatar_in_use?a.social_avatar.url:a.custom_avatar.url,null!==b&&""!==b&&(c=g.default.createElement("img",{className:"rp_userbox-avatar",src:e.endpoints.members.replace(/^(https?):\/\//,"//")+"/exposure/transcode/30/30/?url="+b})),g.default.createElement("div",null,g.default.createElement("div",{className:"rp_userbox-button",onClick:this.handleMenuClick},g.default.createElement("div",{className:"rp_userbox-avatar-wrapper"},c),g.default.createElement("span",{className:"rp_userbox-name"},a.display_name),g.default.createElement(j.default,{number:this.state.notifications}),g.default.createElement("button",{className:"rp_navlist-subnavbutton rp_userbox-subnavbutton rp_button--naked"},g.default.createElement("i",{className:"icongs icongs-directiondown rp_userbox-arrow"}))),g.default.createElement("ul",{className:"rp_userbox-menu"},g.default.createElement("li",null,g.default.createElement("a",{href:a.public_profile_url},"Public Profile")),g.default.createElement("li",null,g.default.createElement("a",{className:"rp_userbox-link",href:e.endpoints.members+"/inbox/"},"Inbox",g.default.createElement("span",{className:"rp_JS_notifications rp_userbox-notification visuallyhidden"}),g.default.createElement(j.default,{number:this.state.notifications}))),g.default.createElement("li",null,g.default.createElement("a",{className:"rp_userbox-link",href:e.endpoints.members+"/settings/account/"},"Account Settings")),g.default.createElement("li",null,g.default.createElement("a",{className:"rp_userbox-link",href:e.endpoints.members+"/settings/public-profile/"},"Profile Settings")),g.default.createElement("li",null,g.default.createElement("a",{className:"rp_userbox-link",href:e.endpoints.members+"/settings/interests/"},"Interests")),g.default.createElement("li",null,g.default.createElement("a",{className:"rp_userbox-link",href:e.endpoints.members+"/settings/notifications/"},"Notifications")),g.default.createElement("li",null,g.default.createElement("a",{className:"rp_userbox-link",href:e.endpoints.members+"/settings/benefits/"},"Benefits")),g.default.createElement("li",null,g.default.createElement("a",{className:"rp_userbox-link",href:"http://help.nationalgeographic.com/",target:"_blank"},"Help")),g.default.createElement("li",null,g.default.createElement("a",{className:"rp_userbox-link rp_userbox-logout",onClick:this.props.logoutClick},"Log Out"))))},updateNotifications:function(){var a=this,b=(0,h.requestMMDB)("getNotifications");b.then(function(b){a.setState({notifications:b})})}});c.default=m,b.exports=c.default},{"./defaults":3,"./notifications":6,"./request":8,"./storage":9,react:"react"}],6:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("react"),f=d(e),g=f.default.createClass({displayName:"Notification",propTypes:{number:f.default.PropTypes.number},render:function(){return this.props.number>0?f.default.createElement("span",{className:"rp_jewel"},this.props.number):f.default.createElement("span",null)}});c.default=g,b.exports=c.default},{react:"react"}],7:[function(a,b,c){"use strict";function d(a,b){var c=b||{bubbles:!1,cancelable:!1,detail:void 0},d=document.createEvent("CustomEvent");return d.initCustomEvent(a,c.bubbles,c.cancelable,c.detail),d}Object.defineProperty(c,"__esModule",{value:!0}),d.prototype=window.Event.prototype,c.default=d,b.exports=c.default},{}],8:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(){function a(a){if(d=a.status,d>=200&&300>d||403===d)return a.json();var b=new Error(a.statusText);throw b.response=a,b}var b=arguments.length<=0||void 0===arguments[0]?"getUser":arguments[0],c={logout:function(){return fetch(f.endpoints.mmdb+"/api/v1/auth/logout/",{method:"post",headers:{"Content-Type":"application/json,charset=utf-8"},credentials:"include"})},getUser:function(){return fetch(f.endpoints.mmdb+"/api/v1/session/?format=json",{credentials:"include"})},getNotifications:function(){return fetch(f.endpoints.notifications+"/api/1.0/inbox/"+h.default.getStorage("memFrag/User/id")+("/unread/?api_key="+f.notificationsKey))}},d=void 0,e=b in c?c[b]:fetch;return e().then(a).then(function(a){return a.status=d,"getNotifications"===b?a.count:a}).catch(function(a){console.log("Request failed",a);var b=new Error(a);return b.status=d,b})}Object.defineProperty(c,"__esModule",{value:!0}),c.requestMMDB=e;var f=a("./defaults");a("whatwg-fetch");var g=a("./storage"),h=d(g)},{"./defaults":3,"./storage":9,"whatwg-fetch":"whatwg-fetch"}],9:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},e="function"==typeof Symbol&&"symbol"===d(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":d(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":"undefined"==typeof a?"undefined":d(a)};Object.defineProperty(c,"__esModule",{value:!0});var f=localStorage,g="memFrag/User/",h={setStorage:function(a){if("object"===("undefined"==typeof a?"undefined":e(a))||"null"===a){var b=function(b){if(a.hasOwnProperty(b)){var c=a[b];if(c instanceof Array)c[0]instanceof Object?!function(){var a=[];c.reduce(function(c){for(var d in c)c.hasOwnProperty(d)&&a.push(c[d]);f.setItem(""+g+b,a)})}():f.setItem(""+g+b,c);else if(c instanceof Object)for(var d in c)c.hasOwnProperty(d)&&f.setItem(""+g+b+"/"+d,c[d]);else f.setItem(""+g+b,c)}};for(var c in a)b(c)}},getStorage:function(a){return f.getItem(a)?f.getItem(a):f.getItem(a.replace(/_\w/g,function(a){return a[1].toUpperCase()}))},clearStorage:function(){for(var a in localStorage)localStorage.hasOwnProperty(a)&&-1!==a.indexOf(""+g)&&a!==g+"/status"&&f.removeItem(a)}};c.default=h,b.exports=c.default},{}],10:[function(a,b,c){b.exports=function(a,b){var c=b||document;if(c.createStyleSheet){var d=c.createStyleSheet();return d.cssText=a,d.ownerNode}var e=c.getElementsByTagName("head")[0],f=c.createElement("style");return f.type="text/css",f.styleSheet?f.styleSheet.cssText=a:f.appendChild(c.createTextNode(a)),e.appendChild(f),f},b.exports.byUrl=function(a){if(document.createStyleSheet)return document.createStyleSheet(a).ownerNode;var b=document.getElementsByTagName("head")[0],c=document.createElement("link");return c.rel="stylesheet",c.href=a,b.appendChild(c),c}},{}],11:[function(a,b,c){b.exports=a("cssify")},{cssify:10}]},{},[2])(2)})}).call(this,"undefined"!=typeof d?d:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[3])(3)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],166:[function(a,b,c){function d(){k&&h&&(k=!1,h.length?j=h.concat(j):l=-1,j.length&&e())}function e(){if(!k){var a=setTimeout(d);k=!0;for(var b=j.length;b;){for(h=j,j=[];++l<b;)h&&h[l].run();l=-1,b=j.length}h=null,k=!1,clearTimeout(a)}}function f(a,b){this.fun=a,this.array=b}function g(){}var h,i=b.exports={},j=[],k=!1,l=-1;i.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];j.push(new f(a,b)),1!==j.length||k||setTimeout(e,0)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.binding=function(a){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(a){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],167:[function(a,b,c){"use strict";function d(a,b){if(a===b)return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(var f=e.bind(b),g=0;g<c.length;g++)if(!f(c[g])||a[c[g]]!==b[c[g]])return!1;return!0}var e=Object.prototype.hasOwnProperty;b.exports=d},{}],168:[function(a,b,c){b.exports=a("react/lib/ReactComponentWithPureRenderMixin")},{"react/lib/ReactComponentWithPureRenderMixin":169}],169:[function(a,b,c){"use strict";var d=a("./shallowCompare"),e={shouldComponentUpdate:function(a,b){return d(this,a,b)}};b.exports=e},{"./shallowCompare":170}],170:[function(a,b,c){"use strict";function d(a,b,c){return!e(a.props,b)||!e(a.state,c)}var e=a("fbjs/lib/shallowEqual");b.exports=d},{"fbjs/lib/shallowEqual":167}],"platform/v2/components/Common/components/Images/Images.jsx":[function(a,b,c){"use strict";var d=a("react"),e=a("./ImageNaturalHeight.jsx"),f=a("./ImageFramed.jsx"),g=d.createClass({displayName:"ImageComponent",propTypes:{image:d.PropTypes.shape({url:d.PropTypes.string.isRequired,altText:d.PropTypes.string,circleFrame:d.PropTypes.bool,frameAspectRatio:d.PropTypes.number,letterbox:d.PropTypes.bool,imageCrop:d.PropTypes.string,aspectRatio:d.PropTypes.number,isVideo:d.PropTypes.bool,isYourShotImage:d.PropTypes.bool,lazyLoad:d.PropTypes.bool,sizes:d.PropTypes.object,widthOverride:d.PropTypes.string}).isRequired,onLoad:d.PropTypes.func,onRendered:d.PropTypes.func},getDefaultProps:function(){return{image:{isVideo:!1,lazyLoad:!0,letterbox:!1,circleFrame:!1}}},shouldComponentUpdate:function(a){return a!==this.props},load:function(){this.props.image.lazyLoad&&this.refs.image.load()},render:function(){return this.props.image.frameAspectRatio>0?d.createElement(f,{ref:"image",image:this.props.image,onLoad:this.props.onLoad}):d.createElement(e,{ref:"image",image:this.props.image,onLoad:this.props.onLoad})}});b.exports=g},{"./ImageFramed.jsx":27,"./ImageNaturalHeight.jsx":28,react:"react"}],"platform/v2/components/GenericModal/GenericModal.jsx":[function(a,b,c){"use strict";var d=a("jquery"),e=a("react"),f=d(document.body),g=(a("velocity-animate"),e.createClass({displayName:"GenericModal",propTypes:{className:e.PropTypes.string,outerClickClose:e.PropTypes.bool,displayCloseButton:e.PropTypes.bool,transitionSpeed:e.PropTypes.number,transitionType:e.PropTypes.string,disableScrollOnShow:e.PropTypes.bool},getDefaultProps:function(){return{className:"ngs-generic-modal",outerClickClose:!0,transitionSpeed:250,transitionType:"fade",displayCloseButton:!0,disableScrollOnShow:!1,onClose:function(){},onModalClick:function(){}}},getInitialState:function(){return this.shouldRender=!1,{opacity:0,visibility:"hidden",renderNGSModal:!1}},componentDidMount:function(){f.on("keydown.GenericModal",this.handleKeyDown)},componentWillUnMount:function(){f.off("keydown.GenericModal")},handleKeyDown:function(a){27==a.keyCode&&this.props.onClose(a)},componentWillReceiveProps:function(a){var b=this;if(this.props.renderNGSModal!=a.renderNGSModal){var c=function(){b.shouldRender=a.renderNGSModal,b.setState({renderNGSModal:a.renderNGSModal})};a.transitionSpeed?a.renderNGSModal===!0?this.transitionIn():"expand"===this.props.transitionType?c():this.transitionOut():c(),a.disableScrollOnShow&&NGS.platform.sandbox.coreArticleHelpers.disableScrollEvent(a.renderNGSModal)}},transitionIn:function(){var a=this,b="slide"!==this.props.transitionType?{opacity:1}:{left:0,bottom:0},c=function(){d.Velocity(a.refs.modalWindow,b,{duration:a.props.transitionSpeed})},e=function(){d.Velocity(a.refs.modalWindow,{scale:"80%",opacity:0},{duration:1,complete:function(){d.Velocity(a.refs.modalWindow,{scale:"100%",opacity:1},{duration:a.props.transitionSpeed,easing:"ease-in"})}})};this.shouldRender=!0;var f="expand"===this.props.transitionType?e:c;this.setState({renderNGSModal:!0},f)},transitionOut:function(){var a=this;d.Velocity(this.refs.modalWindow,{opacity:0},{duration:this.props.transitionSpeed,complete:function(){a.refs.modalWindow.removeAttribute("style"),a.setState({renderNGSModal:!1})}})},hideOnOuterClick:function(a){this.props.outerClickClose!==!1&&a.target.dataset.modal&&this.props.onClose(a)},onModalClick:function(a){"function"==typeof this.props.onModalClick&&this.props.onModalClick(a)},render:function(){if(!this.shouldRender)return null;var a="slide"===this.props.transitionType?this.props.className+" ngs-generic-modal__slide":this.props.className;return this.state.renderNGSModal||(a+=" ngs-generic-modal--off-screen"),e.createElement("div",{className:a,ref:"modalWindow",onClick:this.onModalClick,"data-modal-root":"true"},this.props.displayCloseButton?e.createElement("i",{className:"icongs icongs-close close-modal",onClick:this.props.onClose}):null,e.createElement("div",{ref:"modalWrapper",className:"ngs-generic-modal__scroll-wrapper",onClick:this.hideOnOuterClick,"data-modal":"true"},this.props.children))}}));b.exports=g},{jquery:"jquery",react:"react","velocity-animate":"velocity-animate"}],"platform/v2/scripts/main.js":[function(a,b,c){"use strict";var d=function(){window.jQuery=window.$=a("jquery"),window.Pestle=a("@natgeo/pestle");var b=a("lodash/each"),c=jQuery,d=jQuery.noConflict();!function(c,d,e){window.NGS={platform:function(){return new e.Core({debug:{logLevel:0}})}()},NGS.platform.kicker=a("../components/Kicker/kicker.js"),NGS.platform.article=a("../templates/article.js");var f=[a("../extensions/platformutils.js"),a("../extensions/aem.js"),a("../extensions/taxonomy.js"),a("../extensions/coreArticleHelpers.js"),a("../extensions/keyboardevents.js"),a("../extensions/activeEngagement.js"),a("../extensions/stickyBehavior.js"),a("../extensions/ads.js")];a("./libs/jquery.dotdotdot.js"),a("swiper"),a("./libs/idle-timer.min.js"),a("./modules/cinematic.js"),a("../components/GlobalFooter/GlobalFooter.js"),a("../components/GlobalNav/GlobalNav.js"),a("../components/Common/Icon/Icon.js"),a("../components/CallToActionButton/CallToActionButton.js"),a("../components/EmbeddedVideoPromo/EmbeddedVideoPromo.js"),a("../components/UniversalVideo/UniversalVideo.js"),a("../components/BackgroundVideo/BackgroundVideo.js"),a("../components/MapMarker/MapMarker.js"),a("../components/MostPopular/MostPopular.js"),a("../components/social/AddThis/AddThis.js"),a("../components/stickyBar/stickyBar.js"),a("../components/Galleries/Inline/Inline.js"),a("../components/Galleries/Presentation/Presentation.js"),a("../components/ImmersiveLead/ImmersiveLead.js"),a("../components/promo/variantCarousel/variantCarousel.js"),a("../components/promo/editorsPicks/editorsPicks.js"),a("../components/DynamicContent/PromoFeed/PromoFeed.js"),a("../components/DynamicContent/ThumbnailCarousel/ThumbnailCarousel.js"),a("../components/Date/Date.js"),a("../components/TitleAndDek/TitleAndDek.js"),a("../components/promo/pin/pin.js"),a("../components/social/livefyre/Comments/Comments.js"),a("../components/MultiLayoutPromos/MultiLayoutPromos.js"),a("../components/ContentSeparator/ContentSeparator.js"),a("../components/SecondaryNav/SecondaryNav.js"),a("../components/JumpMenu/JumpMenu.js"),a("../components/JumpMenuStandAlone/JumpMenuStandAlone.js"),a("../components/LinkList/LinkList.js"),a("../components/NavRibbon/NavRibbon.js"),a("../components/GenericModal/GenericModal.js"),a("../components/LinkList/LinkList.js"),a("../components/SocialButtons/CommentButton.js"),a("../components/SocialButtons/SocialMobile.js"),a("../components/SocialButtons/CommentsCallToActionButton.js"),a("../components/Picturefill/PictureFill.js"),a("../components/VideoModal/VideoModal.js"),a("../components/PreFooter/PreFooter.js"),a("../components/SiblingCarousel/SiblingCarousel.js"),a("../components/promo/CTAPromo/CTAPromo.js"),a("../components/Listicle/Listicle.js"),a("../components/InteractiveStickyNav/InteractiveStickyNav.js"),a("../components/InDepthContent/InDepthContent.js"),a("../components/ImageGroup/ImageGroup.js"),a("../components/AccordionDrawer/AccordionDrawer.js"),a("../components/Galleries/YourShot/YourShot.js"),a("../components/ContributorCards/ContributorCards.js"),a("../components/GenericCTAPromo/GenericCTAPromo.js"),a("../components/Search/Search.js"),a("../components/DidYouKnow/DidYouKnow.js"),a("../components/Audio/Audio.js"),b(f,function(a){NGS.platform.addExtension(a)}),NGS.core_site=NGS.platform,NGS.core_site.dfp={template:c("meta[name='dfp:template']").attr("content")||"article"},NGS.platform.article.init()}(d,c,Pestle)};b.exports=d},{"../components/AccordionDrawer/AccordionDrawer.js":1,"../components/Audio/Audio.js":17,"../components/BackgroundVideo/BackgroundVideo.js":18,"../components/CallToActionButton/CallToActionButton.js":20,"../components/Common/Icon/Icon.js":22,"../components/ContentSeparator/ContentSeparator.js":32,"../components/ContributorCards/ContributorCards.js":35,"../components/Date/Date.js":37,"../components/DidYouKnow/DidYouKnow.js":38,"../components/DynamicContent/PromoFeed/PromoFeed.js":40,"../components/DynamicContent/ThumbnailCarousel/ThumbnailCarousel.js":42,"../components/EmbeddedVideoPromo/EmbeddedVideoPromo.js":44,"../components/Galleries/Inline/Inline.js":47,"../components/Galleries/Presentation/Presentation.js":52,"../components/Galleries/YourShot/YourShot.js":64,"../components/GenericCTAPromo/GenericCTAPromo.js":68,"../components/GenericModal/GenericModal.js":70,"../components/GlobalFooter/GlobalFooter.js":71,"../components/GlobalNav/GlobalNav.js":72,"../components/ImageGroup/ImageGroup.js":75,"../components/ImmersiveLead/ImmersiveLead.js":77,"../components/InDepthContent/InDepthContent.js":80,"../components/InteractiveStickyNav/InteractiveStickyNav.js":81,"../components/JumpMenu/JumpMenu.js":87,"../components/JumpMenuStandAlone/JumpMenuStandAlone.js":89,"../components/Kicker/kicker.js":92,"../components/LinkList/LinkList.js":93,"../components/Listicle/Listicle.js":95,"../components/MapMarker/MapMarker.js":97,"../components/MostPopular/MostPopular.js":98,"../components/MultiLayoutPromos/MultiLayoutPromos.js":100,"../components/NavRibbon/NavRibbon.js":112,"../components/Picturefill/PictureFill.js":116,"../components/PreFooter/PreFooter.js":120,"../components/Search/Search.js":124,"../components/SecondaryNav/SecondaryNav.js":126,"../components/SiblingCarousel/SiblingCarousel.js":129,"../components/SocialButtons/CommentButton.js":131,"../components/SocialButtons/CommentsCallToActionButton.js":133,"../components/SocialButtons/SocialMobile.js":134,"../components/TitleAndDek/TitleAndDek.js":137,"../components/UniversalVideo/UniversalVideo.js":138,"../components/VideoModal/VideoModal.js":139,"../components/promo/CTAPromo/CTAPromo.js":141,"../components/promo/editorsPicks/editorsPicks.js":143,"../components/promo/pin/pin.js":144,"../components/promo/variantCarousel/variantCarousel.js":145,"../components/social/AddThis/AddThis.js":146,"../components/social/livefyre/Comments/Comments.js":150,"../components/stickyBar/stickyBar.js":151,"../extensions/activeEngagement.js":152,"../extensions/ads.js":153,"../extensions/aem.js":154,"../extensions/coreArticleHelpers.js":155,"../extensions/keyboardevents.js":156,"../extensions/platformutils.js":157,"../extensions/stickyBehavior.js":158,"../extensions/taxonomy.js":159,"../templates/article.js":163,"./libs/idle-timer.min.js":160,"./libs/jquery.dotdotdot.js":161,"./modules/cinematic.js":162,"@natgeo/pestle":"@natgeo/pestle",jquery:"jquery","lodash/each":"lodash/each",swiper:"swiper"}]},{},["platform/v2/scripts/main.js"]);